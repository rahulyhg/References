(function (){ var e="",aa="\x00",h=" ",ba=" (",ca=" (Google)",da=" icon",ea=' name="',fa=' progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand", M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)',ha=' progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand", M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678) alpha(opacity=50)',ia=' type="',ja=" visibility",ka=" x ",la='"',ma='"trebuchet ms",verdana,arial,sans-serif',na="#",oa="#000",pa="#fff",qa="%",ra="%$1",
sa="%2525",ta="%s",l="&",va="&#0;",wa="&#39;",xa="&action=",ya="&amp;",za="&func=",Aa="&gt;",Ba="&lt;",Ca="&nbsp;",Da="&quot;",Ea="&sectionId=",Fa="&widgetId=",Ga="&widgetType=",Ha="'",Ia="' of type ",Ja="(",Ka="(\\d*)(\\D*)",La=")",Ma="*",Na=",",Oa="-140px",Pa="-225px",Qa=".",Ra=".01",Ta=".5",Ua=".js",Va=".previewMode .postCommentButtonHolder { padding-top: 22px; }\n",Wa=".x",Xa=".y",Ya="/",Za="//",$a="//img2.blogblog.com/img/icon_inprogress.gif",ab="/comment-iframe-bg.g",bb="/rearrange?blogID=",
cb="0",db="1",eb="100%",fb="1000",gb="10px",hb="1px solid #aaa",ib="1px solid transparent",jb="200px",kb="24px",lb="28px",mb="50% 0",nb="600px",ob="75px",pb=":",qb=": ",rb=";\nfont-family: ",sb=";}\n",tb="<",n="=",ub=">",vb="?",wb="?widgetId=",xb="@",yb="AIM",zb="AIM username:",Ab="ANON",Bb="ARIA attribute cannot be empty.",Cb="An error occurred while contacting the server.",Db="An object listener must have handleEvent method.",Eb="Anonymous",Fb="Assertion failed",Gb="BODY",Hb="CSS1Compat",Ib="CURRENT",
Jb="Comment should not be empty",Kb="Content length exceeds 1MB. Please abridge.",Lb="Content-Type",Mb="DIV",Nb="Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?",Ob="Expected number but got %s: %s.",Pb="Expected string but got %s: %s.",Qb="FIELDSET",Rb="GET",Sb="GOOGLE",Tb="Google Account",Ub="HEAD",Vb="INPUT",Wb="LJ",Xb="Listener can not be null.",Yb="LiveJournal",Zb="LiveJournal username:",$b="MSXML2.XMLHTTP",ac="MSXML2.XMLHTTP.3.0",bc="MSXML2.XMLHTTP.6.0",
cc="Microsoft Internet Explorer",dc="Microsoft.XMLHTTP",ec="NAMEURL",fc="NONE",gc="Name should not be empty",hc="Name/URL",ic="No such ARIA attribute expanded",jc="No such ARIA role tab",kc="Node cannot be null or undefined.",lc="OPENID",mc="OpenID",nc="POST",oc="Please choose a profile",pc="Preview",qc="SCRIPT",rc="STYLE",sc="SafeStyleSheet{",tc="Select profile...",uc="SubscribeByEmail",vc="TP",wc="The URL should not be empty",xc="The username should not be empty",yc="TypePad",zc="TypePad username:",
Ac="UnsubscribeByEmail",Bc="WP",Cc="WordPress",Dc="WordPress username:",Ec="X",Fc="[object Array]",Gc="[object Function]",Hc="[object Window]",Ic="]",Jc="_",Kc="_OnWidgetDeleted",Lc="__gjsload__",Mc="_asynchronousFileUploadIframe",Nc="_changeImageLink",Oc="_imageChoiceTable",Pc="_imgFileNameError",Qc="_imgFileNameInput",Rc="_imgSrcFromPCRadio",Sc="_imgSrcFromWebRadio",Tc="_imgUrlTextError",Uc="_imgUrlTextInput",Vc="_picImg",Wc="a",Xc="a:link, a:visited, a:active, a:hover { color: ",Yc="abort",Zc=
"absolute",$c="action",ad="action=",bd="additions text",cd="addnew",dd="ajaxAction",ed="allHolder",fd="alpha(opacity=1)",gd="animate",hd="anonNameField",id="anonUrlField",jd="application/x-www-form-urlencoded;charset=utf-8",kd="aria-",ld="aria-expanded",md="array",nd="arraybuffer",od="begin",pd="bgint",qd="bgresponse",rd="block",sd="blogID",td="blogger-clickTrap singleton-element",ud="blur",vd="body { color: ",wd="button",xd="call",yd="captcha-error",zd="center",Ad="change",Bd="checkbox",Cd="checked",
Dd="chooseWidget",Ed="class",Fd="click",Gd="commentBody-err",Hd="commentBodyField",Id="commentDash",Jd="commentForm",Kd="commentSubscriptionForm",Ld="compact",p="complete",Md="config",Nd="configure",Od="content-type",Pd="data-",Qd="default",Rd="delete",Sd="destroy",Td="disabled",Ud="display",Vd="displayModeFull",Wd="displayModeLayout",Xd="displayModeNone",Yd="displayModeSnippet",q="div",Zd="downloadprogress",$d="edit-link",ae="editButton",be="editlink",ce="encodedIds",de="encodedSelectedId",ee="end",
fe="error",ge="error-details",he="errorbox-bad errormsg",ie="errorbox-good",je="errormessage_",ke="event",le="expanded",me="expected object of type SafeStyleSheet, got '",ne="expression(this.parentNode.clientHeight)",oe="false",pe="file",qe="finish",re="focus",se="for",te="form",t="function",ue="g",ve="genericOpenIdDialogErrorHolder",we="genericOpenIdIdentityHolder",xe="goog-zippy-collapsed",ye="goog-zippy-content",ze="goog-zippy-expanded",Ae="goog-zippy-header",Be="goog.dom.setTextContent expects a non-null value for node",
Ce="goog.net.EventType.PROGRESS is of the same type as raw XHR progress.",De="hidden",Ee="href",Fe="http",Ge="http://",He="http://openid.aol.com/{username}",Ie="http://{username}.livejournal.com",Je="http://{username}.wordpress.com",Ke="https://profile.typepad.com/{username}",Le="id",Me="id-error",Ne="identity-type-",Oe="identityControlsHolder",Pe="identityHolder",Qe="identityMenu",Re="iemode",Se="image",Te="imageUpload.do",Ue="img",Ve="infinite loop",We="inline",Xe="input",Ye="keydown",Ze="keypress",
$e="keyup",af="layout-title",bf="layout-widget-description",cf="layout-widget-state ",df="layout-widget-title",ef="main-error",ff="main-error-holder",gf="main-status",hf="main-status-holder",jf="mouseout",kf="mouseover",lf="mozResponseArrayBuffer",mf="multipart/form-data",nf="nameUrlDialogErrorHolder",of="nameUrlIdentityHolder",pf="native code",qf="no type",rf="no widget for ",u="none",sf="not-visible",tf="null",uf="number",vf="o",wf="object",xf="off",yf="on",zf="oninput",Af="onprogress",Bf="openIdDialogErrorHolder",
Cf="openIdIdentityHolder",Df="openIdUriDisplayPrefix",Ef="openIdUriDisplaySuffix",Ff="openIdUriDisplayUsername",Gf="openIdUriField",Hf="openIdUserNameField",If="openIdUsernameLabel",Jf="option",Kf="overflow:hidden",Lf="page",Mf="pageID",Nf="play",Of="polyfill",Pf="postCommentPreview",Qf="postCommentSubmit",Rf="previewHolder",Sf="previewMode",Tf="progress",Uf="px",Vf="radio",Wf="ready",Xf="readystatechange",Yf="reset",Zf="response",$f="responseType=js",ag="resume",bg="role",cg="rotate(-45deg)",dg=
"sectionId",eg="sectionWidth",fg="security_token",gg="select",hg="select-multiple",ig="select-one",jg="set-comment-editor-height ",kg="settingsButton",lg="showPreview",mg="singleton-element",ng="span",og="splice",pg="status-message",qg="status-message-inner",rg="stop",sg="string",tg="style",ug="submit",vg="subscribeButtonHolder",wg="success",xg="tab",yg="text",zg="text/javascript",Ag="textContent",Bg="timeout",Cg="title",Dg="toggle",Eg="true",Fg="type_error:SafeStyleSheet",Gg="uploadprogress",Hg=
"use",Ig="username",Jg="var ",Kg="vertical",Lg="viewBox",Mg="visible",Ng="white",Og="widget-content",Pg="widget-wrap1",Qg="widget-wrap2",Rg="widget-wrap3",Sg="widgetId=",Tg="widgetType",Ug="widgetType=",Vg="width=570,height=600,left=75,top=20,resizable=yes,scrollbars=yes",Wg="window",Xg="withCredentials",Yg="xlink:href",Zg="{username}",$g="}",v,ah=ah||{},w=this,x=function(a){return void 0!==a},y=function(a,b,c){a=a.split(Qa);c=c||w;a[0]in c||!c.execScript||c.execScript(Jg+a[0]);for(var d;a.length&&
(d=a.shift());)!a.length&&x(b)?c[d]=b:c=c[d]?c[d]:c[d]={}},bh=function(){},ch=function(a){a.getInstance=function(){return a.instance_?a.instance_:a.instance_=new a}},dh=function(a){var b=typeof a;if(b==wf)if(a){if(a instanceof Array)return md;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c==Hc)return wf;if(c==Fc||typeof a.length==uf&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(og))return md;if(c==Gc||"undefined"!=typeof a.call&&
"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(xd))return t}else return tf;else if(b==t&&"undefined"==typeof a.call)return wf;return b},z=function(a){return dh(a)==md},eh=function(a){var b=dh(a);return b==md||b==wf&&typeof a.length==uf},A=function(a){return typeof a==sg},fh=function(a){return typeof a==uf},gh=function(a){return dh(a)==t},hh=function(a){var b=typeof a;return b==wf&&null!=a||b==t},ih="closure_uid_"+(1E9*Math.random()>>>0),jh=0,kh=function(a,b,c){return a.call.apply(a.bind,
arguments)},lh=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},B=function(a,b,c){B=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(pf)?kh:lh;return B.apply(null,arguments)},mh=Date.now||function(){return+new Date},C=function(a,b){function c(){}c.prototype=
b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,g){for(var k=Array(arguments.length-2),m=2;m<arguments.length;m++)k[m-2]=arguments[m];return b.prototype[c].apply(a,k)}};var nh=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,nh);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};C(nh,Error);nh.prototype.name="CustomError";var oh;var ph=function(a,b){for(var c=a.split(ta),d=e,f=Array.prototype.slice.call(arguments,1);f.length&&1<c.length;)d+=c.shift()+f.shift();return d+c.join(ta)},qh=function(a){return a.replace(/(\r\n|\r|\n)+/g,h)},rh=function(a){return a.replace(/\xa0|[ \t]+/g,h)},sh=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,e)},Ah=function(a,b){if(b)a=a.replace(th,ya).replace(uh,Ba).replace(vh,Aa).replace(wh,Da).replace(xh,wa).replace(yh,va);else{if(!zh.test(a))return a;
-1!=a.indexOf(l)&&(a=a.replace(th,ya));-1!=a.indexOf(tb)&&(a=a.replace(uh,Ba));-1!=a.indexOf(ub)&&(a=a.replace(vh,Aa));-1!=a.indexOf(la)&&(a=a.replace(wh,Da));-1!=a.indexOf(Ha)&&(a=a.replace(xh,wa));-1!=a.indexOf(aa)&&(a=a.replace(yh,va))}return a},th=/&/g,uh=/</g,vh=/>/g,wh=/"/g,xh=/'/g,yh=/\x00/g,zh=/[\x00&<>"']/,Bh=function(a,b){return a<b?-1:a>b?1:0};var Ch=function(a,b){b.unshift(a);nh.call(this,ph.apply(null,b));b.shift()};C(Ch,nh);Ch.prototype.name="AssertionError";
var Dh=function(a,b,c,d){var f=Fb;if(c)var f=f+(qb+c),g=d;else a&&(f+=qb+a,g=b);throw new Ch(e+f,g||[]);},D=function(a,b,c){a||Dh(e,null,b,Array.prototype.slice.call(arguments,2));return a},Eh=function(a,b){throw new Ch("Failure"+(a?qb+a:e),Array.prototype.slice.call(arguments,1));},E=function(a,b,c){fh(a)||Dh(Ob,[dh(a),a],b,Array.prototype.slice.call(arguments,2));return a},Fh=function(a,b,c){A(a)||Dh(Pb,[dh(a),a],b,Array.prototype.slice.call(arguments,2));return a};var Gh=Array.prototype.indexOf?function(a,b,c){D(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(A(a))return A(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Hh=Array.prototype.lastIndexOf?function(a,b,c){D(null!=a.length);return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(A(a))return A(b)&&1==
b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Ih=Array.prototype.forEach?function(a,b,c){D(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=A(a)?a.split(e):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Jh=Array.prototype.filter?function(a,b,c){D(null!=a.length);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,k=A(a)?a.split(e):a,m=0;m<d;m++)if(m in k){var r=k[m];b.call(c,r,m,a)&&(f[g++]=
r)}return f},Kh=Array.prototype.some?function(a,b,c){D(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=A(a)?a.split(e):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return!0;return!1},Lh=function(a,b,c){a:{for(var d=a.length,f=A(a)?a.split(e):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a)){b=g;break a}b=-1}return 0>b?null:A(a)?a.charAt(b):a[b]},F=function(a,b){return 0<=Gh(a,b)},Mh=function(a){if(!z(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},
Oh=function(a,b){var c=Gh(a,b),d;(d=0<=c)&&Nh(a,c);return d},Nh=function(a,b){D(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length},Ph=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Qh=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Rh=function(a,b,c){D(null!=a.length);return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};var Sh=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Th=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Uh=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Vh=function(a,b){return null!==a&&b in a},Wh=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1},Xh=function(a){for(var b in a)return!1;return!0},Yh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Zh=function(a,b){for(var c,d,f=1;f<arguments.length;f++){d=
arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Yh.length;g++)c=Yh[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var G;a:{var $h=w.navigator;if($h){var ai=$h.userAgent;if(ai){G=ai;break a}}G=e};var ci=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e;this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=bi},bi={};ci.prototype.toString=function(){return sc+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+$g};ci.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=a;return this};var di=function(a,b){this.width=a;this.height=b};v=di.prototype;v.clone=function(){return new di(this.width,this.height)};v.toString=function(){return Ja+this.width+ka+this.height+La};v.area=function(){return this.width*this.height};v.isEmpty=function(){return!this.area()};v.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var ei=-1!=G.indexOf("Opera"),H=-1!=G.indexOf("Trident")||-1!=G.indexOf("MSIE"),fi=-1!=G.indexOf("Edge"),gi=-1!=G.indexOf("Gecko")&&!(-1!=G.toLowerCase().indexOf("webkit")&&-1==G.indexOf("Edge"))&&!(-1!=G.indexOf("Trident")||-1!=G.indexOf("MSIE"))&&-1==G.indexOf("Edge"),hi=-1!=G.toLowerCase().indexOf("webkit")&&-1==G.indexOf("Edge"),ii=function(){var a=w.document;return a?a.documentMode:void 0},ji;
a:{var ki=e,li=function(){var a=G;if(gi)return/rv\:([^\);]+)(\)|;)/.exec(a);if(fi)return/Edge\/([\d\.]+)/.exec(a);if(H)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(hi)return/WebKit\/(\S+)/.exec(a);if(ei)return/(?:Version)[ \/]?(\S+)/.exec(a)}();li&&(ki=li?li[1]:e);if(H){var mi=ii();if(null!=mi&&mi>parseFloat(ki)){ji=String(mi);break a}}ji=ki}
var ni=ji,oi={},I=function(a){var b;if(!(b=oi[a])){b=0;for(var c=sh(String(ni)).split(Qa),d=sh(String(a)).split(Qa),f=Math.max(c.length,d.length),g=0;0==b&&g<f;g++){var k=c[g]||e,m=d[g]||e,r=RegExp(Ka,ue),ua=RegExp(Ka,ue);do{var Y=r.exec(k)||[e,e,e],Sa=ua.exec(m)||[e,e,e];if(0==Y[0].length&&0==Sa[0].length)break;b=Bh(0==Y[1].length?0:parseInt(Y[1],10),0==Sa[1].length?0:parseInt(Sa[1],10))||Bh(0==Y[2].length,0==Sa[2].length)||Bh(Y[2],Sa[2])}while(0==b)}b=oi[a]=0<=b}return b},pi=w.document,qi=pi&&H?
ii()||(pi.compatMode==Hb?parseInt(ni,10):5):void 0;var ri=!H||9<=Number(qi);!gi&&!H||H&&9<=Number(qi)||gi&&I("1.9.1");H&&I("9");var ui=function(a){return a?new si(ti(a)):oh||(oh=new si)},J=function(a){return A(a)?document.getElementById(a):a},wi=function(a,b){Sh(b,function(b,d){d==tg?a.style.cssText=b:d==Ed?a.className=b:d==se?a.htmlFor=b:vi.hasOwnProperty(d)?a.setAttribute(vi[d],b):0==d.lastIndexOf(kd,0)||0==d.lastIndexOf(Pd,0)?a.setAttribute(d,b):a[d]=b})},vi={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:bg,rowspan:"rowSpan",
type:"type",usemap:"useMap",valign:"vAlign",width:"width"},yi=function(a,b,c){return xi(document,arguments)},xi=function(a,b){var c=b[0],d=b[1];if(!ri&&d&&(d.name||d.type)){c=[tb,c];d.name&&c.push(ea,Ah(d.name),la);if(d.type){c.push(ia,Ah(d.type),la);var f={};Zh(f,d);delete f.type;d=f}c.push(ub);c=c.join(e)}c=a.createElement(c);d&&(A(d)?c.className=d:z(d)?c.className=d.join(h):wi(c,d));2<b.length&&zi(a,c,b,2);return c},zi=function(a,b,c,d){function f(c){c&&b.appendChild(A(c)?a.createTextNode(c):c)}
for(;d<c.length;d++){var g=c[d];!eh(g)||hh(g)&&0<g.nodeType?f(g):Ih(Ai(g)?Qh(g):g,f)}},Bi=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},ti=function(a){D(a,kc);return 9==a.nodeType?a:a.ownerDocument||a.document},Ai=function(a){if(a&&typeof a.length==uf){if(hh(a))return typeof a.item==t||typeof a.item==sg;if(gh(a))return typeof a.item==t}return!1},si=function(a){this.document_=a||w.document||document};v=si.prototype;v.getElement=function(a){return A(a)?this.document_.getElementById(a):a};
v.getElementsByTagNameAndClass=function(a,b,c){c=c||this.document_;a=a&&a!=Ma?a.toUpperCase():e;if(c.querySelectorAll&&c.querySelector&&(a||b))b=c.querySelectorAll(a+(b?Qa+b:e));else if(b&&c.getElementsByClassName)if(c=c.getElementsByClassName(b),a){for(var d={},f=0,g=0,k;k=c[g];g++)a==k.nodeName&&(d[f++]=k);d.length=f;b=d}else b=c;else if(c=c.getElementsByTagName(a||Ma),b){d={};for(g=f=0;k=c[g];g++)a=k.className,typeof a.split==t&&F(a.split(/\s+/),b)&&(d[f++]=k);d.length=f;b=d}else b=c;return b};
v.createDom=function(a,b,c){return xi(this.document_,arguments)};v.createElement=function(a){return this.document_.createElement(a)};v.createTextNode=function(a){return this.document_.createTextNode(String(a))};v.appendChild=function(a,b){a.appendChild(b)};v.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};var K=function(){this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};K.prototype.disposed_=!1;K.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};K.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};var Ci=function(a){a&&typeof a.dispose==t&&a.dispose()};var L=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};L.prototype.stopPropagation=function(){this.propagationStopped_=!0};L.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};var Di=function(a){Di[h](a);return a};Di[h]=bh;var Ei=!H||9<=Number(qi),Fi=H&&!I("9");!hi||I("528");gi&&I("1.9b")||H&&I("8")||ei&&I("9.5")||hi&&I("528");gi&&!I("8")||H&&I("9");var M=function(a,b){L.call(this,a?a.type:e);this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.event_=this.state=null;a&&this.init(a,b)};C(M,L);
M.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var f=a.relatedTarget;if(f){if(gi){var g;a:{try{Di(f.nodeName);g=!0;break a}catch(k){}g=!1}g||(f=null)}}else c==kf?f=a.fromElement:c==jf&&(f=a.toElement);this.relatedTarget=f;null===d?(this.offsetX=hi||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=hi||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=
void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c==Ze?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()};
M.prototype.stopPropagation=function(){M.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};M.prototype.preventDefault=function(){M.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Fi)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Gi="closure_listenable_"+(1E6*Math.random()|0),Hi=function(a){return!(!a||!a[Gi])},Ii=0;var Ji=function(a,b,c,d,f,g){this.listener=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!f;this.handler=g;this.key=++Ii;this.removed=this.callOnce=!1};Ji.prototype.markAsRemoved=function(){this.removed=!0;this.handler=this.src=this.proxy=this.listener=null};var Ki=function(a){this.src=a;this.listeners={};this.typeCount_=0};v=Ki.prototype;v.add=function(a,b,c,d,f){var g=a.toString();a=this.listeners[g];a||(a=this.listeners[g]=[],this.typeCount_++);var k=Li(a,b,d,f);-1<k?(b=a[k],c||(b.callOnce=!1)):(b=new Ji(b,null,this.src,g,!!d,f),b.callOnce=c,a.push(b));return b};
v.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var f=this.listeners[a];b=Li(f,b,c,d);return-1<b?(f[b].markAsRemoved(),Nh(f,b),0==f.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};v.removeByKey=function(a){var b=a.type;if(!(b in this.listeners))return!1;var c=Oh(this.listeners[b],a);c&&(a.markAsRemoved(),0==this.listeners[b].length&&(delete this.listeners[b],this.typeCount_--));return c};
v.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],f=0;f<d.length;f++)++b,d[f].markAsRemoved();delete this.listeners[c];this.typeCount_--}return b};v.getListener=function(a,b,c,d){a=this.listeners[a.toString()];var f=-1;a&&(f=Li(a,b,c,d));return-1<f?a[f]:null};var Li=function(a,b,c,d){for(var f=0;f<a.length;++f){var g=a[f];if(!g.removed&&g.listener==b&&g.capture==!!c&&g.handler==d)return f}return-1};var Mi="closure_lm_"+(1E6*Math.random()|0),Ni={},Oi=0,N=function(a,b,c,d,f){if(z(b)){for(var g=0;g<b.length;g++)N(a,b[g],c,d,f);return null}c=Pi(c);return Hi(a)?a.listen(b,c,d,f):Qi(a,b,c,!1,d,f)},Qi=function(a,b,c,d,f,g){if(!b)throw Error("Invalid event type");var k=!!f,m=Ri(a);m||(a[Mi]=m=new Ki(a));c=m.add(b,c,d,f,g);if(c.proxy)return c;d=Si();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,k);else if(a.attachEvent)a.attachEvent(Ti(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
Oi++;return c},Si=function(){var a=Ui,b=Ei?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Vi=function(a,b,c,d,f){if(z(b)){for(var g=0;g<b.length;g++)Vi(a,b[g],c,d,f);return null}c=Pi(c);return Hi(a)?a.listenOnce(b,c,d,f):Qi(a,b,c,!0,d,f)},Wi=function(a,b,c,d,f){if(z(b)){for(var g=0;g<b.length;g++)Wi(a,b[g],c,d,f);return null}c=Pi(c);if(Hi(a))return a.unlisten(b,c,d,f);if(!a)return!1;if(a=Ri(a))if(b=a.getListener(b,c,!!d,f))return Xi(b);
return!1},Xi=function(a){if(fh(a)||!a||a.removed)return!1;var b=a.src;if(Hi(b))return b.unlistenByKey(a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(Ti(c),d);Oi--;(c=Ri(b))?(c.removeByKey(a),0==c.typeCount_&&(c.src=null,b[Mi]=null)):a.markAsRemoved();return!0},Yi=function(a,b){if(!a)return 0;if(Hi(a))return a.removeAllListeners(b);var c=Ri(a);if(!c)return 0;var d=0,f=b&&b.toString(),g;for(g in c.listeners)if(!f||g==f)for(var k=c.listeners[g].concat(),
m=0;m<k.length;++m)Xi(k[m])&&++d;return d},Ti=function(a){return a in Ni?Ni[a]:Ni[a]=yf+a},$i=function(a,b,c,d){var f=!0;if(a=Ri(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.capture==c&&!g.removed&&(g=Zi(g,d),f=f&&!1!==g)}return f},Zi=function(a,b){var c=a.listener,d=a.handler||a.src;a.callOnce&&Xi(a);return c.call(d,b)},Ui=function(a,b){if(a.removed)return!0;if(!Ei){var c;if(!(c=b))a:{c=[Wg,ke];for(var d=w,f;f=c.shift();)if(null!=d[f])d=d[f];else{c=null;
break a}c=d}f=c;c=new M(f,this);d=!0;if(!(0>f.keyCode||void 0!=f.returnValue)){a:{var g=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(r){g=!0}if(g||void 0==f.returnValue)f.returnValue=!0}f=[];for(g=c.currentTarget;g;g=g.parentNode)f.push(g);for(var g=a.type,k=f.length-1;!c.propagationStopped_&&0<=k;k--){c.currentTarget=f[k];var m=$i(f[k],g,!0,c),d=d&&m}for(k=0;!c.propagationStopped_&&k<f.length;k++)c.currentTarget=f[k],m=$i(f[k],g,!1,c),d=d&&m}return d}return Zi(a,new M(b,this))},Ri=function(a){a=
a[Mi];return a instanceof Ki?a:null},aj="__closure_events_fn_"+(1E9*Math.random()>>>0),Pi=function(a){D(a,Xb);if(gh(a))return a;D(a.handleEvent,Db);a[aj]||(a[aj]=function(b){return a.handleEvent(b)});return a[aj]};var O=function(){K.call(this);this.eventTargetListeners_=new Ki(this);this.actualEventTarget_=this;this.parentEventTarget_=null};C(O,K);O.prototype[Gi]=!0;v=O.prototype;v.addEventListener=function(a,b,c,d){N(this,a,b,c,d)};v.removeEventListener=function(a,b,c,d){Wi(this,a,b,c,d)};
v.dispatchEvent=function(a){this.assertInitialized_();var b,c=this.parentEventTarget_;if(c){b=[];for(var d=1;c;c=c.parentEventTarget_)b.push(c),D(1E3>++d,Ve)}c=this.actualEventTarget_;d=a.type||a;if(A(a))a=new L(a,c);else if(a instanceof L)a.target=a.target||c;else{var f=a;a=new L(d,c);Zh(a,f)}var f=!0,g;if(b)for(var k=b.length-1;!a.propagationStopped_&&0<=k;k--)g=a.currentTarget=b[k],f=g.fireListeners(d,!0,a)&&f;a.propagationStopped_||(g=a.currentTarget=c,f=g.fireListeners(d,!0,a)&&f,a.propagationStopped_||
(f=g.fireListeners(d,!1,a)&&f));if(b)for(k=0;!a.propagationStopped_&&k<b.length;k++)g=a.currentTarget=b[k],f=g.fireListeners(d,!1,a)&&f;return f};v.disposeInternal=function(){O.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=null};v.listen=function(a,b,c,d){this.assertInitialized_();return this.eventTargetListeners_.add(String(a),b,!1,c,d)};v.listenOnce=function(a,b,c,d){return this.eventTargetListeners_.add(String(a),b,!0,c,d)};
v.unlisten=function(a,b,c,d){return this.eventTargetListeners_.remove(String(a),b,c,d)};v.unlistenByKey=function(a){return this.eventTargetListeners_.removeByKey(a)};v.removeAllListeners=function(a){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(a):0};
v.fireListeners=function(a,b,c){a=this.eventTargetListeners_.listeners[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,f=0;f<a.length;++f){var g=a[f];if(g&&!g.removed&&g.capture==b){var k=g.listener,m=g.handler||g.src;g.callOnce&&this.unlistenByKey(g);d=!1!==k.call(m,c)&&d}}return d&&0!=c.returnValue_};v.getListener=function(a,b,c,d){return this.eventTargetListeners_.getListener(String(a),b,c,d)};v.assertInitialized_=function(){D(this.eventTargetListeners_,Nb)};var bj=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,xb).replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,Ic).replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,e)))try{return eval(Ja+a+La)}catch(b){}throw Error("Invalid JSON string: "+a);};var cj=function(a){return a};var dj="StopIteration"in w?w.StopIteration:{message:"StopIteration",stack:e},ej=function(){};ej.prototype.next=function(){throw dj;};ej.prototype.__iterator__=function(){return this};var fj=function(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};v=fj.prototype;v.getCount=function(){return this.count_};v.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};v.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};
v.containsKey=function(a){return gj(this.map_,a)};v.isEmpty=function(){return 0==this.count_};v.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};v.remove=function(a){return gj(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1};
v.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];gj(this.map_,c)&&(this.keys_[b++]=c);a++}this.keys_.length=b}if(this.count_!=this.keys_.length){for(var d={},b=a=0;a<this.keys_.length;)c=this.keys_[a],gj(d,c)||(this.keys_[b++]=c,d[c]=1),a++;this.keys_.length=b}};v.get=function(a,b){return gj(this.map_,a)?this.map_[a]:b};v.set=function(a,b){gj(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
v.addAll=function(a){var b;a instanceof fj?(b=a.getKeys(),a=a.getValues()):(b=Uh(a),a=Th(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};v.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var f=c[d],g=this.get(f);a.call(b,g,f,this)}};v.clone=function(){return new fj(this)};
v.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.version_,d=this,f=new ej;f.next=function(){if(c!=d.version_)throw Error("The map has changed since the iterator was created");if(b>=d.keys_.length)throw dj;var f=d.keys_[b++];return a?f:d.map_[f]};return f};var gj=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var hj=function(a){if(a.getValues&&typeof a.getValues==t)return a.getValues();if(A(a))return a.split(e);if(eh(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Th(a)},ij=function(a,b,c){if(a.forEach&&typeof a.forEach==t)a.forEach(b,c);else if(eh(a)||A(a))Ih(a,b,c);else{var d;if(a.getKeys&&typeof a.getKeys==t)d=a.getKeys();else if(a.getValues&&typeof a.getValues==t)d=void 0;else if(eh(a)||A(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=Uh(a);for(var f=hj(a),g=f.length,
k=0;k<g;k++)b.call(c,f[k],d&&d[k],a)}};var jj=function(a){this.map_=new fj;a&&this.addAll(a)},kj=function(a){var b=typeof a;return b==wf&&a||b==t?vf+(a[ih]||(a[ih]=++jh)):b.substr(0,1)+a};v=jj.prototype;v.getCount=function(){return this.map_.getCount()};v.add=function(a){this.map_.set(kj(a),a)};v.addAll=function(a){a=hj(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};v.removeAll=function(a){a=hj(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};v.remove=function(a){return this.map_.remove(kj(a))};v.clear=function(){this.map_.clear()};
v.isEmpty=function(){return this.map_.isEmpty()};v.contains=function(a){return this.map_.containsKey(kj(a))};v.getValues=function(){return this.map_.getValues()};v.clone=function(){return new jj(this)};v.__iterator__=function(){return this.map_.__iterator__(!1)};var lj=function(a,b,c){if(gh(a))c&&(a=B(a,c));else if(a&&typeof a.handleEvent==t)a=B(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:w.setTimeout(a,b||0)};var mj=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,nj=function(a,b){if(a)for(var c=a.split(l),d=0;d<c.length;d++){var f=c[d].indexOf(n),g=null,k=null;0<=f?(g=c[d].substring(0,f),k=c[d].substring(f+1)):g=c[d];b(g,k?decodeURIComponent(k.replace(/\+/g,h)):e)}};var oj=function(){};oj.prototype.cachedOptions_=null;oj.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};var pj,qj=function(){};C(qj,oj);qj.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};qj.prototype.internalGetOptions=function(){var a={};this.getProgId_()&&(a[0]=!0,a[1]=!0);return a};
qj.prototype.getProgId_=function(){if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=[bc,ac,$b,dc],b=0;b<a.length;b++){var c=a[b];try{return new ActiveXObject(c),this.ieProgId_=c}catch(d){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return this.ieProgId_};pj=new qj;var P=function(a){O.call(this);this.headers=new fj;this.xmlHttpFactory_=a||null;this.active_=!1;this.xhrOptions_=this.xhr_=null;this.lastUri_=e;this.lastErrorCode_=0;this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=!1;this.timeoutInterval_=0;this.timeoutId_=null;this.responseType_=e;this.useXhr2Timeout_=this.progressEventsEnabled_=this.withCredentials_=!1};C(P,O);
var rj=/^https?$/i,sj=[nc,"PUT"],tj=[],uj=function(a,b,c,d,f,g,k){var m=new P;tj.push(m);b&&m.listen(p,b);m.listenOnce(Wf,m.cleanupSend_);g&&m.setTimeoutInterval(g);k&&m.setWithCredentials(k);m.send(a,c,d,f);return m};v=P.prototype;v.cleanupSend_=function(){this.dispose();Oh(tj,this)};v.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};v.setResponseType=function(a){this.responseType_=a};v.setWithCredentials=function(a){this.withCredentials_=a};
v.send=function(a,b,c,d){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a);b=b?b.toUpperCase():Rb;this.lastUri_=a;this.lastErrorCode_=0;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():pj.getOptions();this.xhr_.onreadystatechange=B(this.onReadyStateChange_,this);this.progressEventsEnabled_&&Af in this.xhr_&&(this.xhr_.onprogress=B(function(a){this.onProgressHandler_(a,
!0)},this),this.xhr_.upload&&(this.xhr_.upload.onprogress=B(this.onProgressHandler_,this)));try{this.inOpen_=!0,this.xhr_.open(b,String(a),!0),this.inOpen_=!1}catch(g){this.error_(5,g);return}a=c||e;var f=this.headers.clone();d&&ij(d,function(a,b){f.set(b,a)});d=Lh(f.getKeys(),vj);c=w.FormData&&a instanceof w.FormData;!F(sj,b)||d||c||f.set(Lb,jd);f.forEach(function(a,b){this.xhr_.setRequestHeader(b,a)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);Vh(this.xhr_,Xg)&&(this.xhr_.withCredentials=
this.withCredentials_);try{this.cleanUpTimeoutTimer_(),0<this.timeoutInterval_&&((this.useXhr2Timeout_=wj(this.xhr_))?(this.xhr_.timeout=this.timeoutInterval_,this.xhr_.ontimeout=B(this.timeout_,this)):this.timeoutId_=lj(this.timeout_,this.timeoutInterval_,this)),this.inSend_=!0,this.xhr_.send(a),this.inSend_=!1}catch(g){this.error_(5,g)}};var wj=function(a){return H&&I(9)&&fh(a.timeout)&&x(a.ontimeout)},vj=function(a){return Od==a.toLowerCase()};v=P.prototype;
v.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():pj.createInstance()};v.timeout_=function(){"undefined"!=typeof ah&&this.xhr_&&(this.lastErrorCode_=8,this.dispatchEvent(Bg),this.abort(8))};v.error_=function(a){this.active_=!1;this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1);this.lastErrorCode_=a;this.dispatchErrors_();this.cleanUpXhr_()};v.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent(p),this.dispatchEvent(fe))};
v.abort=function(a){this.xhr_&&this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=a||7,this.dispatchEvent(p),this.dispatchEvent(Yc),this.cleanUpXhr_())};v.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0));P.superClass_.disposeInternal.call(this)};
v.onReadyStateChange_=function(){if(!this.disposed_)if(this.inOpen_||this.inSend_||this.inAbort_)this.onReadyStateChangeHelper_();else this.onReadyStateChangeEntryPoint_()};v.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};
v.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof ah&&(!this.xhrOptions_[1]||4!=this.getReadyState()||2!=this.getStatus()))if(this.inSend_&&4==this.getReadyState())lj(this.onReadyStateChange_,0,this);else if(this.dispatchEvent(Xf),this.isComplete()){this.active_=!1;try{this.isSuccess()?(this.dispatchEvent(p),this.dispatchEvent(wg)):(this.lastErrorCode_=6,this.dispatchErrors_())}finally{this.cleanUpXhr_()}}};
v.onProgressHandler_=function(a,b){D(a.type===Tf,Ce);this.dispatchEvent(xj(a,Tf));this.dispatchEvent(xj(a,b?Zd:Gg))};var xj=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}};v=P.prototype;v.cleanUpXhr_=function(a){if(this.xhr_){this.cleanUpTimeoutTimer_();var b=this.xhr_,c=this.xhrOptions_[0]?bh:null;this.xhrOptions_=this.xhr_=null;a||this.dispatchEvent(Wf);try{b.onreadystatechange=c}catch(d){}}};
v.cleanUpTimeoutTimer_=function(){this.xhr_&&this.useXhr2Timeout_&&(this.xhr_.ontimeout=null);fh(this.timeoutId_)&&(w.clearTimeout(this.timeoutId_),this.timeoutId_=null)};v.isActive=function(){return!!this.xhr_};v.isComplete=function(){return 4==this.getReadyState()};v.isSuccess=function(){var a=this.getStatus(),b;a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:b=!0;break a;default:b=!1}return b||0===a&&!this.isLastUriEffectiveSchemeHttp_()};
v.isLastUriEffectiveSchemeHttp_=function(){var a=String(this.lastUri_).match(mj)[1]||null;!a&&w.self&&w.self.location&&(a=w.self.location.protocol,a=a.substr(0,a.length-1));return rj.test(a?a.toLowerCase():e)};v.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};v.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_.status:-1}catch(a){return-1}};v.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:e}catch(a){return e}};
v.getResponseJson=function(a){if(this.xhr_){var b=this.xhr_.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));return bj(b)}};v.getResponse=function(){try{if(!this.xhr_)return null;if(Zf in this.xhr_)return this.xhr_.response;switch(this.responseType_){case e:case yg:return this.xhr_.responseText;case nd:if(lf in this.xhr_)return this.xhr_.mozResponseArrayBuffer}return null}catch(a){return null}};var yj=function(){};yj.prototype.getOptionValue=function(){return fc};yj.prototype.makeIdentityEditFormController=function(){return null};var zj=function(a){this.label=a};C(zj,yj);zj.prototype.getLabel=function(){return this.label};var Q=function(a,b){this.label=b;this.value=a.getOptionValue();this.factory=a};C(Q,yj);Q.prototype.getLabel=function(){return this.label};Q.prototype.getOptionValue=function(){return this.value};Q.prototype.encode=function(){return this.factory.encode()+n};Q.prototype.makeIdentityEditFormController=function(){return new Aj(this)};var R=function(){};C(R,yj);R.prototype.encode=function(){return encodeURIComponent(this.getOptionValue())};R.prototype.makeIdentityEditFormController=function(){return null};var Bj=function(a){Q.call(this,a,a.getLabel())};C(Bj,Q);var Cj=function(){};C(Cj,R);Cj.prototype.getLabel=function(){return Eb};Cj.prototype.getOptionValue=function(){return Ab};Cj.prototype.decode=function(){return new Bj(this)};var Dj=function(a,b){this.domain_=this.userInfo_=this.scheme_=e;this.port_=null;this.fragment_=this.path_=e;this.ignoreCase_=this.isReadOnly_=!1;var c;a instanceof Dj?(this.ignoreCase_=x(b)?b:a.ignoreCase_,this.setScheme(a.scheme_),this.setUserInfo(a.userInfo_),this.setDomain(a.domain_),this.setPort(a.port_),this.setPath(a.getPath()),this.setQueryData(a.queryData_.clone()),this.setFragment(a.fragment_)):a&&(c=String(a).match(mj))?(this.ignoreCase_=!!b,this.setScheme(c[1]||e,!0),this.setUserInfo(c[2]||
e,!0),this.setDomain(c[3]||e,!0),this.setPort(c[4]),this.setPath(c[5]||e,!0),this.setQueryData(c[6]||e,!0),this.setFragment(c[7]||e,!0)):(this.ignoreCase_=!!b,this.queryData_=new Ej(null,null,this.ignoreCase_))};v=Dj.prototype;
v.toString=function(){var a=[],b=this.scheme_;b&&a.push(Fj(b,Gj,!0),pb);var c=this.domain_;if(c||b==pe)a.push(Za),(b=this.userInfo_)&&a.push(Fj(b,Gj,!0),xb),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,ra)),c=this.port_,null!=c&&a.push(pb,String(c));if(c=this.getPath())this.hasDomain()&&c.charAt(0)!=Ya&&a.push(Ya),a.push(Fj(c,c.charAt(0)==Ya?Hj:Ij,!0));(c=this.getEncodedQuery())&&a.push(vb,c);(c=this.fragment_)&&a.push(na,Fj(c,Jj));return a.join(e)};v.clone=function(){return new Dj(this)};
v.setScheme=function(a,b){this.enforceReadOnly();if(this.scheme_=b?Kj(a,!0):a)this.scheme_=this.scheme_.replace(/:$/,e);return this};v.setUserInfo=function(a,b){this.enforceReadOnly();this.userInfo_=b?Kj(a):a;return this};v.setDomain=function(a,b){this.enforceReadOnly();this.domain_=b?Kj(a,!0):a;return this};v.hasDomain=function(){return!!this.domain_};
v.setPort=function(a){this.enforceReadOnly();if(a){a=Number(a);if(isNaN(a)||0>a)throw Error("Bad port number "+a);this.port_=a}else this.port_=null;return this};v.getPath=function(){return this.path_};v.setPath=function(a,b){this.enforceReadOnly();this.path_=b?Kj(a,!0):a;return this};v.setQueryData=function(a,b){this.enforceReadOnly();a instanceof Ej?(this.queryData_=a,this.queryData_.setIgnoreCase(this.ignoreCase_)):(b||(a=Fj(a,Lj)),this.queryData_=new Ej(a,null,this.ignoreCase_));return this};
v.getEncodedQuery=function(){return this.queryData_.toString()};v.setParameterValue=function(a,b){this.enforceReadOnly();this.queryData_.set(a,b);return this};v.setFragment=function(a,b){this.enforceReadOnly();this.fragment_=b?Kj(a):a;return this};v.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri");};v.setIgnoreCase=function(a){this.ignoreCase_=a;this.queryData_&&this.queryData_.setIgnoreCase(a);return this};
var Kj=function(a,b){return a?b?decodeURI(a.replace(/%25/g,sa)):decodeURIComponent(a):e},Fj=function(a,b,c){return A(a)?(a=encodeURI(a).replace(b,Mj),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,ra)),a):null},Mj=function(a){a=a.charCodeAt(0);return qa+(a>>4&15).toString(16)+(a&15).toString(16)},Gj=/[#\/\?@]/g,Ij=/[\#\?:]/g,Hj=/[\#\?]/g,Lj=/[\#\?@]/g,Jj=/#/g,Ej=function(a,b,c){this.count_=this.keyMap_=null;this.encodedQuery_=a||null;this.ignoreCase_=!!c};v=Ej.prototype;
v.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_=new fj,this.count_=0,this.encodedQuery_)){var a=this;nj(this.encodedQuery_,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g,h)),c)})}};v.getCount=function(){this.ensureKeyMapInitialized_();return this.count_};v.add=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);var c=this.keyMap_.get(a);c||this.keyMap_.set(a,c=[]);c.push(b);this.count_=E(this.count_)+1;return this};
v.remove=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);return this.keyMap_.containsKey(a)?(this.invalidateCache_(),this.count_=E(this.count_)-this.keyMap_.get(a).length,this.keyMap_.remove(a)):!1};v.clear=function(){this.invalidateCache_();this.keyMap_=null;this.count_=0};v.isEmpty=function(){this.ensureKeyMapInitialized_();return 0==this.count_};v.containsKey=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);return this.keyMap_.containsKey(a)};
v.getKeys=function(){this.ensureKeyMapInitialized_();for(var a=this.keyMap_.getValues(),b=this.keyMap_.getKeys(),c=[],d=0;d<b.length;d++)for(var f=a[d],g=0;g<f.length;g++)c.push(b[d]);return c};v.getValues=function(a){this.ensureKeyMapInitialized_();var b=[];if(A(a))this.containsKey(a)&&(b=Ph(b,this.keyMap_.get(this.getKeyName_(a))));else{a=this.keyMap_.getValues();for(var c=0;c<a.length;c++)b=Ph(b,a[c])}return b};
v.set=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);this.containsKey(a)&&(this.count_=E(this.count_)-this.keyMap_.get(a).length);this.keyMap_.set(a,[b]);this.count_=E(this.count_)+1;return this};v.get=function(a,b){var c=a?this.getValues(a):[];return 0<c.length?String(c[0]):b};v.setValues=function(a,b){this.remove(a);0<b.length&&(this.invalidateCache_(),this.keyMap_.set(this.getKeyName_(a),Qh(b)),this.count_=E(this.count_)+b.length)};
v.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return e;for(var a=[],b=this.keyMap_.getKeys(),c=0;c<b.length;c++)for(var d=b[c],f=encodeURIComponent(String(d)),d=this.getValues(d),g=0;g<d.length;g++){var k=f;d[g]!==e&&(k+=n+encodeURIComponent(String(d[g])));a.push(k)}return this.encodedQuery_=a.join(l)};v.invalidateCache_=function(){this.encodedQuery_=null};
v.clone=function(){var a=new Ej;a.encodedQuery_=this.encodedQuery_;this.keyMap_&&(a.keyMap_=this.keyMap_.clone(),a.count_=this.count_);return a};v.getKeyName_=function(a){a=String(a);this.ignoreCase_&&(a=a.toLowerCase());return a};v.setIgnoreCase=function(a){a&&!this.ignoreCase_&&(this.ensureKeyMapInitialized_(),this.invalidateCache_(),this.keyMap_.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.setValues(d,a))},this));this.ignoreCase_=a};var Nj=e;var Oj=function(a){if(a.classList)return a.classList;a=a.className;return A(a)&&a.match(/\S+/g)||[]},Pj=function(a,b){return a.classList?a.classList.contains(b):F(Oj(a),b)},Qj=function(a,b){a.classList?a.classList.add(b):Pj(a,b)||(a.className+=0<a.className.length?h+b:b)},Rj=function(a,b){a.classList?a.classList.remove(b):Pj(a,b)&&(a.className=Jh(Oj(a),function(a){return a!=b}).join(h))};var Tj=function(a){Sj();return(new ci).initSecurityPrivateDoNotAccessOrElse_(a)},Sj=bh;var Uj=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=hi&&!b&&!c;if((!x(b)||d)&&a.getBoundingClientRect){var f;a:{try{f=a.getBoundingClientRect()}catch(g){f={left:0,top:0,right:0,bottom:0};break a}H&&a.ownerDocument.body&&(a=a.ownerDocument,f.left-=a.documentElement.clientLeft+a.body.clientLeft,f.top-=a.documentElement.clientTop+a.body.clientTop)}return new di(f.right-f.left,f.bottom-f.top)}return new di(b,c)},Wj=function(a,b){var c=ui(b),d=null,f=c.document_;H&&f.createStyleSheet?(d=f.createStyleSheet(),
Vj(d,a)):(f=c.getElementsByTagNameAndClass(Ub)[0],f||(d=c.getElementsByTagNameAndClass(Gb)[0],f=c.createDom(Ub),d.parentNode.insertBefore(f,d)),d=c.createDom(rc),Vj(d,a),c.appendChild(f,d));return d},Vj=function(a,b){var c;b instanceof ci&&b.constructor===ci&&b.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===bi?c=b.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(Eh(me+b+Ia+dh(b)),c=Fg);if(H&&x(a.cssText))a.cssText=c;else if(D(null!=a,Be),Ag in a)a.textContent=c;else if(3==a.nodeType)a.data=
c;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=c}else{Bi(a);var d=ti(a);a.appendChild(d.createTextNode(String(c)))}};/*

 CC0 1.0 Universal License
 Public Domain Dedication

 The person(s) who associated a work with this deed has dedicated the work to
 the public domain by waiving all of his or her rights to the work worldwide
 under copyright law, including all related and neighboring rights, to the
 extent allowed by law.

 You can copy, modify, distribute and perform the work, even for commercial
 purposes, all without asking permission.

 In no way are the patent or trademark rights of any person affected by CC0,
 nor are the rights that other persons may have in the work or in how the work
 is used, such as publicity or privacy rights.

 Unless expressly stated otherwise, the person(s) who associated a work with
 this deed makes no warranties about the work, and disclaims liability for all
 uses of the work, to the fullest extent permitted by applicable law.

 When using or citing the work, you should not imply endorsement by the author
 or the affirmer.

 This is a human-readable summary of the Legal Code (read the full text).
*/
var Xj=function(a){function b(a,b){if(b){var c=document.createDocumentFragment(),k=!a.getAttribute(Lg)&&b.getAttribute(Lg);k&&a.setAttribute(Lg,k);for(k=b.cloneNode(!0);k.childNodes.length;)c.appendChild(k.firstChild);a.appendChild(c)}}function c(a){a.onreadystatechange=function(){if(4===a.readyState){var c=a._cachedDocument;c||(c=a._cachedDocument=document.implementation.createHTMLDocument(e),c.body.innerHTML=a.responseText,a._cachedTarget={});a._embeds.splice(0).map(function(g){var k=a._cachedTarget[g.id];
k||(k=a._cachedTarget[g.id]=c.getElementById(g.id));b(g.svg,k)})}};a.onreadystatechange()}(function(a){function f(){for(var a=0;a<Y.length;){var d=Y[a],m=d.parentNode;if(m&&/svg/i.test(m.nodeName)){var r=d.getAttribute(Yg);if(g&&(!k.validate||k.validate(r,m,d)))if(m.removeChild(d),r=r.split(na),d=r.shift(),r=r.join(na),d.length){var ga=ua[d];ga||(ga=ua[d]=new XMLHttpRequest,ga.open(Rb,d),ga.send(),ga._embeds=[]);ga._embeds.push({svg:m,id:r});c(ga)}else b(m,document.getElementById(r))}else++a}window.requestAnimationFrame&&
window.requestAnimationFrame(f)||setTimeout(f,67)}var g,k=Object(a);a=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/;var m=/\bAppleWebKit\/(\d+)\b/,r=/\bEdge\/12\.(\d+)\b/;g=Of in k?k.polyfill:a.test(navigator.userAgent)||10547>(navigator.userAgent.match(r)||[])[1]||537>(navigator.userAgent.match(m)||[])[1];var ua={},Y=document.getElementsByTagName(Hg);g&&f()})(a)};var Yj=function(a){return/^[A-Za-z0-9]+$/.test(a)||/^#[0-9A-Fa-f]{3}$/.test(a)||/^#[0-9A-Fa-f]{6}$/.test(a)||/^rgb *\( *\d{1,3}%? *, *\d{1,3}%? *, *\d{1,3}%? *\)$/.test(a)||/^rgba *\( *\d{1,3}%? *, *\d{1,3}%? *, *\d{1,3}%? *, *\d{1,3}%? *\)$/.test(a)},Zj=function(a){a=a.split(Na);for(var b=0;b<a.length;b++){var c=a[b],c=sh(c);if(!(/^[- A-Za-z0-9]*$/.test(c)||/^"[- A-Za-z0-9]*"$/.test(c)||/^'[- A-Za-z0-9]*'$/.test(c)))return!1}return!0},ak=function(){if(window.parent&&window.parent.postMessage){var a=
document.getElementById(Rf),b=0;if(a){b:{b=ti(a);if(b.defaultView&&b.defaultView.getComputedStyle&&(b=b.defaultView.getComputedStyle(a,null))){b=b.display||b.getPropertyValue(Ud)||e;break b}b=e}if((b||(a.currentStyle?a.currentStyle.display:null)||a.style&&a.style.display)!=u)a=Uj(a);else{var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility=De;b.position=Zc;b.display=We;a=Uj(a);b.display=c;b.position=f;b.visibility=d}b=a.height}b=Math.max(b,document.body.scrollHeight);window.parent.postMessage(jg+
(b||230)+Uf,Ma)}},bk=function(){var a=document.getElementById(Hd),b=document.getElementById(Qf),c=document.getElementById(Pf),d=function(){b&&(b.disabled=a.value==e);c&&(c.disabled=a.value==e)};a&&zf in a&&(d(null),N(a,Xe,d))},ck=function(a){var b=e;H&&(b+=Va);a=(new Dj(a)).fragment_;if(0!=a.length){a=decodeURIComponent(a);var c=bj(a);if(c&&c.color){a=rh(qh(c.color));var d=rh(qh(c.unvisitedLinkColor)),c=rh(qh(c.fontFamily));Yj(a)&&Yj(d)&&Zj(c)&&(b=b+(vd+a+rb+c+sb)+(Xc+d+sb))}}Wj(Tj(b),void 0);setTimeout(ak,
100);var f=J(ed);if((b=J(Hd))&&f){var g=!1;N(b,re,function(){g||(g=!0,Rj(f,Ld),ak())})}Xj()};var S=function(a){a=J(a);var b=a.nodeName.toLowerCase();a.style.display=b==ng||b==Ue||b==Wc||b==Xe||b==gg?We:rd},T=function(a){J(a).style.display=u};var U=function(a,b,c){var d;c&&T(hf);switch(a){case 0:a=d=yd;break;case 1:a=d=Me;break;case 2:case 3:case 4:a=ef;d=ff;break;case 5:a=d=nf;break;case 6:a=d=Bf;break;case 7:a=d=ve;break;default:throw Error("internal error in show message");}c?(J(a).innerHTML=b,S(d),J(Hd).className=Gd):(Bi(J(a)),T(d));ak()},dk=function(a){U(3,null,!1);J(gf).innerHTML=a;S(hf);ak()};var ek=function(){};ek.prototype.showDialog=function(){T(Qe);J(Hd).disabled=!0;J(Qf).disabled=!0};ek.prototype.hideDialog=function(){S(Qe);J(Hd).disabled=!1;J(Qf).disabled=!1};var Aj=function(a){this.identity=a};C(Aj,ek);v=Aj.prototype;v.isEditable=function(){return!1};v.showEditor=function(){if(!this.isEditable())throw Error("Trying to show a non-editable identity");this.showDialog();S(Pe)};v.isValid=function(){return!0};v.showEditButton=function(){if(!this.isEditable())throw Error("Trying to show edit button for a non-editable identity");S(ae)};v.populateForm=function(){};v.saveFormChanges=function(){};v.hideEditor=function(){T(Pe);T(ae);T(kg);T(Id);T(vg);this.hideDialog()};var fk=function(a){a=a.className;return A(a)&&a.match(/\S+/g)||[]},gk=function(a,b){for(var c=fk(a),d=Rh(arguments,1),f=c.length+d.length,g=c,k=0;k<d.length;k++)F(g,d[k])||g.push(d[k]);a.className=c.join(h);return c.length==f},ik=function(a,b){var c=fk(a),d=Rh(arguments,1),f=hk(c,d);a.className=f.join(h);return f.length==c.length-d.length},hk=function(a,b){return Jh(a,function(a){return!F(b,a)})};var lk=function(a){for(var b=[],c=jk,d=a.elements,f,g=0;f=d[g];g++)if(f.form==a&&!f.disabled&&f.tagName!=Qb){var k=f.name;switch(f.type.toLowerCase()){case pe:case ug:case Yf:case wd:break;case hg:f=kk(f);if(null!=f)for(var m,r=0;m=f[r];r++)c(b,k,m);break;default:m=kk(f),null!=m&&c(b,k,m)}}d=a.getElementsByTagName(Vb);for(g=0;f=d[g];g++)f.form==a&&f.type.toLowerCase()==Se&&(k=f.name,c(b,k,f.value),c(b,k+Wa,cb),c(b,k+Xa,cb));return b.join(l)},jk=function(a,b,c){a.push(encodeURIComponent(b)+n+encodeURIComponent(c))},
kk=function(a){var b=a.type;if(!x(b))return null;switch(b.toLowerCase()){case Bd:case Vf:return a.checked?a.value:null;case ig:return b=a.selectedIndex,0<=b?a.options[b].value:null;case hg:for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:null;default:return x(a.value)?a.value:null}};var mk=!1,nk=!1,ok=!1,pk=function(a,b){nk=a;ok=b;if(window.parent==window.top&&(a||b)){var c=J(vg);b?gk(c,Cd):ik(c,Cd);S(vg);J(dd).value=b?Ac:uc}else T(vg)};var rk=function(a,b){Q.call(this,new qk,a);this.gaiaId=b};C(rk,Q);rk.prototype.encode=function(){return this.factory.encode()+n+this.label+n+this.gaiaId};rk.prototype.getLabel=function(){return this.label+ca};rk.prototype.makeIdentityEditFormController=function(){return new sk(this)};var qk=function(){};C(qk,R);qk.prototype.getLabel=function(){return e};qk.prototype.getOptionValue=function(){return Ib};qk.prototype.decode=function(a){return new rk(a[1],a[2])};
qk.prototype.makeIdentityEditFormController=function(){throw Error("internal error");};var sk=function(a){this.identity=a};C(sk,Aj);sk.prototype.showEditButton=function(){(nk||ok)&&S(vg)};var tk=function(a){Q.call(this,a,a.getLabel())};C(tk,Q);var uk=function(){};C(uk,R);uk.prototype.getLabel=function(){return Tb};uk.prototype.getOptionValue=function(){return Sb};uk.prototype.decode=function(){return this.getNotLoggedInIdentity()};uk.prototype.getNotLoggedInIdentity=function(){return new tk(this)};var vk=function(a,b,c){Q.call(this,a,null);this.name=b;this.url=c};C(vk,Q);vk.prototype.getLabel=function(){return this.name+ba+this.url+La};vk.prototype.encode=function(){return this.factory.encode()+n+encodeURIComponent(this.name)+n+encodeURIComponent(this.url)};vk.prototype.makeIdentityEditFormController=function(){return new wk(this)};var xk=function(){};C(xk,R);xk.prototype.getLabel=function(){return hc};xk.prototype.getOptionValue=function(){return ec};
xk.prototype.makeIdentityEditFormController=function(){return new wk(new vk(this,e,e))};xk.prototype.decode=function(a){return new vk(this,a[1],a[2])};var wk=function(a){this.identity=a};C(wk,Aj);v=wk.prototype;v.isEditable=function(){return!0};v.showEditor=function(){wk.superClass_.showEditor.call(this);S(of)};v.hideEditor=function(){wk.superClass_.hideEditor.call(this);T(of);U(5,null,!1);this.setNameValue_(e);this.setUrlValue_(e)};
v.populateForm=function(){this.setNameValue_(this.identity.name);this.setUrlValue_(this.identity.url)};v.saveFormChanges=function(){wk.superClass_.saveFormChanges.call(this);this.identity.name=this.getNameValue_();this.identity.url=this.getUrlValue_();this.showEditButton()};v.isValid=function(){return this.getNameValue_()==e?(U(5,gc,!0),!1):!0};v.getNameValue_=function(){return J(hd).value};v.setNameValue_=function(a){J(hd).value=a};v.getUrlValue_=function(){return J(id).value};
v.setUrlValue_=function(a){J(id).value=a};var yk=function(){this.identities=[];this.middleItems=[];this.anonItems=[];this.indexToItem=[];this.activeIdentityEditFormController=this.selectedIdentity=null;this.internable=[]};v=yk.prototype;v.internDispatch=function(a,b,c,d){for(var f=0;f<this.internable.length;f++)if(a==this.internable[f])return d(a);d=a.encode();for(f=0;f<this.internable.length;f++)if(this.internable[f].encode()==d)return c(this.internable[f]);return b(a)};
v.intern=function(a){return this.internDispatch(a,B(function(a){return this.internable[this.internable.length]=a},this),cj,cj)};v.isNew=function(a){function b(){return!1}return this.internDispatch(a,function(){return!0},b,b)};v.internUniqueItem=function(a){function b(){throw Error("item should have been unique");}this.internDispatch(a,bh,b,b);return this.intern(a)};
v.addIdentity=function(a){return this.internDispatch(a,B(function(a){this.internable[this.internable.length]=a;return this.identities[this.identities.length]=a},this),cj,cj)};v.markSelectedIdentityType=function(){for(var a=document.getElementById(Oe),b=Oj(a),c=0;c<b.length;c++)b[c].slice(0,14)==Ne&&Rj(a,b[c]);(b=this.indexToItem[J(Qe).selectedIndex])&&Qj(a,Ne+b.value)};
v.addAndSelectIdentity=function(a){this.selectedIdentity=this.addIdentity(a);this.regenerate();this.activateSelectedItem_();this.attemptDeactivation(!1);return this.selectedIdentity};v.addMiddleItem=function(a){this.internUniqueItem(a);this.middleItems[this.middleItems.length]=a};v.addNotLoggedInGaiaIdentity=function(){var a=this.internUniqueItem(new uk);this.addMiddleItem(a.getNotLoggedInIdentity())};
v.addNameUrlIdentityFactory=function(){var a=new xk;this.internUniqueItem(a);this.anonItems[this.anonItems.length]=a};v.addAnonIdentity=function(){var a=this.internUniqueItem(new Cj),a=this.internUniqueItem(new Bj(a));this.anonItems[this.anonItems.length]=a};
v.activateSelectedItem_=function(){var a=this.indexToItem[J(Qe).selectedIndex];a.constructor==zj?this.regenerate():(U(1,null,!1),this.activeIdentityEditFormController=a.makeIdentityEditFormController(),null!=this.activeIdentityEditFormController&&this.activeIdentityEditFormController.populateForm(),this.markSelectedIdentityType())};
v.attemptDeactivation=function(a){if(null!=this.activeIdentityEditFormController){var b=this.activeIdentityEditFormController.identity;if(a&&this.activeIdentityEditFormController.isEditable()&&this.isNew(b)||!this.activeIdentityEditFormController.isValid())this.activeIdentityEditFormController.showEditor();else return this.activeIdentityEditFormController.saveFormChanges(),this.activeIdentityEditFormController.hideEditor(),this.activeIdentityEditFormController.isEditable()&&this.activeIdentityEditFormController.showEditButton(),
this.activeIdentityEditFormController=null,b}return null};v.restoreIdentities=function(){this.decodeIdentities(J(ce).value);this.selectedIdentity=this.decodeIdentity_(J(de).value);null==this.selectedIdentity&&0<this.identities.length&&(this.selectedIdentity=this.identities[0]);null==this.selectedIdentity&&1==this.middleItems.length&&(this.selectedIdentity=this.middleItems[0]);this.regenerate();null!=this.selectedIdentity&&(this.activateSelectedItem_(),this.attemptDeactivation(!1))};
v.addOption=function(a,b){this.indexToItem[this.indexToItem.length]=b;var c=document.createElement(Jf);c.text=b.getLabel();c.value=b.getOptionValue();try{a.add(c,null)}catch(d){a.add(c)}this.selectedIdentity==b&&(c.selected=!0);return c};v.addOptionArray=function(a,b){for(var c=0;c<b.length;c++)this.addOption(a,b[c])};
v.regenerate=function(){for(var a=J(Qe);0!=a.options.length;)a.remove(0);this.indexToItem=[];this.addOption(a,new zj(tc)).disabled=Td;this.addOptionArray(a,this.identities);this.addOptionArray(a,this.middleItems);this.addOptionArray(a,this.anonItems)};v.encodeIdentities=function(){for(var a=[],b=0;b<this.identities.length;b++)a[a.length]=this.identities[b].encode();return a.join(l)};v.decodeIdentities=function(a){if(a!=e){a=a.split(l);for(var b=0;b<a.length;b++)this.decodeIdentity_(a[b])}};
v.decodeIdentity_=function(a){if(a==e)return null;a=a.split(n);for(var b=0;b<a.length;b++)a[b]=decodeURIComponent(a[b]);b=this.findIdentityFactory_(a[0]);return null!=b?(a=b.decode(a),this.addIdentity(a)):null};v.findIdentityFactory_=function(a){for(var b=0;b<this.internable.length;b++)if(this.internable[b].encode()==a)return this.internable[b];return null};v.validateBody_=function(){var a=J(Hd).value;if(a==e)return U(2,Jb,!0),!1;if(1E6<a.length)return U(2,Kb,!0),!1;U(2,null,!1);return!0};
v.onChange=function(){null!=this.activeIdentityEditFormController&&this.activeIdentityEditFormController.hideEditor();this.activateSelectedItem_();var a=this.attemptDeactivation(!0);null!=a&&(this.selectedIdentity=a)};v.onContinue=function(){var a=this.attemptDeactivation(!1);null!=a&&this.addAndSelectIdentity(a)};v.onCancel=function(){null!=this.activeIdentityEditFormController&&(this.activeIdentityEditFormController.hideEditor(),this.activeIdentityEditFormController=null);this.regenerate();this.onChange()};
v.onSubmit=function(){if(null==this.selectedIdentity||this.selectedIdentity.getOptionValue()==fc)return U(1,oc,!0),!1;if(null!=this.activeIdentityEditFormController)return!1;J(ce).value=this.encodeIdentities();J(de).value=this.selectedIdentity.encode();return!0};v.onEdit=function(){this.selectedIdentity&&(this.activateSelectedItem_(),this.activeIdentityEditFormController.showEditor())};v.onPost=function(){this.validateBody_()&&this.onSubmit()&&this.doSubmit(!1)};
v.onPreview=function(){this.validateBody_()&&this.onSubmit()&&this.doSubmit(!0)};v.doSubmit=function(a){J(lg).value=a?Eg:oe;this.activateSelectedItem_();a=J(Jd);a.onsubmit();a.submit()};var zk=function(a,b,c,d){this.designation=a;this.uriSpec=b;this.name=c;this.usernameFieldLabelMessage=d};C(zk,R);v=zk.prototype;v.getLabel=function(){return this.name};v.encode=function(){return encodeURIComponent(this.designation)};v.computeUri=function(a){return this.uriSpec.replace(/{username}/,encodeURIComponent(a))};v.getUriPrefixAndSuffix=function(){return this.uriSpec.split(Zg)};v.makeIdentityEditFormController=function(){return new Ak(new Bk(this,e,e))};
v.decode=function(a){return new Bk(this,a[1],a[2])};var Bk=function(a,b,c){Q.call(this,a,b);this.username=c;this.uri=b;this.value=lc};C(Bk,Q);Bk.prototype.getLabel=function(){return this.username+ba+this.factory.getLabel()+La};Bk.prototype.encode=function(){return this.factory.encode()+n+encodeURIComponent(this.uri)+n+encodeURIComponent(this.username)};Bk.prototype.makeIdentityEditFormController=function(){return new Ak(this)};var Ak=function(a){this.identity=a};C(Ak,Aj);v=Ak.prototype;
v.isEditable=function(){return!0};v.showEditor=function(){Ak.superClass_.showEditor.call(this);S(Cf);J(If).innerHTML=this.identity.factory.usernameFieldLabelMessage;for(var a=J(Hf),b=B(function(){this.redisplayUri()},this),c=[Ad,Ze,Ye,$e,ud,re],d=0;d<c.length;d++)N(a,c[d],b)};v.hideEditor=function(){Ak.superClass_.hideEditor.call(this);Yi(J(Hf));T(Cf);U(6,null,!1);J(Gf).value=e};v.populateForm=function(){this.setUsernameValue_(this.identity.username);J(Gf).value=this.identity.factory.computeUri(this.identity.username)};
v.saveFormChanges=function(){this.identity.username=this.getUsernameValue_();this.populateForm()};v.isValid=function(){return this.getUsernameValue_()==e?(U(6,xc,!0),!1):!0};v.redisplayUri=function(){var a=this.identity.factory.getUriPrefixAndSuffix(),b=this.getUsernameValue_(),b=b==e?Ig:encodeURIComponent(b);J(Df).innerHTML=a[0];J(Ff).innerHTML=b;J(Ef).innerHTML=a[1]};v.getUsernameValue_=function(){return J(Hf).value};v.setUsernameValue_=function(a){J(Hf).value=a;this.redisplayUri()};var Ck=function(){};
C(Ck,R);Ck.prototype.getLabel=function(){return mc};Ck.prototype.getOptionValue=function(){return lc};Ck.prototype.decode=function(a){return new Dk(this,a[1])};Ck.prototype.makeIdentityEditFormController=function(){return new Ek(new Dk(this,e))};var Dk=function(a,b){Q.call(this,a,b);this.uri=b;this.value=lc};C(Dk,Q);Dk.prototype.getLabel=function(){return this.uri};Dk.prototype.encode=function(){return this.factory.encode()+n+encodeURIComponent(this.uri)};
Dk.prototype.makeIdentityEditFormController=function(){return new Ek(this)};var Ek=function(a){this.identity=a};C(Ek,Aj);v=Ek.prototype;v.isEditable=function(){return!0};v.showEditor=function(){Ek.superClass_.showEditor.call(this);S(we)};v.hideEditor=function(){Ek.superClass_.hideEditor.call(this);T(we);U(7,null,!1);this.setUriValue_(e)};v.populateForm=function(){this.setUriValue_(this.identity.uri)};v.saveFormChanges=function(){this.identity.uri=this.getUriValue_()};
v.isValid=function(){return this.getUriValue_()==e?(U(7,wc,!0),!1):!0};v.getUriValue_=function(){return J(Gf).value};v.setUriValue_=function(a){J(Gf).value=a};var Fk=function(){ik(J(ed),Sf);return!0};var Gk=function(a,b,c){K.call(this);this.listener_=a;this.interval_=b||0;this.handler_=c;this.callback_=B(this.doAction_,this)};C(Gk,K);v=Gk.prototype;v.id_=0;v.disposeInternal=function(){Gk.superClass_.disposeInternal.call(this);this.stop();delete this.listener_;delete this.handler_};v.start=function(a){this.stop();this.id_=lj(this.callback_,x(a)?a:this.interval_)};v.stop=function(){this.isActive()&&w.clearTimeout(this.id_);this.id_=0};v.isActive=function(){return 0!=this.id_};
v.doAction_=function(){this.id_=0;this.listener_&&this.listener_.call(this.handler_)};var Hk={},Ik=null,Jk=function(a){a=a[ih]||(a[ih]=++jh);delete Hk[a];Xh(Hk)&&Ik&&Ik.stop()},Lk=function(){Ik||(Ik=new Gk(function(){Kk(mh())},20));var a=Ik;a.isActive()||a.start()},Kk=function(a){Sh(Hk,function(b){b.onAnimationFrame(a)});Xh(Hk)||Lk()};var Mk=function(){O.call(this);this.state_=0;this.endTime=this.startTime=null};C(Mk,O);v=Mk.prototype;v.setStatePlaying=function(){this.state_=1};v.setStateStopped=function(){this.state_=0};v.isPlaying=function(){return 1==this.state_};v.isPaused=function(){return-1==this.state_};v.isStopped=function(){return 0==this.state_};v.onBegin=function(){this.dispatchAnimationEvent(od)};v.onEnd=function(){this.dispatchAnimationEvent(ee)};v.onFinish=function(){this.dispatchAnimationEvent(qe)};v.onPlay=function(){this.dispatchAnimationEvent(Nf)};
v.onResume=function(){this.dispatchAnimationEvent(ag)};v.onStop=function(){this.dispatchAnimationEvent(rg)};v.dispatchAnimationEvent=function(a){this.dispatchEvent(a)};var Nk=function(a,b,c,d){Mk.call(this);if(!z(a)||!z(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.startPoint=a;this.endPoint=b;this.duration=c;this.accel_=d;this.coords=[];this.progress=0;this.lastFrame=null};C(Nk,Mk);v=Nk.prototype;
v.play=function(a){if(a||this.isStopped())this.progress=0,this.coords=this.startPoint;else if(this.isPlaying())return!1;Jk(this);this.startTime=a=mh();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.lastFrame=this.startTime;if(!this.progress)this.onBegin();this.onPlay();if(this.isPaused())this.onResume();this.setStatePlaying();var b=this[ih]||(this[ih]=++jh);b in Hk||(Hk[b]=this);Lk();this.cycle(a);return!0};
v.stop=function(a){Jk(this);this.setStateStopped();a&&(this.progress=1);this.updateCoords_(this.progress);this.onStop();this.onEnd()};v.disposeInternal=function(){this.isStopped()||this.stop(!1);this.onDestroy();Nk.superClass_.disposeInternal.call(this)};v.onAnimationFrame=function(a){this.cycle(a)};
v.cycle=function(a){E(this.startTime);E(this.endTime);E(this.lastFrame);this.progress=(a-this.startTime)/(this.endTime-this.startTime);1<=this.progress&&(this.progress=1);this.lastFrame=a;this.updateCoords_(this.progress);if(1==this.progress)this.setStateStopped(),Jk(this),this.onFinish(),this.onEnd();else if(this.isPlaying())this.onAnimate()};
v.updateCoords_=function(a){gh(this.accel_)&&(a=this.accel_(a));this.coords=Array(this.startPoint.length);for(var b=0;b<this.startPoint.length;b++)this.coords[b]=(this.endPoint[b]-this.startPoint[b])*a+this.startPoint[b]};v.onAnimate=function(){this.dispatchAnimationEvent(gd)};v.onDestroy=function(){this.dispatchAnimationEvent(Sd)};v.dispatchAnimationEvent=function(a){this.dispatchEvent(new Ok(a,this))};
var Ok=function(a,b){L.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.progress=b.progress;this.state=b.state_};C(Ok,L);var Pk,Qk={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:Cd,CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:Td,DROPEFFECT:"dropeffect",EXPANDED:le,FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:De,INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",PRESSED:"pressed",READONLY:"readonly",
RELEVANT:"relevant",REQUIRED:"required",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"};var Rk={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:wd,CHECKBOX:Bd,COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:te,GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:Ue,LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",MATH:"math",
MENU:"menu",MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:Jf,PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:Vf,RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:xg,TAB_LIST:"tablist",TAB_PANEL:"tabpanel",TEXTBOX:"textbox",
TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"};var Sk=function(a){K.call(this);this.handler_=a;this.keys_={}};C(Sk,K);var Tk=[];v=Sk.prototype;v.listen=function(a,b,c,d){return this.listen_(a,b,c,d)};v.listen_=function(a,b,c,d,f){z(b)||(b&&(Tk[0]=b.toString()),b=Tk);for(var g=0;g<b.length;g++){var k=N(a,b[g],c||this.handleEvent,d||!1,f||this.handler_||this);if(!k)break;this.keys_[k.key]=k}return this};v.listenOnce=function(a,b,c,d){return this.listenOnce_(a,b,c,d)};
v.listenOnce_=function(a,b,c,d,f){if(z(b))for(var g=0;g<b.length;g++)this.listenOnce_(a,b[g],c,d,f);else{a=Vi(a,b,c||this.handleEvent,d,f||this.handler_||this);if(!a)return this;this.keys_[a.key]=a}return this};v.unlisten=function(a,b,c,d,f){if(z(b))for(var g=0;g<b.length;g++)this.unlisten(a,b[g],c,d,f);else c=c||this.handleEvent,f=f||this.handler_||this,c=Pi(c),d=!!d,b=Hi(a)?a.getListener(b,c,d,f):a?(a=Ri(a))?a.getListener(b,c,d,f):null:null,b&&(Xi(b),delete this.keys_[b.key]);return this};
v.removeAll=function(){Sh(this.keys_,function(a,b){this.keys_.hasOwnProperty(b)&&Xi(a)},this);this.keys_={}};v.disposeInternal=function(){Sk.superClass_.disposeInternal.call(this);this.removeAll()};v.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var Uk=function(a,b,c,d,f){function g(a){a&&(a.tabIndex=0,D(Wh(Rk,xg),jc),a.setAttribute(bg,xg),Qj(a,Ae),k.enableMouseEventsHandling_(a),k.enableKeyboardEventsHandling_(a))}O.call(this);this.dom_=f||ui();this.elHeader_=this.dom_.getElement(a)||null;this.elExpandedHeader_=this.dom_.getElement(d||null);this.elContent_=(this.lazyCreateFunc_=gh(b)?b:null)||!b?null:this.dom_.getElement(b);this.expanded_=1==c;x(c)||this.lazyCreateFunc_||(this.elExpandedHeader_?this.expanded_=this.elExpandedHeader_.style.display!=
u:this.elHeader_&&(this.expanded_=Pj(this.elHeader_,ze)));this.keyboardEventHandler_=new Sk(this);this.mouseEventHandler_=new Sk(this);var k=this;g(this.elHeader_);g(this.elExpandedHeader_);this.setExpanded(this.expanded_)};C(Uk,O);v=Uk.prototype;v.disposeInternal=function(){Uk.superClass_.disposeInternal.call(this);Ci(this.keyboardEventHandler_);Ci(this.mouseEventHandler_)};v.collapse=function(){this.setExpanded(!1)};v.toggle=function(){this.setExpanded(!this.expanded_)};
v.setExpanded=function(a){this.elContent_?this.elContent_.style.display=a?e:u:a&&this.lazyCreateFunc_&&(this.elContent_=this.lazyCreateFunc_());this.elContent_&&Qj(this.elContent_,ye);this.elExpandedHeader_?(this.elHeader_.style.display=a?u:e,this.elExpandedHeader_.style.display=a?e:u):this.updateHeaderClassName(a);this.setExpandedInternal(a);this.dispatchEvent(new Vk(Dg,this,this.expanded_))};v.setExpandedInternal=function(a){this.expanded_=a};
v.updateHeaderClassName=function(a){if(this.elHeader_){var b=this.elHeader_;a?Qj(b,ze):Rj(b,ze);b=this.elHeader_;a?Rj(b,xe):Qj(b,xe);b=this.elHeader_;z(a)&&(a=a.join(h));D(le,Bb);D(Wh(Qk,le),ic);a===e||void 0==a?(Pk||(Pk={atomic:!1,autocomplete:u,dropeffect:u,haspopup:!1,live:xf,multiline:!1,multiselectable:!1,orientation:Kg,readonly:!1,relevant:bd,required:!1,sort:u,busy:!1,disabled:!1,hidden:!1,invalid:oe}),a=Pk,le in a?b.setAttribute(ld,a.expanded):b.removeAttribute(ld)):b.setAttribute(ld,a)}};
v.enableKeyboardEventsHandling_=function(a){a&&this.keyboardEventHandler_.listen(a,Ye,this.onHeaderKeyDown_)};v.enableMouseEventsHandling_=function(a){a&&this.mouseEventHandler_.listen(a,Fd,this.onHeaderClick_)};v.onHeaderKeyDown_=function(a){if(13==a.keyCode||32==a.keyCode)this.toggle(),this.dispatchActionEvent_(),a.preventDefault(),a.stopPropagation()};v.onHeaderClick_=function(){this.toggle();this.dispatchActionEvent_()};v.dispatchActionEvent_=function(){this.dispatchEvent(new L($c,this))};
var Vk=function(a,b){L.call(this,a,b)};C(Vk,L);var Wk=function(a,b,c,d){d=d||ui();var f=d.createDom(Mb,{style:Kf});b=d.getElement(b);b.parentNode.replaceChild(f,b);f.appendChild(b);this.elWrapper_=f;this.anim_=null;Uk.call(this,a,b,c,void 0,d);a=this.expanded_;this.elWrapper_.style.display=a?e:u;this.updateHeaderClassName(a)};C(Wk,Uk);v=Wk.prototype;v.animationDuration=500;v.animationAcceleration=function(a){return 1-Math.pow(1-a,3)};
v.setExpanded=function(a){if(this.expanded_!=a||this.anim_){this.elWrapper_.style.display==u&&(this.elWrapper_.style.display=e);var b=this.elContent_.offsetHeight,c=0;this.anim_?(a=this.expanded_,Yi(this.anim_),this.anim_.stop(!1),c=b-Math.abs(parseInt(this.elContent_.style.marginTop,10))):c=a?0:b;this.updateHeaderClassName(a);this.anim_=new Nk([0,c],[0,a?b:0],this.animationDuration,this.animationAcceleration);N(this.anim_,[od,gd,ee],this.onAnimate_,!1,this);N(this.anim_,ee,B(this.onAnimationCompleted_,
this,a));this.anim_.play(!1)}};v.onAnimate_=function(a){var b=this.elContent_;b.style.marginTop=a.y-b.offsetHeight+Uf};v.onAnimationCompleted_=function(a){a&&(this.elContent_.style.marginTop=cb);Yi(this.anim_);this.setExpandedInternal(a);this.anim_=null;a||(this.elWrapper_.style.display=u);this.dispatchEvent(new Vk(Dg,this,a))};var Xk=null;var V=new yk;y("BLOG_CMT_OpenIdIdentityFactory",zk,void 0);y("BLOG_CMT_LoggedInGaiaIdentity",rk,void 0);y("BLOG_CMT_NotLoggedInGaiaIdentityFactory",uk,void 0);y("BLOG_CMT_GenericOpenIdIdentityFactory",Ck,void 0);y("BLOG_CMT_NameUrlIdentityFactory",xk,void 0);y("BLOG_CMT_AnonymousIdentityFactory",Cj,void 0);y("BLOG_CMT_onPost",function(){Fk();return V.onPost()},void 0);y("BLOG_CMT_onPreview",function(){return V.onPreview()},void 0);y("BLOG_CMT_onCommentBodyChange",function(){},void 0);
y("BLOG_CMT_onCancel",function(){return V.onCancel()},void 0);y("BLOG_CMT_onSelectorChange",function(){return V.onChange()},void 0);y("BLOG_CMT_onContinue",function(){return V.onContinue()},void 0);y("BLOG_CMT_onEdit",function(){return V.onEdit()},void 0);y("BLOG_CMT_addIdentity",function(a){return V.addIdentity(a)},void 0);y("BLOG_CMT_addAndSelectIdentity",function(a){return V.addAndSelectIdentity(a)},void 0);y("BLOG_CMT_addIdentityFactory",function(a){return V.addMiddleItem(a)},void 0);
y("BLOG_CMT_addNameUrlIdentityFactory",function(){return V.addNameUrlIdentityFactory()},void 0);y("BLOG_CMT_addAnonIdentity",function(){return V.addAnonIdentity()},void 0);y("BLOG_CMT_addNotLoggedInGaiaIdentity",function(){return V.addNotLoggedInGaiaIdentity()},void 0);y("BLOG_CMT_init",function(a,b){ck(document.location.href);V.restoreIdentities();V.onChange();V.markSelectedIdentityType();pk(a,b);J(lg).value==Eg&&(J(lg).value=oe,gk(J(ed),Sf));bk();return!0},void 0);
y("BLOG_CMT_addOpenIdIdentityFactories",function(){V.addMiddleItem(new zk(Wb,Ie,Yb,Zb));V.addMiddleItem(new zk(Bc,Je,Cc,Dc));V.addMiddleItem(new zk(vc,Ke,yc,zc));V.addMiddleItem(new zk(yb,He,yb,zb));V.addMiddleItem(new Ck)},void 0);y("BLOG_CMT_createPhotoZippy",function(a,b){J(a)&&J(b)&&(Xk=new Wk(a,b))},void 0);y("BLOG_CMT_closePhotoZippy",function(){null!=Xk&&Xk.collapse()},void 0);
y("BLOG_CMT_finalizeBG",function(){window.bg_instance&&window.bg_instance.invoke(function(a){document.getElementById(qd).value=a})},void 0);
y("BLOG_CMT_getBG",function(){var a=new Dj(ab),b=document.getElementById(qd).value;b&&a.setParameterValue(qd,b);b=null;window.navigator.appName==cc&&(document.documentMode?b=document.documentMode:(b=5,document.compatMode&&document.compatMode==Hb&&(b=7)));b&&a.setParameterValue(Re,b);document.getElementById(Mf)&&a.setParameterValue(Lf,db);Nj&&a.setParameterValue(pd,Nj);uj(a,function(){if(this.isSuccess()){var a=eval(this.getResponse());a instanceof Object&&a.length&&(1<a.length&&(eval(a[1]),Nj=a[2]),
window.bg_instance=new botguard.bg(a[0]))}})},void 0);y("BLOG_CMT_setBG",function(a){Nj=a},void 0);y("BLOG_CMT_subscription.toggle",function(){if(!mk){mk=!0;var a=J(Kd);uj(a.action,function(){mk=!1;if(this.isSuccess()){var a=this.getResponseJson();null!=a.errorMessage?U(3,a.errorMessage,!0):dk(a.statusMessage);pk(a.can_subscribe,a.is_subscribed)}else U(3,Cb,!0)},nc,lk(a))}},void 0);y("BLOG_CMT_showStatusMessage",dk,void 0);y("BLOG_CMT_showPostErrorMessage",function(a){U(4,a,!0)},void 0);
y("BLOG_CMT_hidePreview",function(){Fk();V.regenerate();ak()},void 0);y("BLOG_xhr",P,void 0);P.send=uj;P.prototype.isSuccess=P.prototype.isSuccess;P.prototype.getResponseJson=P.prototype.getResponseJson;y("$",J,void 0);function Yk(a){return function(b){var c=-1;try{c=b.status}catch(d){}return 500<=c?(b.responseText.length?document.body.innerHTML=b.responseText:window.alert(LayoutsMessages.SERVER_ERROR),!1):a?a(b):!0}};var $k=function(a,b,c){var d=a.ownerDocument;b=b._GetHelper();var f=b._GetData(),g=c._GetAllData();a=Zk(d,a,q,Pg);a=Zk(d,a,q,Qg);a=Zk(d,a,q,Rg);a=Zk(d,a,q,Og);if(g=g.features&&g.features.widgetVisibility&&f.version&&1<f.version)a.className+=ja,Zk(d,a,q,cf+(f.isVisible?Mg:sf)).setAttribute(Cg,f.visibilityTooltipMessage);var k=Zk(d,a,q,af);if(f[df]){var m=Zk(d,a,q,bf);m.appendChild(d.createTextNode(f[df]));m.setAttribute(Cg,f[bf])}k.appendChild(d.createTextNode(f[af]));a=Zk(d,a,Wc,be);var r=b._GenerateWidgetMetadata();
a.setAttribute(Ee,r.quickEditUrl);a.target=Dd;a.onclick=function(){return c._PopupConfig(d.getElementById(r.instanceId))};g&&(a.className+=da);a.appendChild(d.createTextNode(f[$d]))},Zk=function(a,b,c,d){a=a.createElement(c);a.className=d;b.appendChild(a);return a};var al=function(){this.pending_={};this.modules_={};this.pendingModuleUrls_={};this.urlBase_=null;this.pendingBeforeInit_=[]};ch(al);al.prototype.getModuleUrl_=function(a,b){return a+Jc+b+Ua};var bl=function(a){eval(a)};al.prototype.init=function(a,b){y(Lc,bl,void 0);this.urlBase_=a.replace(/\.js$/,e);b&&(this.getModuleUrl_=b);Ih(this.pendingBeforeInit_,function(a){this.load_(a)},this);Mh(this.pendingBeforeInit_)};
al.prototype.provide=function(a,b,c){var d=this.modules_,f=this.pending_;d[a]||(d[a]={});if(c)d[a][b]=c;else if(f[a]){for(b=0;b<f[a].length;++b)(0,f[a][b][1])(d[a][f[a][b][0]]);delete f[a];delete this.pendingModuleUrls_[a]}};al.prototype.load_=function(a){lj(function(){if(!this.modules_[a]){Fh(this.urlBase_);var b=this.getModuleUrl_(this.urlBase_,a),c=Wh(this.pendingModuleUrls_,b);this.pendingModuleUrls_[a]=b;c||(b=yi(qc,{type:zg,src:b}),document.body.appendChild(b))}},0,this)};var cl=function(){this.front_=[];this.back_=[]};v=cl.prototype;v.maybeFlip_=function(){0==this.front_.length&&(this.front_=this.back_,this.front_.reverse(),this.back_=[])};v.enqueue=function(a){this.back_.push(a)};v.dequeue=function(){this.maybeFlip_();return this.front_.pop()};v.getCount=function(){return this.front_.length+this.back_.length};v.isEmpty=function(){return 0==this.front_.length&&0==this.back_.length};v.clear=function(){this.front_=[];this.back_=[]};
v.contains=function(a){return F(this.front_,a)||F(this.back_,a)};v.remove=function(a){var b;b=this.front_;var c=Hh(b,a);0<=c?(Nh(b,c),b=!0):b=!1;return b||Oh(this.back_,a)};v.getValues=function(){for(var a=[],b=this.front_.length-1;0<=b;--b)a.push(this.front_[b]);for(var c=this.back_.length,b=0;b<c;++b)a.push(this.back_[b]);return a};var dl=function(a,b){K.call(this);this.minCount_=a||0;this.maxCount_=b||10;if(this.minCount_>this.maxCount_)throw Error("[goog.structs.Pool] Min can not be greater than max");this.freeQueue_=new cl;this.inUseSet_=new jj;this.delay=0;this.lastAccess=null;this.adjustForMinMax()};C(dl,K);v=dl.prototype;v.getObject=function(){var a=mh();if(!(null!=this.lastAccess&&a-this.lastAccess<this.delay)){var b=this.removeFreeObject_();b&&(this.lastAccess=a,this.inUseSet_.add(b));return b}};
v.releaseObject=function(a){return this.inUseSet_.remove(a)?(this.addFreeObject(a),!0):!1};v.removeFreeObject_=function(){for(var a;0<this.getFreeCount()&&(a=this.freeQueue_.dequeue(),!this.objectCanBeReused(a));)this.adjustForMinMax();!a&&this.getCount()<this.maxCount_&&(a=this.createObject());return a};v.addFreeObject=function(a){this.inUseSet_.remove(a);this.objectCanBeReused(a)&&this.getCount()<this.maxCount_?this.freeQueue_.enqueue(a):this.disposeObject(a)};
v.adjustForMinMax=function(){for(var a=this.freeQueue_;this.getCount()<this.minCount_;)a.enqueue(this.createObject());for(;this.getCount()>this.maxCount_&&0<this.getFreeCount();)this.disposeObject(a.dequeue())};v.createObject=function(){return{}};v.disposeObject=function(a){if(typeof a.dispose==t)a.dispose();else for(var b in a)a[b]=null};v.objectCanBeReused=function(a){return typeof a.canBeReused==t?a.canBeReused():!0};v.contains=function(a){return this.freeQueue_.contains(a)||this.inUseSet_.contains(a)};
v.getCount=function(){return this.freeQueue_.getCount()+this.inUseSet_.getCount()};v.getInUseCount=function(){return this.inUseSet_.getCount()};v.getFreeCount=function(){return this.freeQueue_.getCount()};v.isEmpty=function(){return this.freeQueue_.isEmpty()&&this.inUseSet_.isEmpty()};
v.disposeInternal=function(){dl.superClass_.disposeInternal.call(this);if(0<this.getInUseCount())throw Error("[goog.structs.Pool] Objects not released");delete this.inUseSet_;for(var a=this.freeQueue_;!a.isEmpty();)this.disposeObject(a.dequeue());delete this.freeQueue_};var el=function(a,b){this.key_=a;this.value_=b};el.prototype.getKey=function(){return this.key_};el.prototype.clone=function(){return new el(this.key_,this.value_)};var fl=function(a){this.nodes_=[];a&&this.insertAll(a)};v=fl.prototype;v.insert=function(a,b){var c=this.nodes_;c.push(new el(a,b));this.moveUp_(c.length-1)};v.insertAll=function(a){var b;if(a instanceof fl){if(b=a.getKeys(),a=a.getValues(),0>=this.getCount()){for(var c=this.nodes_,d=0;d<b.length;d++)c.push(new el(b[d],a[d]));return}}else b=Uh(a),a=Th(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])};
v.remove=function(){var a=this.nodes_,b=a.length,c=a[0];if(!(0>=b))return 1==b?Mh(a):(a[0]=a.pop(),this.moveDown_(0)),c.value_};v.moveDown_=function(a){for(var b=this.nodes_,c=b.length,d=b[a];a<c>>1;){var f=this.getLeftChildIndex_(a),g=this.getRightChildIndex_(a),f=g<c&&b[g].getKey()<b[f].getKey()?g:f;if(b[f].getKey()>d.getKey())break;b[a]=b[f];a=f}b[a]=d};
v.moveUp_=function(a){for(var b=this.nodes_,c=b[a];0<a;){var d=this.getParentIndex_(a);if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};v.getLeftChildIndex_=function(a){return 2*a+1};v.getRightChildIndex_=function(a){return 2*a+2};v.getParentIndex_=function(a){return a-1>>1};v.getValues=function(){for(var a=this.nodes_,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].value_);return b};v.getKeys=function(){for(var a=this.nodes_,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};
v.containsKey=function(a){return Kh(this.nodes_,function(b){return b.getKey()==a})};v.clone=function(){return new fl(this)};v.getCount=function(){return this.nodes_.length};v.isEmpty=function(){return 0==this.nodes_.length};v.clear=function(){Mh(this.nodes_)};var gl=function(){fl.call(this)};C(gl,fl);gl.prototype.enqueue=function(a,b){this.insert(a,b)};gl.prototype.dequeue=function(){return this.remove()};var hl=function(a,b){this.delayTimeout_=void 0;this.requestQueue_=new gl;dl.call(this,a,b)};C(hl,dl);v=hl.prototype;v.getObject=function(a,b){if(!a){var c=hl.superClass_.getObject.call(this);c&&this.delay&&(this.delayTimeout_=w.setTimeout(B(this.handleQueueRequests_,this),this.delay));return c}this.requestQueue_.enqueue(x(b)?b:100,a);this.handleQueueRequests_()};
v.handleQueueRequests_=function(){for(var a=this.requestQueue_;0<a.getCount();){var b=this.getObject();if(b)a.dequeue().apply(this,[b]);else break}};v.addFreeObject=function(a){hl.superClass_.addFreeObject.call(this,a);this.handleQueueRequests_()};v.adjustForMinMax=function(){hl.superClass_.adjustForMinMax.call(this);this.handleQueueRequests_()};v.disposeInternal=function(){hl.superClass_.disposeInternal.call(this);w.clearTimeout(this.delayTimeout_);this.requestQueue_.clear();this.requestQueue_=null};var il=function(a,b,c,d){this.headers_=a;this.withCredentials_=!!d;hl.call(this,b,c)};C(il,hl);il.prototype.createObject=function(){var a=new P,b=this.headers_;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.withCredentials_&&a.setWithCredentials(!0);return a};il.prototype.objectCanBeReused=function(a){return!a.disposed_&&!a.isActive()};var jl=function(a,b,c,d,f,g){O.call(this);this.maxRetries_=x(a)?a:1;this.timeoutInterval_=x(f)?Math.max(0,f):0;this.xhrPool_=new il(b,c,d,g);this.requests_=new fj;this.eventHandler_=new Sk(this)};C(jl,O);var kl=[Wf,p,wg,fe,Yc,Bg];v=jl.prototype;v.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};
v.send=function(a,b,c,d,f,g,k,m,r,ua){if(this.requests_.get(a))throw Error("[goog.net.XhrManager] ID in use");b=new ll(b,B(this.handleEvent_,this,a),c,d,f,k,x(m)?m:this.maxRetries_,r,ua);this.requests_.set(a,b);a=B(this.handleAvailableXhr_,this,a);this.xhrPool_.getObject(a,g);return b};
v.abort=function(a,b){var c=this.requests_.get(a);if(c){var d=c.xhrIo;c.setAborted(!0);b&&(d&&(this.removeXhrListener_(d,c.xhrEventCallback_),Vi(d,Wf,function(){this.xhrPool_.releaseObject(d)},!1,this)),this.requests_.remove(a));d&&d.abort()}};
v.handleAvailableXhr_=function(a,b){var c=this.requests_.get(a);c&&!c.xhrIo?(this.addXhrListener_(b,c.xhrEventCallback_),b.setTimeoutInterval(this.timeoutInterval_),b.setResponseType(c.responseType_),b.setWithCredentials(c.withCredentials_),c.xhrIo=b,this.dispatchEvent(new ml(Wf,this,a,b)),this.retry_(a,b),c.aborted_&&b.abort()):this.xhrPool_.releaseObject(b)};
v.handleEvent_=function(a,b){var c=b.target;switch(b.type){case Wf:this.retry_(a,c);break;case p:return this.handleComplete_(a,c,b);case wg:this.handleSuccess_(a,c);break;case Bg:case fe:this.handleError_(a,c);break;case Yc:this.handleAbort_(a,c)}return null};
v.retry_=function(a,b){var c=this.requests_.get(a);!c||c.completed_||c.hasReachedMaxRetries()?(c&&(this.removeXhrListener_(b,c.xhrEventCallback_),this.requests_.remove(a)),this.xhrPool_.releaseObject(b)):(c.increaseAttemptCount(),b.send(c.getUrl(),c.method_,c.getContent(),c.headers_))};
v.handleComplete_=function(a,b,c){var d=this.requests_.get(a);if(7==b.lastErrorCode_||b.isSuccess()||d.hasReachedMaxRetries())if(this.dispatchEvent(new ml(p,this,a,b)),d&&(d.setCompleted(!0),d.completeCallback_))return d.completeCallback_.call(b,c);return null};v.handleAbort_=function(a,b){this.dispatchEvent(new ml(Yc,this,a,b))};v.handleSuccess_=function(a,b){this.dispatchEvent(new ml(wg,this,a,b))};
v.handleError_=function(a,b){this.requests_.get(a).hasReachedMaxRetries()&&this.dispatchEvent(new ml(fe,this,a,b))};v.removeXhrListener_=function(a,b,c){this.eventHandler_.unlisten(a,c||kl,b)};v.addXhrListener_=function(a,b,c){this.eventHandler_.listen(a,c||kl,b)};v.disposeInternal=function(){jl.superClass_.disposeInternal.call(this);this.xhrPool_.dispose();this.xhrPool_=null;this.eventHandler_.dispose();this.eventHandler_=null;this.requests_.clear();this.requests_=null};
var ml=function(a,b,c,d){L.call(this,a,b);this.id=c;this.xhrIo=d};C(ml,L);var ll=function(a,b,c,d,f,g,k,m,r){this.url_=a;this.method_=c||Rb;this.content_=d;this.headers_=f||null;this.maxRetries_=x(k)?k:1;this.attemptCount_=0;this.aborted_=this.completed_=!1;this.xhrEventCallback_=b;this.completeCallback_=g;this.responseType_=m||e;this.withCredentials_=!!r;this.xhrIo=null};v=ll.prototype;v.getUrl=function(){return this.url_};v.getContent=function(){return this.content_};v.increaseAttemptCount=function(){this.attemptCount_++};
v.hasReachedMaxRetries=function(){return this.attemptCount_>this.maxRetries_};v.setCompleted=function(a){this.completed_=a};v.setAborted=function(a){this.aborted_=a};function nl(a,b,c,d,f,g){this.instanceId=a;this.sectionId=b;this.rootElement=d||null;this.data=f||null;if(g){if(this.displayMode_=g,g!=Yd&&g!=Vd&&g!=Wd&&g!=Xd)throw"bad display mode: "+g;}else this.displayMode_=Xd;this.isNew=!1}nl.prototype.getInstanceId=function(){return this.instanceId};function ol(a){this.displayModeChanged_=!0;this.info_=a;this.widgetView_=null}v=ol.prototype;v.SetWidgetView=function(a){this.widgetView_=a};v.GetData=function(){return this.info_.data};
v.SetData=function(a){return this.info_.data=a};v.SetNew=function(a){return this.info_.isNew=a};v.GenerateWidgetMetadata=function(){var a={};a.type=this.widgetView_.type_;a.instanceId=this.info_.instanceId;a.sectionId=this.info_.sectionId;a.actionUrl=W.callbackUrl_;a.quickEditUrl=W.editUrl_+Ga+this.widgetView_.type_+Fa+this.info_.instanceId+Ea+this.info_.sectionId+xa+W.EDIT_WIDGET_ACTION;return a};
v.RunControllerAction=function(a,b,c,d){b=b||{};window.__wavt&&(b.xssi_token=window.__wavt);W.RunControllerAction(a,b,this.info_.instanceId,this.widgetView_.type_,c,d)};function W(){}W.Init=function(a,b,c){W.widgets_={};W.editUrl_=a;W.callbackUrl_=b;W.pageId_=c;W.globalDataContext_={};W.xhrManager_=new jl;W.nextXhrId_=0;W.pendingXhrCount_=0;N(W.xhrManager_,Wf,function(){W.pendingXhrCount_++});N(W.xhrManager_,p,function(){W.pendingXhrCount_--})};
W.TrapClicks=function(a){a=W.CreateTransparentClickTrappingDiv(a.document);document.body.appendChild(a)};W.SetupPreview=function(a){W.TrapClicks(window);if(window.parent==window){var b=pc;a&&(b=a);a=W.CreatePreviewLabelDivs(window.document,b);document.body.appendChild(a[0]);document.body.appendChild(a[1])}};W.NEW_WIDGET_WINDOW_NAME=Dd;W.CHOOSE_WIDGET_ACTION=Dd;W.EDIT_WIDGET_ACTION="editWidget";W.GetCallbackUrl=function(){return W.callbackUrl_};
W.SetPageActionUrl=function(a,b){W.pageActionUrl_=a;W.pageSecurityToken_=b};W.GetPageActionUrl=function(){return W.pageActionUrl_};W.SetWidgetRefreshUrl=function(a){W.widgetRefreshUrl_=a};W.GetWidgetRefreshUrl=function(){return W.widgetRefreshUrl_};W.SetDataContext=function(a){W.globalDataContext_=a};W.GetAllData=function(){var a={},b;for(b in W.globalDataContext_){var c=W.globalDataContext_[b];a[c.name]=c.data}c={};for(b in W.widgets_)c[b]=W.widgets_[b].helper_.info_.data;a.widgets=c;return a};
W.RegisterWidget=function(a,b){var c=new ol(b),d=new window[a](c);c.SetWidgetView(d);W.widgets_[b.instanceId]=d;W.DisplayWidget(d);return d};W.RegisterNewWidget=function(a,b){var c=W.RegisterWidget(a,b);c.helper_.SetNew(!0);return c};W.DisplayWidget=function(a){a.helper_.info_.displayMode_!=Xd&&(a.helper_.displayModeChanged_=!1)};W.GetWidget=function(a){return W.widgets_?W.widgets_[a]:null};
W.PopupPaneFromParams=function(a,b,c,d,f){var g=e;d&&(g=Fa+d);a=W.editUrl_+xa+a+Ea+b+Ga+c+g;if(window.name==f)return window.location.replace(a),window.focus(),window;f=window.open(a,f,Vg);f.focus();return f};W.PopupConfig=function(a){var b=a.getAttribute(Le),c=W.GetWidget(b);if(c){var d=c.helper_.configWin;if(null!=d&&!d.closed)return d.focus(),!1}d=Md+b;a=W.PopupPaneFromParams(W.EDIT_WIDGET_ACTION,a.parentNode.getAttribute(Le),a.getAttribute(Tg),b,d);c&&(c.helper_.configWin=a);return!1};
W.PopupToolbox=function(a){W.PopupPaneFromParams(W.CHOOSE_WIDGET_ACTION,a.parentNode.getAttribute(Le),a.getAttribute(Tg),a.getAttribute(Le),W.NEW_WIDGET_WINDOW_NAME);return!1};W.DeleteWidgetFromPage=function(a,b,c){W.SetStatusMessage(c,c.LayoutsMessages.DELETING);W.RunPageAction(Rd,{},a,b)};ol.prototype.SaveConfigOptions=function(a,b){W.SetStatusMessage(b,b.LayoutsMessages.SAVING);this.RunControllerAction(Nd,a)};
W.SaveNewWidget=function(a,b,c){a.sectionid=document.getElementById(dg).value;W.SetStatusMessage(c,c.LayoutsMessages.SAVING);W.RunPageAction(cd,a,e,b)};W.SaveWidget=function(a,b,c){D(null!=c,qf);var d=W.GetWidget(b);D(null!=d,rf+b);d.helper_.info_.isNew?W.SaveNewWidget(a,c,window):d.helper_.SaveConfigOptions(a,window)};W.RunControllerAction=function(a,b,c,d,f,g){W.RunAction(W.callbackUrl_,a,b,c,d,f,g)};
W.RunPageAction=function(a,b,c,d,f){W.pageActionUrl_&&(b.security_token=W.pageSecurityToken_,W.RunAction(W.pageActionUrl_,a,b,c,d,f))};
W.RunAction=function(a,b,c,d,f,g,k){b=[ad+encodeURIComponent(b),Sg+encodeURIComponent(d),Ug+encodeURIComponent(f),$f];for(var m in c)if(typeof c[m]==wf)for(d=c[m],f=0;f<d.length;++f)b.push(encodeURIComponent(m)+n+encodeURIComponent(d[f]));else b.push(encodeURIComponent(m)+n+encodeURIComponent(c[m]));var r=g||Yk();c=function(){r(this.xhr_)&&window.eval(this.getResponseText())};k==Rb?(a=0<=a.indexOf(vb)?a+l:a+vb,W.xhrManager_.send(e+W.nextXhrId_++,a+b.join(l),Rb,void 0,null,null,c)):W.xhrManager_.send(e+
W.nextXhrId_++,a,nc,b.join(l),null,null,c)};W.SetConfigWin=function(a,b){if(a){var c=W.GetWidget(a);c&&(c.helper_.configWin=b)}};W.CloseIfNoPendingMessages=function(a,b){0==W.pendingXhrCount_?a.setTimeout(function(){a.close()},b):a.setTimeout(function(){W.CloseIfNoPendingMessages(a,b)},200)};W.KillPopupDelay=function(a,b){a&&(W.CloseIfNoPendingMessages(a,100),W.UpdateEditorStatus(a,b))};
W.UpdateEditorStatus=function(a,b){if(a){var c=a.document.getElementById(qg);c&&(c=c.innerHTML);c&&a&&a.opener.parent&&a.opener.parent.editor&&a.opener.parent.editor.SetSaveMessage(c,b)}};W.HandleControllerResult=function(a,b,c){var d=W.widgets_[a];null!=c.errors?((a=d?d.helper_.configWin:null)||(a=window),W.SetStatusMessage(a,c.errors),d&&d.HandleControllerFailure?d.HandleControllerFailure(b,c,a):W.HandleControllerFailure(c,a)):(D(null!=d,rf+a),d.HandleControllerResult(b,c))};
W.HandleControllerFailure=function(a,b){var c=a[ge],d;for(d in c)pl(d,c[d],b.document)};W.OnWidgetConfigured=function(a,b){window.parent&&window.parent.editor&&b?W.OnWidgetConfiguredWithData(a,b):window.location.replace(window.location.href)};W.OnWidgetConfiguredWithData=function(a,b){var c=W.GetWidget(a);c.helper_.SetData(b.data);var d=document.getElementById(a);Bi(d);$k(d,c,W);c.helper_.configWin=null};
W.HandlePageActionResult=function(a,b,c){var d=c[pg];if(null!=c.errors)W.SetStatusMessage(window,c.errors),W.HandleControllerFailure(c,window);else if(b==cd){var f;W.IsOpenerReachable(window)&&(window.opener&&window.opener.parent&&(f=window.opener.parent),f&&f.editor&&f.editor.HandleAddNewWidget(c));W.SetStatusMessage(window,d);null==window.opener?window.location=bb+c.blogID:f&&f._WidgetManager?f._WidgetManager._KillPopupDelay(window):W.CloseIfNoPendingMessages(window,100)}else c=W.widgets_[a],D(null!=
c),b==Rd&&(W.SetStatusMessage(c.helper_.configWin,d),W.FinishPopupWork(a,Kc))};W.OnWidgetDeleted=function(a){var b=W.GetWidget(a);b&&(b.helper_.info_.displayMode_==Wd?top.editor.HandleDeleteWidget(b.helper_.info_.rootElement):(b=b.helper_.info_.rootElement,b.parentNode.removeChild(b)),delete W.widgets_[a])};
W.FinishPopupWork=function(a,b,c){if(W.IsOpenerReachable(window)){var d=window.opener;c||(c=d._WidgetManager[b]);c(a);d._WidgetManager?d._WidgetManager._KillPopupDelay(window,a):W.CloseIfNoPendingMessages(window,100)}else a=W.GetWidgetRefreshUrl()+wb+a,a+=za+encodeURIComponent(b),window.location.replace(a)};W.IsOpenerReachable=function(a){var b=!1;try{if(a.opener){var c=Ec+a.opener.document.domain;c&&c!=Ec&&(b=!0)}}catch(d){}return b};W.STATUS_MESSAGE_SHOW_CLASS="status-msg-yellow-on-white";
W.SetStatusMessage=function(a,b){a||(a=self);var c=a.document.getElementById(qg);c&&(c.innerHTML=b);(c=a.document.getElementById(pg))&&gk(c,W.STATUS_MESSAGE_SHOW_CLASS)};W.ClearStatusMessage=function(a){a||(a=self);(a=a.document.getElementById(pg))&&ik(a,W.STATUS_MESSAGE_SHOW_CLASS)};W.MaybePrependHttp=function(a){a&&0<a.length&&a.substring(0,4)!=Fe&&(a=Ge+a);return a};
W.GetFirstElementInElementWithClass=function(a,b){if(F(fk(a),b))return a;if(a)for(var c=a.childNodes.length,d=0;d<c;d++){var f=W.GetFirstElementInElementWithClass(a.childNodes.item(d),b);if(f)return f}return null};
W.CreateTransparentClickTrappingDiv=function(a){a=a.createElement(q);a.className=td;a.style.position=Zc;a.style.top=cb;a.style.left=cb;a.style.width=eb;a.style.height=eb;H&&!I(7)&&(a.style.height=ne);a.style.zIndex=fb;a.style.cursor=Qd;a.onclick=W.KillEvent_;a.onmousedown=W.KillEvent_;a.onmouseup=W.KillEvent_;a.style.background=Ng;a.style.filter=fd;a.style.opacity=Ra;a.innerHTML=Ca;return a};
W.CreatePreviewLabelDivs=function(a,b){var c=W.CreatePreviewLabelBase(a,b),d=W.CreatePreviewLabelBase(a,b);c.style.backgroundColor=oa;c.style.border=hb;H&&(c.style.filter=ha);c.style.opacity=Ta;d.style.border=ib;c.style.zIndex=1200;d.style.zIndex=1200;return[c,d]};
W.CreatePreviewLabelBase=function(a,b){var c=a.createElement(q);c.style.position=Zc;c.style.top=ob;c.style.left=Pa;c.style.width=nb;c.style.height=lb;c.style.margin=cb;c.style.padding=gb;c.style.fontSize=kb;c.style.textAlign=zd;c.style.color=pa;c.style.fontFamily=ma;H&&(c.style.top=Oa,c.style.left=Oa,c.style.filter=fa);c.style.MozTransform=cg;c.style.MozTransformOrigin=mb;c.style.WebkitTransform=cg;c.style.WebkitTransformOrigin=mb;c.innerHTML=b;c.className=mg;return c};
W.KillEvent_=function(a){a||(a=window.event);a&&(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation());return!1};var ql=function(a,b){b||(b=document);return b.getElementById(je+a)},rl=function(a){if(a=ql(a))Bi(a),a.className=ie},pl=function(a,b,c){if(a=ql(a,c))a.innerHTML=b,a.className=he};y("_WidgetManager",W,void 0);W._Init=W.Init;W._SetPageActionUrl=W.SetPageActionUrl;W._GetPageActionUrl=W.GetPageActionUrl;W._SetWidgetRefreshUrl=W.SetWidgetRefreshUrl;W._GetWidgetRefreshUrl=W.GetWidgetRefreshUrl;
W._GetCallbackUrl=W.GetCallbackUrl;W._DeleteWidgetFromPage=W.DeleteWidgetFromPage;W._DisplayWidget=W.DisplayWidget;W._GetWidget=W.GetWidget;W._HandleControllerResult=W.HandleControllerResult;W._HandlePageActionResult=W.HandlePageActionResult;W._IsOpenerReachable=W.IsOpenerReachable;W._SetConfigWin=W.SetConfigWin;W._SetDataContext=W.SetDataContext;W._SetupPreview=W.SetupPreview;W._RegisterWidget=W.RegisterWidget;W._RegisterNewWidget=W.RegisterNewWidget;W._PopupPaneFromParams=W.PopupPaneFromParams;
W._PopupConfig=W.PopupConfig;W._PopupToolbox=W.PopupToolbox;W._KillPopupDelay=W.KillPopupDelay;W._OnWidgetConfigured=W.OnWidgetConfigured;W._OnWidgetDeleted=W.OnWidgetDeleted;y("_WidgetInfo",nl,void 0);nl.prototype._getInstanceId=nl.prototype.getInstanceId;ol.prototype._GetData=ol.prototype.GetData;ol.prototype._GenerateWidgetMetadata=ol.prototype.GenerateWidgetMetadata;W._GetAllData=W.GetAllData;y("widget_module_provide",function(a,b,c){al.getInstance().provide(a,b,c)},void 0);function X(a,b,c,d,f,g,k,m){this.uid_=a;this.blogId_=b!=tf?b:null;this.jsSuccessCallback_=c;this.jsErrorCallback_=d;this.jsResetCallback_=f;this.sectionWidth_=g;this.jsWidthCallback_=k;this.securityToken_=m;this.imageHeight_=this.imageWidth_=-1;this.imageUrl_=null;this.previewSize_=300;this.loadingIconSize_=jb;this.picImg_=document.getElementById(this.uid_+Vc);this.changeImageLink_=document.getElementById(this.uid_+Nc);this.imageChoiceTable_=document.getElementById(this.uid_+Oc);this.imgSrcFromPCRadio_=
document.getElementById(this.uid_+Rc);this.imgSrcFromWebRadio_=document.getElementById(this.uid_+Sc);this.imgFileNameInput_=document.getElementById(this.uid_+Qc);this.imgUrlTextInput_=document.getElementById(this.uid_+Uc);this.asynchronousFileUploadIframe_=window.frames[this.uid_+Mc];this.imageLoadAttempt_=0;this.offScreenImageBuffer_=new Image;this.offScreenImageBuffer_.onload=B(this.onSuccessOffScreenLoad,this);this.offScreenImageBuffer_.onerror=B(this.onErrorOffScreenLoad,this);this.fileInputUsed_=
!1;this.fileInputOriginInfo_=this.fileUploadForm_=this.keyUpTimer_=null;this.recentlyReset_=!1}v=X.prototype;
v.onSuccessOffScreenLoad=function(){this.imageLoadAttempt_=0;rl(this.uid_+Tc);rl(this.uid_+Pc);this.imgSrcFromPCRadio_.checked&&0!=this.imageWidth_||(this.imageWidth_=this.offScreenImageBuffer_.width,this.imageHeight_=this.offScreenImageBuffer_.height,this.imageUrl_=this.offScreenImageBuffer_.src);var a=1,b=1;this.offScreenImageBuffer_.width>this.previewSize_&&(a=this.previewSize_/this.offScreenImageBuffer_.width);this.offScreenImageBuffer_.height>this.previewSize_&&(b=this.previewSize_/this.offScreenImageBuffer_.height);
a=Math.min(a,b);this.picImg_.style.width=Math.round(this.offScreenImageBuffer_.width*a)+Uf;this.picImg_.style.height=Math.round(this.offScreenImageBuffer_.height*a)+Uf;this.picImg_.src=this.offScreenImageBuffer_.src;this.picImg_.style.display=e;this.imageChoiceTable_.style.display=u;this.changeImageLink_.style.display=e;this.imgFileNameInput_.disabled=!0;this.jsSuccessCallback_&&this.jsSuccessCallback_.call({},this.picImg_.src,this.imageUrl_,this.imageWidth_,this.imageHeight_)};
v.showErrorMessage=function(a,b,c,d){a?(pl(this.uid_+Pc,b),rl(this.uid_+Tc)):(pl(this.uid_+Tc,b),rl(this.uid_+Pc));this.picImg_.style.display=u;this.imageChoiceTable_.style.display=e;this.changeImageLink_.style.display=u;this.imgFileNameInput_.disabled=!1;this.jsErrorCallback_&&this.jsErrorCallback_.call({},c,d)};
v.onErrorOffScreenLoad=function(){if(2>this.imageLoadAttempt_){this.imageLoadAttempt_++;var a=this.offScreenImageBuffer_.src;this.offScreenImageBuffer_.src=e;this.loadImageFromUrl(a)}else this.showErrorMessage(this.imgSrcFromPCRadio_.checked,WidgetMessages.SIV_INVALID_URL,this.picImg_.src,[])};v.loadImageFromUrl=function(a){this.showThrobber();this.offScreenImageBuffer_.src=a};
v.changeImage=function(a){a=a||window.event;window.event?(a.returnValue=!1,a.cancelBubble=!0):(a.preventDefault(),a.stopPropagation());this.picImg_.style.display=u;this.changeImageLink_.style.display=u;this.imageChoiceTable_.style.display=e;this.imgFileNameInput_.disabled=!1;this.imgUrlTextInput_.value=e;this.resetFileInput();this.recentlyReset_=!0;this.jsResetCallback_&&this.jsResetCallback_.call({})};
v.imgUrlFileOnChange=function(){this.imgSrcFromPCRadio_.checked=Eg;this.imgUrlTextInput_.value=e;this.showThrobber();this.moveFileInputToUploadForm();this.fileInputUsed_=!0;try{this.fileUploadForm_.submit()}catch(a){this.showErrorMessage(!0,WidgetMessages.SIV_INVALID_URL,this.fileUploadForm_.value,[])}this.moveFileInputToOrigin()};
v.channelResultArrived=function(){var a=this.asynchronousFileUploadIframe_.document.result;if(a)if(a.hasErrors)0<a.errors.length?this.showErrorMessage(!0,a.errors[0].message,this.imgFileNameInput_.value,a.errors):this.showErrorMessage(!0,WidgetMessages.SIV_INVALID_URL,this.imgFileNameInput_.value,a.errors);else{var b=Math.max(a.origWidth,a.origHeight),c=this.getWidth();0!=this.imageWidth_&&-1!=c&&b>c?(b=c/b,this.imageWidth_=Math.round(a.origWidth*b),this.imageHeight_=Math.round(a.origHeight*b)):(this.imageWidth_=
a.origWidth,this.imageHeight_=a.origHeight);this.imageUrl_=a.mainSrc;this.loadImageFromUrl(a.thumbSrc)}else this.showErrorMessage(!0,WidgetMessages.SIV_INVALID_URL,this.imgFileNameInput_.value,[])};v.imgUrlTextOnKeyUp=function(a){9!=(a||window.event).keyCode&&(this.imgSrcFromWebRadio_.checked=Eg,null!=this.keyUpTimer_&&(window.clearTimeout(this.keyUpTimer_),this.keyUpTimer_=null),a=B(this.keyUpTimerCallback_,this),this.keyUpTimer_=window.setTimeout(a,1E3))};
v.keyUpTimerCallback_=function(){if(this.recentlyReset_||this.offScreenImageBuffer_.src!=this.imgUrlTextInput_.value)this.resetFileInput(),this.loadImageFromUrl(this.imgUrlTextInput_.value);this.recentlyReset_=!1};v.loadInitialUrl=function(a){this.imgSrcFromWebRadio_.checked=!0;this.imgUrlTextInput_.value=a;this.loadImageFromUrl(a)};
v.showThrobber=function(){this.picImg_.src=$a;this.picImg_.style.width=this.loadingIconSize_;this.picImg_.style.height=this.loadingIconSize_;this.picImg_.style.display=e;this.imageChoiceTable_.style.display=u;this.changeImageLink_.style.display=u};
v.moveFileInputToUploadForm=function(){if(!this.fileUploadForm_){this.fileUploadForm_=document.createElement(te);this.fileUploadForm_.action=Te;this.fileUploadForm_.method=nc;this.fileUploadForm_.target=this.asynchronousFileUploadIframe_.name;this.fileUploadForm_.encoding=mf;this.fileUploadForm_.style.display=u;if(this.blogId_){var a=document.createElement(Xe);a.type=De;a.name=sd;a.value=this.blogId_;this.fileUploadForm_.appendChild(a)}a=document.createElement(Xe);a.type=De;a.name=eg;a.id=eg;this.fileUploadForm_.appendChild(a);
a=document.createElement(Xe);a.type=De;a.name=fg;a.value=this.securityToken_;this.fileUploadForm_.appendChild(a);document.body.appendChild(this.fileUploadForm_)}a=this.getWidth();-1==a&&(a=1600);document.getElementById(eg).value=a;this.fileInputOriginInfo_={parent:this.imgFileNameInput_.parentNode,nextSibling:this.imgFileNameInput_.nextSibling};this.imgFileNameInput_.parentNode.removeChild(this.imgFileNameInput_);this.fileUploadForm_.appendChild(this.imgFileNameInput_)};
v.setPreviewSize=function(a){this.previewSize_=a;this.loadingIconSize_=a+Uf};v.moveFileInputToOrigin=function(){this.fileUploadForm_.removeChild(this.imgFileNameInput_);this.fileInputOriginInfo_&&this.fileInputOriginInfo_.nextSibling?this.fileInputOriginInfo_.parent.insertBefore(this.imgFileNameInput_,this.fileInputOriginInfo_.nextSibling):this.fileInputOriginInfo_.parent.appendChild(this.imgFileNameInput_)};
v.resetFileInput=function(){var a=document.createElement(Xe);a.type=pe;a.name=this.imgFileNameInput_.name;a.id=this.imgFileNameInput_.id;a.onchange=this.imgFileNameInput_.onchange;var b=this.imgFileNameInput_.nextSibling;null==b?this.imgFileNameInput_.parentNode.appendChild(a):this.imgFileNameInput_.parentNode.insertBefore(a,b);this.imgFileNameInput_.parentNode.removeChild(this.imgFileNameInput_);this.imgFileNameInput_=a};
v.getWidth=function(){return-1==this.sectionWidth_&&this.jsWidthCallback_?this.jsWidthCallback_():this.sectionWidth_};function Z(){this.usiContainers={}}var sl=new Z;Z.prototype.createUsiContainer=function(a,b,c,d,f,g,k,m){this.usiContainers[a]=new X(a,b,eval(c),eval(d),eval(f),g,eval(k),m);return this.usiContainers[a]};Z.prototype.getUsiContainer=function(a){return this.usiContainers[a]};Z.prototype.channelResultArrived=function(a){(a=this.getUsiContainer(a))&&a.fileInputUsed_&&a.channelResultArrived()};
y("_UploadSimpleImage",sl,void 0);Z.prototype._createUsiContainer=Z.prototype.createUsiContainer;Z.prototype._getUsiContainer=Z.prototype.getUsiContainer;Z.prototype._channelResultArrived=Z.prototype.channelResultArrived;X.prototype._changeImage=X.prototype.changeImage;X.prototype._imgUrlFileOnChange=X.prototype.imgUrlFileOnChange;X.prototype._imgUrlTextOnKeyUp=X.prototype.imgUrlTextOnKeyUp;X.prototype._loadInitialUrl=X.prototype.loadInitialUrl;X.prototype._loadImageFromUrl=X.prototype.loadImageFromUrl;
X.prototype._setPreviewSize=X.prototype.setPreviewSize; })()
