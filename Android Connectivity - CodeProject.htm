<!DOCTYPE html>
<html style="height: 100%;"><head>
	<title>Android Connectivity - CodeProject</title> 
	<link type="text/css" rel="stylesheet" href="Android%20Connectivity%20-%20CodeProject_files/Main.css">
<link type="text/css" rel="stylesheet" href="Android%20Connectivity%20-%20CodeProject_files/no-media-query.css">

	
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="Description" content="Exploring the connectivity options in Android.; Author: Peter Leow; Updated: 14 Sep 2014; Section: Android; Chapter: Mobile Development; Updated: 14 Sep 2014">
<meta name="Keywords" content="Java, HTML, Mobile, Android,Android,Mobile Development,Free source code, tutorials">
<meta name="Author" content="Peter Leow">
<meta name="Rating" content="General">
<meta name="Revisit-After" content="1 days">
<meta name="application-name" content="CodeProject">
<meta name="google-translate-customization" content="d908bb7ce7aff658-4c2f3a504525c916-g629383f736781a8a-13">

<link rel="dns-prefetch" href="http://ajax.googleapis.com/"> 



<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - All Topics" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=1">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Android" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=22">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - iOS" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=25">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - C++" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=2">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - C#" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=3">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Web" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=23">
<link rel="alternate" type="application/rss+xml" title="CodeProject Lounge Postings" href="http://www.codeproject.com/webservices/LoungeRSS.aspx">
<meta name="robots" content="index, follow">
<link rel="search" type="application/opensearchdescription+xml" title="CodeProject" href="http://www.codeproject.com/info/OpenSearch.xml">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- base href="http://www.codeproject.com/Articles/814814/Android-Connectivity" -->
	<link rel="icon" href="http://www.codeproject.com/favicon.ico" type="image/ico">
<link rel="shortcut icon" href="http://www.codeproject.com/favicon.ico" type="image/ico">
<link rel="apple-touch-icon" href="http://www.codeproject.com/images/FavIcon-Apple.png" type="image/png">
<script src="Android%20Connectivity%20-%20CodeProject_files/osd.js"></script><script src="Android%20Connectivity%20-%20CodeProject_files/expansion_embed.js"></script><script src="Android%20Connectivity%20-%20CodeProject_files/gpt.js" type="text/javascript" async=""></script><script type="text/javascript" language="Javascript" src="Android%20Connectivity%20-%20CodeProject_files/jquery.js"></script><script type="text/javascript">//<![CDATA[
if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='/script/JS/jquery-1.6.2.min.js' type='text/javascript' %3E%3C/script%3E"));
}//]]></script>
<script type="text/javascript" language="Javascript">//<![CDATA[
function defrm () { /* thanks twitter */ document.write = ''; window.top.location = window.self.location;  setTimeout(function() { document.body.innerHTML = ''; }, 0);  window.self.onload = function(evt) { document.body.innerHTML = ''; }; }if (window.top !== window.self) {  try {  if (window.top.location.host) { /* will throw */ } else { defrm(); /* chrome */ }  } catch (ex) { defrm(); /* everyone else */ } }if (typeof(DemoUrl)!='undefined')   document.write(unescape('%3Cme')+'ta http'+'-equiv="re'+'fresh"                  con'+'tent="1;url='+DemoUrl+unescape('"%3CE'));
(function() { 
	var _dma = document.createElement('script');
        _dma.type = 'text/javascript';
        _dma.async = true;
        _dma.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'cdn2.developermedia.com/a.min.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(_dma);
})();

//]]>
</script><script src="Android%20Connectivity%20-%20CodeProject_files/a.js" async="" type="text/javascript"></script>

	




<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-1735123-1']);
	_gaq.push(['_trackPageview']);
	_gaq.push(['_setDomainName', 'www.codeproject.com']);
	_gaq.push(['_setSessionTimeout', '1200']); 

	(function () {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})(); 
</script><script src="Android%20Connectivity%20-%20CodeProject_files/ga.js" async="" type="text/javascript"></script>


<link href="Android%20Connectivity%20-%20CodeProject_files/translateelement.css" charset="UTF-8" rel="stylesheet" type="text/css"><script src="Android%20Connectivity%20-%20CodeProject_files/main.js" charset="UTF-8" type="text/javascript"></script><script async="" src="Android%20Connectivity%20-%20CodeProject_files/pubads_impl_94.js"></script><script src="Android%20Connectivity%20-%20CodeProject_files/element_main.js" charset="UTF-8" type="text/javascript"></script><link href="http://tpc.googlesyndication.com/safeframe/1-0-4/html/container.html" rel="prefetch"></head>	

<body style="position: relative; min-height: 100%; top: 0px;" class="firefox firefox0">

<a class="access-link" href="#Main"><img alt="Click here to Skip to main content" src="Android%20Connectivity%20-%20CodeProject_files/t.gif"></a>





<div class="page-background">

	
	

	
<div class="alert-bar  overlay " style="">
	<a href="#" class="close-notify">×</a>
	<div>Sign up for our free weekly <a href="http://www.codeproject.com/feature/web-newsletter">Web Developer Newsletter</a>.</div>
</div>

	
    <div id="ctl00_STM" class="site-top-menu fixed">
        <div class="main-content">
            

<div class="container memberbar clearfix">

	<div id="ctl00_MemberMenu_GenInfo" class="float-left">12,452,721 members (51,590 online)</div>

	<div class="float-left">
		
	</div>

	<div class="float-right">

		

		

		

			<script type="text/javascript">//<!--
			function doSubmit(secure)
			{
				if (secure)
					document.subForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f814814%2fAndroid-Connectivity"
				else
					document.subForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f814814%2fAndroid-Connectivity"
				document.subForm.submit();
				return true;
			}//-->
			</script>

			<a name="SignUp"></a>
			<span class="member-signin tooltip">
				<span><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f814814%2fAndroid-Connectivity">Sign in</a></span>

				<div class="tooltip-flyout">
					<form name="subForm" id="subForm" action="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f814814%2fAndroid-Connectivity" method="post" class="tight">

						
						<input id="FormName" name="FormName" value="MenuBarForm" type="hidden">

						<div>Email</div>
						<div><input class="small-text" name="Email" id="Email" type="email"></div>
						<div>Password</div>
						<div><input class="small-text" name="Password" id="Password" type="password"></div>
						<div class="action">
							
<script type="text/javascript">
function Join(){
 var url = 'http://www.codeproject.com/script/Membership/Modify.aspx?meml=' + document.subForm.Email.value;
 document.location.href=url;return false;
}
document.write('<input type="button" class="create" onclick="return Join();" value="Join"');
document.write('<input type="hidden" name="fld_quicksign" value="true" />');
</script><input class="create" onclick="return Join();" value="Join" <input="" name="fld_quicksign" type="button">
							<input value="Sign in" class="signin" onclick="return doSubmit(false);" type="submit">
						</div>

						<div class="container">
							
							&nbsp;
							<a id="ctl00_MemberMenu_SendPassword" class="forgot float-right" href="http://www.codeproject.com/script/Membership/SendPassword.aspx?rp=%2fArticles%2f814814%2fAndroid-Connectivity">Forgot your password?</a>
						</div>
					</form>

					<hr class="divider-dark">

					Sign in using <a class="oauth" title="Sign in using Facebook" href="http://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=Facebook"><img src="Android%20Connectivity%20-%20CodeProject_files/facebook.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>
<a class="oauth" title="Sign in using Google" href="http://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=Google"><img src="Android%20Connectivity%20-%20CodeProject_files/google-plus.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>
<a class="oauth" title="Sign in using Linkedin" href="http://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=LinkedIn"><img src="Android%20Connectivity%20-%20CodeProject_files/linkedin.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>
<a class="oauth" title="Sign in using Microsoft" href="http://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=Microsoft"><img src="Android%20Connectivity%20-%20CodeProject_files/microsoft.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>

				</div>
            </span>
		
	</div>
</div>
        </div>
    </div>

	
    <div id="ctl00_SH" class="site-header fixed">
        <div class="main-content">
            <div class="logo"><a href="http://www.codeproject.com/"><img id="ctl00_Logo" tabindex="1" title="CodeProject" src="Android%20Connectivity%20-%20CodeProject_files/logo250x135.gif" alt="Home" style="height:135px;width:250px;border-width:0px;"></a></div>
            <div class="promo"><div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Mobile-Development/Android/Android-Tutorial-Contest" data-tags="Java, HTML, Mobile, Android,rating4.5"><noscript><a href="http://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Mobile-Development/Android/Android-Tutorial-Contest&sz=728x90&c=382567"><img src="http://pubads.g.doubleclick.net/gampad/ad?iu=/6839/lqm.codeproject.site/Mobile-Development/Android/Android-Tutorial-Contest&sz=728x90&c=382567"  width="728px" height="90px" target="_blank"/></a></noscript></div></div>
        </div>
    </div>

	<a href="#Main"><img alt="Click here to Skip to main content" class="access-link" src="Android%20Connectivity%20-%20CodeProject_files/t.gif"></a>

	
	<div id="ctl00_TPR" class="sub-headerbar clearfix fixed">
    <div class="float-right">
		

<div class="searchbar">

<form method="get" action="/search.aspx?sbo=kw" name="Search" class="tight">


<table class="search" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td><input tabindex="2" class="search  subdue" id="sb_tb" value="Search for articles, questions, tips" name="q"></td><td><input src="Android%20Connectivity%20-%20CodeProject_files/search.gif" type="image"></td></tr></tbody></table>

<div class="hover-container">
	<div style="display: none;" id="SearchFilter" class="search-advanced small-text align-left">
	<b>Search within:<br></b>
		
		<input id="sb_kw" name="sbo" value="kw" checked="checked" type="radio"><label for="sb_kw">Articles</label><br>
<input id="sb_qa" name="sbo" value="qa" type="radio"><label for="sb_qa">Quick Answers</label><br>
<input id="sb_fm" name="sbo" value="fm" type="radio"><label for="sb_fm">Messages</label><br>


		
		

		
		
	</div>
</div>
</form>

</div>
    </div>
    <div class="float-left">
		

<div class="navbar clearfix">
<ul class="navmenu openable">

<li class="desktop-only"><a id="ctl00_TopNavBar_Home" href="http://www.codeproject.com/">home</a>


</li><li class=""><a id="ctl00_TopNavBar_Art" class="down selected" href="http://www.codeproject.com/script/Articles/Latest.aspx">articles</a>

	<ul>
		<li class=""><a id="ctl00_TopNavBar_ArtTopicList" class="fly" onmouseover="navBarMenu.ShowMap(this, 'ctl00_TopNavBar_MapFlyout');" href="http://www.codeproject.com/script/Content/SiteMap.aspx">Chapters and Sections<span class="has-submenu">&gt;</span></a><ul id="ctl00_TopNavBar_MapFlyout">
			<li>
				<div id="siteMap">
					<img src="Android%20Connectivity%20-%20CodeProject_files/animated.gif" alt="loading" style="margin:150px;width:100px;height:100px;">
				</div>
			</li>
			</ul>
		</li>
		<li><a id="ctl00_TopNavBar_ArtSearch" class="fly break" href="http://www.codeproject.com/search.aspx?sbo=kw">Search</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestArts" class="fly" href="http://www.codeproject.com/script/Articles/Latest.aspx?at=1,3,7">Latest Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestTips" class="fly" href="http://www.codeproject.com/script/Articles/Latest.aspx?at=6">Latest Tips/Tricks</a></li>
		<li><a id="ctl00_TopNavBar_ArtTop" class="fly" href="http://www.codeproject.com/script/Articles/TopArticles.aspx?ta_so=5">Top Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtBeginner" class="fly" href="http://www.codeproject.com/search.aspx?sbo=kw?aidlst=152&amp;sa_us=True">Beginner Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtBlogArticles" class="fly break" href="http://www.codeproject.com/script/Articles/BlogArticleList.aspx">Technical Blogs</a></li>
		<li><a id="ctl00_TopNavBar_ArtGuide" class="fly" href="http://www.codeproject.com/info/Submit.aspx">Posting/Update Guidelines</a></li>
		<li><a id="ctl00_TopNavBar_ArtHelpForum" class="fly" href="http://www.codeproject.com/Forums/1641/Article-Writing.aspx">Article Help Forum</a></li>
		<li><a id="ctl00_TopNavBar_ArtCompetition" class="fly break" href="http://www.codeproject.com/script/Awards/CurrentCompetitions.aspx?cmpTpId=1">Article Competition</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostArticle" class="fly highlight1" href="http://www.codeproject.com/script/Articles/Submit.aspx">
			<img src="Android%20Connectivity%20-%20CodeProject_files/write13.png" height="13px" width="13px"> Submit an article or tip
			</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostBlog" class="fly highlight2" href="http://www.codeproject.com/script/Articles/BlogFeed.aspx">
			<img src="Android%20Connectivity%20-%20CodeProject_files/write13.png" height="13px" width="13px"> Post your Blog
			</a></li>		<li class="last"></li>
	</ul>

</li>



<li class="">
<a id="ctl00_TopNavBar_Answers" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active">
    <span class="desktop-only tablet-only">quick answers</span><span class="mobile-only">Q&amp;A</span>
</a>
	<ul>
		<li id="ctl00_TopNavBar_AQL"><a id="ctl00_TopNavBar_ArticleQuestion" class="fly highlight1" href="#_comments">
			<img src="Android%20Connectivity%20-%20CodeProject_files/write13.png" height="13px" width="13px"> Ask a Question about this 
			article</a>
		</li>

		<li><a id="ctl00_TopNavBar_QAAsk" class="fly highlight2" href="http://www.codeproject.com/Questions/ask.aspx"><img src="Android%20Connectivity%20-%20CodeProject_files/write13.png" height="13px" width="13px"> Ask a Question</a></li>

		
		<li><a id="ctl00_TopNavBar_QAUnanswered" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=unanswered">View Unanswered Questions</a></li>
		<li><a id="ctl00_TopNavBar_QALatest" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active">View All Questions...</a></li>
		
				<li><a id="ctl00_TopNavBar_QATR_ctl00_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=81" style="padding-left:30px">C# questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl01_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=85" style="padding-left:30px">ASP.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl02_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=93" style="padding-left:30px">SQL questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl03_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=842" style="padding-left:30px">VB.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl04_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=377" style="padding-left:30px">C#3.5 questions</a></li>
			
		<li class="last"></li>
	</ul>

</li>



<li class=""><a id="ctl00_TopNavBar_Forums" href="http://www.codeproject.com/script/Forums/List.aspx">
        <span class="desktop-only tablet-only">discussions</span><span class="mobile-only">forums</span>
</a>

	<ul>
		<li><a id="ctl00_TopNavBar_MessageBoardsAll" class="fly" href="http://www.codeproject.com/script/Forums/List.aspx">All Message Boards...</a></li>
		<li class=""><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1580997/Application-Lifecycle.aspx">Application Lifecycle<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="http://www.codeproject.com/Forums/1533717/Running-a-Business.aspx">Running a Business</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1533716/Sales-Marketing.aspx">Sales / Marketing</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1651/Collaboration-Beta-Testing.aspx">Collaboration / Beta Testing</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/3304/Work-Issues.aspx">Work  Issues</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/369270/Design-and-Architecture.aspx">Design and Architecture</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/12076/ASP-NET.aspx">ASP.NET</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1580226/JavaScript.aspx">JavaScript</a>
</li>
<li class=""><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1647/C-Cplusplus-MFC.aspx">C / C++ / MFC<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="http://www.codeproject.com/Forums/4486/ATL-WTL-STL.aspx">ATL /  WTL / STL</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/3785/Managed-Cplusplus-CLI.aspx">Managed C++/CLI</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1649/Csharp.aspx">C#</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1627782/Free-Tools.aspx">Free Tools</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1827460/Objective-C-and-Swift.aspx">Objective-C and Swift</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1725/Database.aspx">Database</a>
</li>
<li class=""><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/186301/Hardware-Devices.aspx">Hardware &amp; Devices<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="http://www.codeproject.com/Forums/1644/System-Admin.aspx">System Admin</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1606152/Hosting-and-Servers.aspx">Hosting and Servers</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1643/Java.aspx">Java</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1650/NET-Framework.aspx">.NET Framework</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1848626/Android.aspx">Android</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1876716/iOS.aspx">iOS</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/13695/Mobile.aspx">Mobile</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1540733/SharePoint.aspx">SharePoint</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1004257/Silverlight-WPF.aspx">Silverlight / WPF</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1646/Visual-Basic.aspx">Visual Basic</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1640/Web-Development.aspx">Web Development</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/suggestions.aspx">Site Bugs / Suggestions</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1652005/Spam-and-Abuse-Watch.aspx">Spam and Abuse Watch</a>
</li>

		<li class="last"></li>
	</ul>

</li>

<li class="desktop-only"><a id="ctl00_TopNavBar_Features" href="http://www.codeproject.com/Feature/">features</a>

	<ul>
		<li><a id="ctl00_TopNavBar_Comps" class="fly" href="http://www.codeproject.com/script/Awards/CurrentCompetitions.aspx?cmpTpId=1&amp;awsac=true">Competitions</a></li>
		<li><a id="ctl00_TopNavBar_News" class="fly" href="http://www.codeproject.com/script/News/List.aspx">News</a></li>
		<li><a id="ctl00_TopNavBar_Insider" class="fly" href="http://www.codeproject.com/Feature/Insider/">The Insider Newsletter</a></li>
    	<li><a id="ctl00_TopNavBar_DailyBuild" class="fly" href="http://www.codeproject.com/Feature/DailyBuild">The Daily Build Newsletter</a></li>
		<li><a id="ctl00_TopNavBar_Newsletters" class="fly" href="http://www.codeproject.com/script/Mailouts/Archive.aspx?mtpid=1">Newsletter archive</a></li>
		<li><a id="ctl00_TopNavBar_Surveys" class="fly" href="http://www.codeproject.com/script/Surveys/List.aspx">Surveys</a></li>
		<li><a id="ctl00_TopNavBar_Showcase" class="fly" href="http://www.codeproject.com/KB/showcase/">Product Showcase</a></li>
		<li><a id="ctl00_TopNavBar_Research" class="fly" href="http://www.codeproject.com/script/ResearchLibrary/Index.aspx">Research Library</a></li>

		<li><a id="ctl00_TopNavBar_Stuff" class="fly" href="http://www.codeproject.com/Info/Stuff.aspx">CodeProject Stuff</a></li>
		<li class="last"></li>
	</ul>

</li>


<li class=""><a id="ctl00_TopNavBar_Lounge" href="http://www.codeproject.com/Lounge.aspx">
            <span class="desktop-only tablet-only">community</span><span class="mobile-only">lounge</span>
</a>

	<ul>
		<li><a id="ctl00_TopNavBar_WhosWho" class="fly" href="http://www.codeproject.com/script/Membership/Profiles.aspx">Who's Who</a></li>
		<li><a id="ctl00_TopNavBar_MVPs" class="fly break" href="http://www.codeproject.com/script/Awards/MVPWinners.aspx">Most Valuable Professionals</a></li>
		

		<li><a id="ctl00_TopNavBar_LoungeLnk" class="fly highlight2" href="http://www.codeproject.com/Lounge.aspx">The Lounge &nbsp;</a></li>
		<li><a id="ctl00_TopNavBar_InsiderLnk" class="fly" href="http://www.codeproject.com/Insider.aspx">The Insider News</a></li>
		<li><a id="ctl00_TopNavBar_WeirdWonderful" class="fly" href="http://www.codeproject.com/Feature/WeirdAndWonderful.aspx">The Weird &amp; The Wonderful</a></li>
		<li><a id="ctl00_TopNavBar_SoapBoxLnk" class="fly" href="http://www.codeproject.com/Forums/1536756/The-Soapbox.aspx">The Soapbox</a></li>
		<li><a id="ctl00_TopNavBar_PRLnk" class="fly break" href="http://www.codeproject.com/Forums/1738007/Press-Releases.aspx">Press Releases</a></li>

		
		<li class=""><a class="fly" href="http://www.codeproject.com/Forums/1580229/Hindi.aspx">Non-English Language
			<span class="has-submenu">&gt;</span></a>
		<ul>
		<li><a class="fly" href="http://www.codeproject.com/Forums/1580229/Hindi.aspx">General Indian Topics</a></li>
		<li><a class="fly" href="http://www.codeproject.com/Forums/1580230/Chinese.aspx">General Chinese Topics</a></li>
		</ul>
		</li><li class="last"></li>
		
	</ul>

</li>


<li class="desktop-only tablet-only" style="margin-left:20px"><a id="ctl00_TopNavBar_Help" href="http://www.codeproject.com/KB/FAQs/">help</a>

	<ul>
		<li><a id="ctl00_TopNavBar_HelpWhatIs" class="fly" href="http://www.codeproject.com/info/guide.aspx">What is 'CodeProject'?</a></li>
		<li><a id="ctl00_TopNavBar_HelpGeneral" class="fly break" href="http://www.codeproject.com/KB/FAQs/">General FAQ</a></li>
		<li><a id="ctl00_TopNavBar_HelpPostQuestion" class="fly break highlight2" href="http://www.codeproject.com/Questions/ask.aspx">Ask a Question</a></li>
		<li><a id="ctl00_TopNavBar_HelpBugs" class="fly" href="http://www.codeproject.com/suggestions.aspx">Bugs and Suggestions</a></li>
		<li><a id="ctl00_TopNavBar_HelpArticles" class="fly" href="http://www.codeproject.com/Forums/1641/Article-Writing.aspx">Article Help Forum</a></li>
		<li><a id="ctl00_TopNavBar_HelpSiteMap" class="fly" href="http://www.codeproject.com/script/Content/SiteMap.aspx">Site Map</a></li>
		<li><a id="ctl00_TopNavBar_HelpAdvertise" class="fly" href="http://developermedia.com/">Advertise with us</a></li>
		<li><a id="ctl00_TopNavBar_HelpJobs" class="fly" href="http://www.codeproject.com/info/Jobs/">Employment Opportunities</a></li>
		<li><a id="ctl00_TopNavBar_HelpAboutUs" class="fly" href="http://www.codeproject.com/info/about.aspx">About Us</a></li>
		<li class="last"></li>
	</ul>

</li>

</ul>

</div>
    </div>
	<div class="sub-headerbar-divider"></div>
	</div>		
	

	<div id="A" class="container-content-wrap fixed"> 

	<div itemscope="" itemtype="http://schema.org/Article" class="container-content"> 


		<div class="clearfix">
			<div class="container-breadcrumb float-left ">
				<div><a href="http://www.codeproject.com/script/Content/SiteMap.aspx">Articles</a> » <a href="http://www.codeproject.com/Chapters/14/Mobile-Development.aspx">Mobile Development</a> » <a href="http://www.codeproject.com/KB/android/"><span itemprop="articleSection">Android</span></a> » <a href="http://www.codeproject.com/KB/android/#Android+Tutorial+Contest">Android Tutorial Contest</a></div>
			</div>

			<div class="float-left">
				
			</div>

			<div class="edit-links float-right">
				


 
&nbsp;










			</div>

			<div class="article-nav float-right">
					
		        
		        
					

                
				

<a id="ctl00_ActionLinks_BookmarkMd_ImgBt" title="Bookmark" alternatetext="Bookmark" name="bm_814814_2" onclick="return bookmarkMe(814814,2,'/script/Bookmarks/Ajax/Add.aspx?obid=814814&amp;obtid=2&amp;action=AddBookmark&amp;bio=true&amp;bis=medium','medium');" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=814814&amp;obtid=2&amp;action=AddBookmark&amp;bio=true&amp;bis=medium" style="display:inline-block;height:24px;width:24px;"><img title="Bookmark" src="Android%20Connectivity%20-%20CodeProject_files/bookmark24.png" alt="" style="border-width:0px;"></a>


<span id="ctl00_ActionLinks_BookmarkMd_StatusMsg" class="tiny-text" style="display:none" name="bm_814814_2"></span>
<a id="ctl00_ActionLinks_PrintMd" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?display=Print">
	<img src="Android%20Connectivity%20-%20CodeProject_files/print24.png" title="Print" style="border:0" height="24px" width="24px">
</a>
			</div>
		</div>

		<table class="extended container-article-parts" cellpadding="0" cellspacing="0">
        <tbody><tr valign="top">
		<td class="article-wing-left" width="117px">

			<div style="position: fixed; top: 10px; left: 155.5px;" id="ctl00_Nav" class="container-article-tabs stuck">
    			

<div class="tabs">
	<div class="selected">Article</div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/ViewDownloads.aspx?aid=814814">Browse Code</a></div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/Statistics.aspx?aid=814814">Stats</a></div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/ListVersions.aspx?aid=814814">Revisions</a></div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/ListAlternatives.aspx?aid=814814">Alternatives</a></div>

	<div class="unselected"><a href="http://www.codeproject.com/Articles/814814/WebControls/#_comments" id="ctl00_ArticleTabs_CommentLink" class="anchorLink">Comments 
        <span id="ctl00_ArticleTabs_CmtCnt">(21)</span></a>
	</div>
</div>	


				<a id="ctl00_AddAlternative" title="Write a related article about upgrades or translate this into a different language." class="add-item" href="http://www.codeproject.com/script/Articles/SubmissionWizard.aspx?at=1&amp;apid=814814">Add your own<br>alternative version</a>

			    <div class="tags"> 
                    <h4>Tagged as</h4>
                    
                    <div class="tags">
<span class="t"><a href="http://www.codeproject.com/search.aspx?sbo=kw&amp;aidlst=104">HTML</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?sbo=kw&amp;aidlst=91">Java</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?sbo=kw&amp;aidlst=280">Android</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?sbo=kw&amp;aidlst=105">Mobile</a></span></div>
			    </div>
                

                <div class="stats">
                <h4>Stats</h4>
                <div id="ctl00_ArtStats"><div class="stats"><div>123.2K views</div><div>14.1K downloads</div><div>89 bookmarked</div></div></div>
                </div>

                <div class="subdue padded-top" title="Date First posted">Posted 
                    <span itemprop="datePublished" content="2014-09-14">14 Sep 2014</span></div>

                
			</div>

		</td>
		<td>
			
			<div id="AT" class="container-article  fixed"> 

				<div class="article">

					<form name="aspnetForm" method="post" action="/Articles/814814/Android-Connectivity" id="aspnetForm" style="margin:0;padding:0">
<div>
<input name="__VIEWSTATE" id="__VIEWSTATE" value="XNmMZy0+TFexyb+qTPo/3kjbz7VyUt/WddExHhTGXPqqGh1gb9T0DHVCx1p9QRcGkKB7Xx0fz8B0Cku7ovEyjMXO7BlRQgkUL76QLNxJlCnNrN5NIY8/wEX8l0p2KsY+Pzh2S87vfe3gXp3gLR+rRvJTLJeNIuYzFtDRyrNC+elomyuxVSHRhtanA5epeUpBsLapBgTSmZ/EBCb641G1+hl0+7y6fp1/H1KXfbwujydCjbziWR2YhIx+MWm58wThww4VlJxHzRHCt6n0c7IkvkXktexNueY2LzeHb8u9h/aqvdYL0Q01KPco9ol/OqY2v8wDI50n33F6cZFR/F56tWNrTJYUp4Gv+4+05jf9hvV+L9Mwz++Ng9Uo9PzA5V45/NQboyq2Ews2PUfRKNg038S3RfOTUlir8GEZxf+m5dqkLQL/hcFKh59jeCraGBIZ7GoZ8rI+7LPUeob/tLPliHo+AI03uv51NALxaUlOone1w56wT7RNaef+zfzmSJwA5Ow38Jf5couKmRnYH1SaofDtkGQMuXaItqHfJrfrK2svFmJU6GfQyVmqskKrjJBOatuKQQYgLqLTui8XdyB9SDIu9KKqwSpmNkv2yx/7nO7dtl7/YVSr06R296NgUJT4XYm402VhRQ6u+YR//0PYAHfWzPlthLKE916Ogv3aMsm8Rl6XknZAUxfH7iDykBQwb94EUJbHinJq1nQwAh7NHJNqRMy+UpzQkMBLavxPheFw2486U5kdx34sfl/N+6d1z2oW/RIIw3ry2gK0jcrwwvD6uT7pxW2I2F8IAz8yuAgwD4veIjbfrzIKds7A6L4UDTu/EZ18gzlNJp3P1o1eZ+omqOgJdiVjJH04M7sSYCOGQFGibzsExJc8SftgFuXFyd4EOhG0KHekMfJp1TzV+8i05/fuKPyXMONUIWmlFr18OkGnFOVf5EwwGGqWRxrwCAxjmaYYyqC4ChICPiQtQ6aiZhvcHJfdcHQwsaU+/MzeVLyuVERpQK7h/cB6NZjvELFbdYjN4un2DvcRGF/LiedrbQgY9y/NaoGrDPMbWzy8pZt/hQbxQdtmta+GrQN5AofWS84PaaV+0fUEfs9sVGxTXMZtixHpJLJjZXaPEzyO9A3TyNWDc4d8EoKcpjeQP+SXn/R/o6syiSRcXZVUIG4822xEfwA+7xd3P5qPnZfleWq1RS187WDqSmZwUzsUbxPdRjSYa0K6qArVjoNlo4BdUbQrQoLjVFnShgAQcQt5tm0X3IFmeVGfouelNfs1ufWCjAi1JlJ/mgEl5J3BJyIxGNuvKIr9ryPHzL6d4D4P75bMV6kog8luzoYaNox+7P2/GGkqYrR8t8nv2cpkfJujYKFk5Wh63fuB4wd8VK6sORwRg1SuO6oSisS+gfK7AkbGqwaxVAJ9wQZxVUx7PhB85SpG3lYroVyTWNuydVxaZJJ6mcVbTdAlawGndc6ATQyrremG47zLY33W3A2ff78r1ibvR+JVlUCRhwuIhOv2CXntvvEPkF2JnJfVpoP0f52O8yVhkZOl5ZojuPMuwL6CJfvHjI5fAlDwg/XFGE2olKCvzZkSgehiIpLcAJ8N/RMisZVcNcQEvqFRun9S0tBLQEnGfN7SxOBQa/Wbm/NhoVu1qHHbSKkGic1apB/AtmcPUGChttYRRlgI+xJOloGo4NmYOfK9RaPxVmBRP1/v7Gt9XgceoXLnoo30pdYpiJv0admCNOuRPD8uyz862PGY9Hfc5WulJGCtmzpsm8GlpyvzM6cvrmNrULB4s4XONwDohkenCne1rPMpWOsZ4tCHAIg1YHuL0l70pMQH5m2Te634zUpS+vrOsPwggZJr6JHMZENTZ4VVZ5vRKiQeZt8qY1b3MU00Yf38lDxmTJ4/Kty/Uk9b+lbS3JEfbv5aL9P4PO0270GE8ST76NaHzuGsmIWhGyGUlm5vHydYIWQfsy3IegC3rBKwSO3Q7Q0Q3RYsOoN0zfHRtrIk6EmUUlxP4h12IARFOG827zPnV6KiYdikoed7GC4UWotD5/dBAXNtC/bHTYfftmFLBb9eAHdctHTAtw+p6Fdo0chODTCsv9ILlLrcrScTa97qTr8q9fLQq6d7b955e/9QYqjcgcE40/lOLLAUsIXfAWXc7euMi+NR4o2xn/LFizdX+MiHPOaFSEjha5OZXNpQ9qI9+GK7t0PHGlZTOpMITJ78FdMZvXY7jqef5/PmZA6Rm/YWxCXIVp08DLNbinH2rnDbb7LMHpGcH2o6sGjNJRBdYys0TyalawicBBQcm3nTU5cJX5uE1At32NYKQ9PcoGVyd0Z62+LBk+aaxym19dn9VfSBhj6mUp/3+qzDFnO37wqAys2MH+mVzk3WRyosxEKmGATJp8BhzKLgi1adjBGfrvIPtsR7gLIyxFZNsL9Hv/3y4d1v1wqcvqx6NJlOorotWL/Rw22eCM0oAfJhWeODZENe4QXdXrj7H7CRNNf0UDGTNm+83IesvaB42fJ3pxx323Z7ViS62aEMLEa8h1wG3sIR3dsM5gc7enjUAVdz7136A9wN5CncTYDhtiOYd0QpMuhS3elQvnWIUKvWN1YYAcF4nu9TLzCoHibmvB8um6C18+oq2bMPRJD+zlbeMgB1Gz+mbOXCLs50jGccNsj4ZyXFaGyHSlNqla4Dbr10lQ94Fqcf4KsqnXCJWMRmJ4XuMt4kMiM4SIXPSWSs9I9/fw9M6oRsmCZtmAZyxmGwpKbdjtRiPA41pOFxtv/elof+GNY4sjr0UMe0RPSUDrQLQWL976YyysxXeGMnLh8lCTH6PJmKcpdrcNQpvk0fH+lufs3M28U=" type="hidden">
</div>

<div>

	<input name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="10C1FD69" type="hidden">
</div>

					
					 
					<div class="header">
					    <a name="Main"></a>

					    
					    <a name="_articleTop" id="_articleTop"></a>
					    <div class="title">
					        
					        <h1 id="ctl00_ArticleTitle" itemprop="name">Android Connectivity</h1> 
					    </div>

                        <div style="height:34px">
					        
					        <div class="entry float-left">
                                <img src="Android%20Connectivity%20-%20CodeProject_files/eea82bb3367b38051f5304d4d3114f95.jpg" id="ctl00_avatar" class="float-left avatar">
                                <div class="float-left">

						            <span class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=4593231" rel="author"><span itemprop="author" itemscope="" itemtype="http://schema.org/Person"><span itemprop="name">Peter Leow</span></span></a></span>, 
						            <span class="date" itemprop="dateModified" title="Date last updated" content="2014-09-14 22:14:00">
							            14 Sep 2014</span>
			
                                    <a id="ctl00_LicenseLink" title="The Code Project Open License (CPOL)" class="license" href="http://www.codeproject.com/info/cpol10.aspx">CPOL</a><div id="ctl00_CurRat" class="tooltip anchorLink" style="cursor:pointer;margin-top: 5px" name="CurRat_814814">
				
							            

<table class="small-text" itemprop="aggregateRating" itemscope="" itemtype="http://schema.org/AggregateRating" cellpadding="0" cellspacing="0"> 
<tbody><tr>
	
	<td class="nowrap">

		
			<meta itemprop="bestRating" content="5"> 
			<meta itemprop="worstRating" content="1">
		

		<span id="ctl00_ArticleRating_VI">
		<div class="nowrap rating-stars-medium" style="height:18px;width:80px;position:relative;">
	<div class="clipped align-left float-left" style="height:16px;width:79px;">
		<img src="Android%20Connectivity%20-%20CodeProject_files/stars-fill-md.png" style="border-width:0px;">
	</div><div class="clipped" style="height:16px;width:1px;position:relative;">
		<img src="Android%20Connectivity%20-%20CodeProject_files/stars-empty-md.png" style="border-width:0px;position:absolute;top:0;right:0;">
	</div>
</div>
		</span>

		
	</td>
	
	<td id="ctl00_ArticleRating_VR" class="nowrap">
		&nbsp;
		<span id="ctl00_ArticleRating_VotesR">&nbsp;<span itemprop="ratingValue" class="rating">4.97</span> (<span itemprop="ratingCount" class="count">67</span> votes)</span>
		
	</td>

</tr>

</tbody></table>


							            <div id="ctl00_RB" class="speech-bubble-container-up">
								            <div class="speech-bubble-up" style="width:150px !important">
									                        
<div>
<table class="feature" title="Voting Distribution. Recent data only" height="50px" cellpadding="0" cellspacing="0" width="100%"><tbody><tr class="chart-row"><td class="chart-column"><div class="rating-ignore-vote" title="Votes not included in score."><img src="Android%20Connectivity%20-%20CodeProject_files/pollcol.gif" alt="1 vote, 1.6%" title="1 vote, 1.6%" height="1px" border="0px" width="20pxpx"></div><span title="0 votes">1</span></td>
<td class="chart-column"><span title="0 votes">2</span></td>
<td class="chart-column"><div class="rating-ignore-vote" title="Votes not included in score."><img src="Android%20Connectivity%20-%20CodeProject_files/pollcol.gif" alt="3 votes, 4.8%" title="3 votes, 4.8%" height="2px" border="0px" width="20pxpx"></div><span title="0 votes">3</span></td>
<td class="chart-column"><div><img src="Android%20Connectivity%20-%20CodeProject_files/pollcol.gif" alt="4 votes, 6.3%" title="4 votes, 6.3%" height="3px" border="0px" width="20pxpx"></div><span title="4 votes">4</span></td>
<td class="chart-column"><div><img src="Android%20Connectivity%20-%20CodeProject_files/pollcol.gif" alt="59 votes, 93.7%" title="59 votes, 93.7%" height="50px" border="0px" width="20pxpx"></div><span title="59 votes">5</span></td>
</tr></tbody></table><div class="small-text align-center">4.97/5 - 67 votes</div><div class="small-text align-center subdue">4 removed</div><div class="small-text align-center subdue">μ 4.85, σ<sub>a</sub> 1.06 [<a href="http://www.codeproject.com/KB/FAQs/RatingReputationFAQ.aspx#noisefilter">?</a>]</div>
</div>
								            </div>
								            <div class="speech-bubble-pointer-up">
									            <div class="speech-bubble-pointer-up-inner"></div>
								            </div>
							            </div>
						            </div>
                                </div>
					        </div>

                            
						    <div id="ctl00_RateArticleRow" class="float-right align-right voting-bar">
						        <div id="ctl00_RateArticle_RateItemWrapper" class="small-text" name="RateItem_814814">

	<table class="small-text" cellpadding="0" cellspacing="0" width="100%">
	<tbody><tr>
		<td id="ctl00_RateArticle_VoteResultDiv" class="rating-result align-right">
			<span class="align-right"></span>
			<img class="loaderImg" alt="loading..." src="Android%20Connectivity%20-%20CodeProject_files/animated_loading_blue.gif" style="display:none;" height="16px" width="16px"> 
		</td>

	
		<td class="voteTbl" style="white-space:nowrap" align="right">
			<table class="small-text">
			<tbody><tr>
				<td id="ctl00_RateArticle_RateText" class="rating-prompt">
					Rate this:
				</td>

				
				<td id="ctl00_RateArticle_VoteFormDiv" class="nowrap rating-stars-voter-large">
					

					<span id="ctl00_RateArticle_RB" class="tooltip ajaxHist radio voting">
						<span id="ctl00_RateArticle_VoteRBL"><input style="display: none;" id="ctl00_RateArticle_VoteRBL_0" name="ctl00$RateArticle$VoteRBL" value="1" type="radio"><input style="display: none;" id="ctl00_RateArticle_VoteRBL_1" name="ctl00$RateArticle$VoteRBL" value="2" type="radio"><input style="display: none;" id="ctl00_RateArticle_VoteRBL_2" name="ctl00$RateArticle$VoteRBL" value="3" type="radio"><input style="display: none;" id="ctl00_RateArticle_VoteRBL_3" name="ctl00$RateArticle$VoteRBL" value="4" type="radio"><input style="display: none;" id="ctl00_RateArticle_VoteRBL_4" name="ctl00$RateArticle$VoteRBL" value="5" type="radio"></span> 

						
					<div class="rating-star-block"><a title="vote 1" class="star outline" rating="1" href="#">vote 1</a><a title="vote 2" class="star outline" rating="2" href="#">vote 2</a><a title="vote 3" class="star outline" rating="3" href="#">vote 3</a><a title="vote 4" class="star outline" rating="4" href="#">vote 4</a><a title="vote 5" class="star outline" rating="5" href="#">vote 5</a></div></span>

				</td>

				
				<td style="padding-left:5px">	
					<input style="display: none;" name="ctl00$RateArticle$SubmitRateBtn" value="Vote!" id="ctl00_RateArticle_SubmitRateBtn" class="button" type="submit">
				</td>
			</tr>
			</tbody></table>
			
		</td>
	</tr>
	</tbody></table>
	<div class="hover-container">
		
        <div id="ctl00_RateArticle_RSU" class="rating-comment align-left float-right">
            <div class="padded">
            Please <a id="ctl00_RateArticle_SignUp" href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f814814%2fAndroid-Connectivity">Sign up or sign in</a> to vote.
            </div>
        </div>
	</div>
</div>
						    </div>
						    	
                        </div>

   					    
                        <div id="ctl00_description" class="summary" itemprop="headline">Exploring the connectivity options in Android.</div><span id="ctl00_thumbnailUrl" class="date" itemprop="image" content="http://www.codeproject.com/KB/android/814814/Thumb-814814.png"></span>			

                    </div>
                    
					
					

					

					
					
					

						
					

					

						
						<div id="contentdiv" class="text" itemprop="articleBody">
						



<ul class="download">
	<li><a href="http://www.codeproject.com/KB/android/814814/app-release-apk.zip">Download app-release-apk.zip - 62.5 KB</a></li>
	<li><a href="http://www.codeproject.com/KB/android/814814/AndroidConnection.zip">Download AndroidConnection.zip - 638.6 KB</a></li>
</ul>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/logo01.png"></td>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/logo02.png"></td>
		</tr>
	</tbody>
</table>

<h2>Introduction</h2>

<p>Human's quest for communication and information sharing in different 
forms and situations has prompted the invention of many innovative 
connectivity technologies, such as Bluetooth and NFC, in addition to the
 standard network connections like Wi-Fi and 4G. Increasingly, users of 
mobile devices want to have the freedom and convenience of interacting 
and exchanging information directly with other devices without the need 
to go through the conventional network infrastructure.</p>

<p>In this respect, Android has provided a rich set of software 
libraries called APIs (Application Programming Interfaces) where your 
app can make use of to connect and interact with other devices in a 
variety of ways. In this article, you will have the opportunity to 
explore the basic mechanism of the following connectivity options in a 
hands-on approach:</p>

<ul>
	<li><a href="#bluetooth">Bluetooth</a></li>
	<li><a href="#wifi">Wi-Fi</a></li>
	<li><a href="#nfc">NFC</a></li>
	<li><a href="#mobile">Mobile Data</a></li>
	<li><a href="#sip">SIP</a></li>
	<li><a href="#usb">USB</a></li>
</ul>

<h2>Setting the Stage</h2>

<p>First of all, you will get ready a new Android project as follows:</p>

<ul>
	<li>
	<p>Name the new project as "AndroidConnection".</p>
	</li>
	<li>
	<p>In the new project, create an Activity called "MainActivity". This 
will be the home page that provides the buttons to navigate to other 
pages.</p>
	</li>
	<li>
	<p>The "activity_main.xml" is shown below:</p>

	<div class="pre-action-link" id="premain729881" style="width:100%;display:block;"><span id="prehide729881" onclick="processCodeBlocks.togglePre(729881);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(729881);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre729881"><span class="code-keyword">&lt;</span><span class="code-leadattribute">RelativeLayout</span> <span class="code-attribute">xmlns:android</span><span class="code-keyword">="</span><span class="code-keyword">http://schemas.android.com/apk/res/android"</span>
    <span class="code-attribute">xmlns:tools</span><span class="code-keyword">="</span><span class="code-keyword">http://schemas.android.com/tools"</span>
    <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:paddingLeft</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_horizontal_margin"</span>
    <span class="code-attribute">android:paddingRight</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_horizontal_margin"</span>
    <span class="code-attribute">android:paddingTop</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_vertical_margin"</span>
    <span class="code-attribute">android:paddingBottom</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_vertical_margin"</span>
    <span class="code-attribute">tools:context</span><span class="code-keyword">="</span><span class="code-keyword">.MainActivity"</span><span class="code-keyword">&gt;</span>

    <span class="code-keyword">&lt;</span><span class="code-leadattribute">Button</span>
        <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
        <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:text</span><span class="code-keyword">="</span><span class="code-keyword">@string/Bluetooth"</span>
        <span class="code-attribute">android:id</span><span class="code-keyword">="</span><span class="code-keyword">@+id/btnBluetooth"</span>
        <span class="code-attribute">android:layout_alignParentTop</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_alignParentLeft</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_alignParentStart</span><span class="code-keyword">="</span><span class="code-keyword">true"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>

<span class="code-keyword">&lt;</span><span class="code-leadattribute">/RelativeLayout</span><span class="code-keyword">&gt;</span>  </pre>

	<p>The preview of "MainActivity" should look like that in Figure 1. To test run the project, you will need a real device.</p>

	<table border="0">
		<tbody>
			<tr>
				<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/bluetooth00.png"></td>
			</tr>
			<tr>
				<td align="center">
				<div class="Caption">Figure 1: Preview of MainActivity</div>
				</td>
			</tr>
		</tbody>
	</table>
	</li>
</ul>

<p>We will start with Bluetooth.</p>

<h2 id="bluetooth">Bluetooth</h2>

<p>The Android platform includes Android Bluetooth APIs for Bluetooth 
connectivity, which allows an Android device to exchange data with other
 bluetooth enabled devices wirelessly. Through the Android Bluetooth 
APIs, an app can perform the following Bluetooth functionalities:</p>

<ul>
	<li>
	<p>Scan for other Bluetooth devices.</p>
	</li>
	<li>
	<p>Query for paired Bluetooth devices.</p>
	</li>
	<li>
	<p>Establish Connection between Bluetooth devices.</p>
	</li>
	<li>
	<p>Exchange data with other Bluetooth devices.</p>
	</li>
</ul>

<h4>The Bluetooth Agenda</h4>

<p>The complete Android Bluetooth APIs are available in the <a href="http://developer.android.com/reference/android/bluetooth/package-summary.html" target="_blank">android.bluetooth</a>
 package. You will meet some of the classes in this package as you 
create an Activity to perform the following Bluetooth functionalities:</p>

<ul>
	<li>Enable/disable Bluetooth.</li>
</ul>

<ul>
	<li>
	<p>Make Bluetooth device discoverable by other Bluetooth devices.</p>
	</li>
	<li>
	<p>Discover other Bluetooth devices.</p>
	</li>
	<li>
	<p>List the names and MAC addresses of those found Bluetooth devices in a "ListView".</p>
	</li>
	<li>
	<p>Establish connection with one of the Bluetooth devices in the "ListView".</p>
	</li>
</ul>

<p>In the current project,</p>

<ul>
	<li>
	<p>Create a new Activity called "BluetoothActivity" using 
"RelativeLayout" as layout that contains a "ToggleButton" and a 
"ListView".</p>
	</li>
	<li>
	<p>The "activity_bluetooth.xml" is shown below:</p>

	<div class="pre-action-link" id="premain150200" style="width:100%;display:block;"><span id="prehide150200" onclick="processCodeBlocks.togglePre(150200);">Hide</span>  &nbsp; <span id="preShrink150200" onclick="processCodeBlocks.shrinkExpand(150200);">Shrink</span> <img id="preimg150200" src="Android%20Connectivity%20-%20CodeProject_files/arrow-up-16.png" style="height:16px;width:16px" onclick="processCodeBlocks.shrinkExpand(150200);">  &nbsp; <span onclick="return processCodeBlocks.copyCode(150200);">Copy Code</span></div><pre class="notranslate" processed="true" style="margin-top: 0px;" id="pre150200"><span class="code-keyword">&lt;</span><span class="code-leadattribute">RelativeLayout</span> <span class="code-attribute">xmlns:android</span><span class="code-keyword">="</span><span class="code-keyword">http://schemas.android.com/apk/res/android"</span>
    <span class="code-attribute">xmlns:tools</span><span class="code-keyword">="</span><span class="code-keyword">http://schemas.android.com/tools"</span>
    <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:paddingLeft</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_horizontal_margin"</span>
    <span class="code-attribute">android:paddingRight</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_horizontal_margin"</span>
    <span class="code-attribute">android:paddingTop</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_vertical_margin"</span>
    <span class="code-attribute">android:paddingBottom</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_vertical_margin"</span>
    <span class="code-attribute">tools:context</span><span class="code-keyword">="</span><span class="code-keyword">com.peterleow.androidconnection.BluetoothActivity"</span><span class="code-keyword">&gt;</span>

    <span class="code-keyword">&lt;</span><span class="code-leadattribute">ToggleButton</span>
        <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:id</span><span class="code-keyword">="</span><span class="code-keyword">@+id/toggleButton"</span>
        <span class="code-attribute">android:textOn</span><span class="code-keyword">="</span><span class="code-keyword">Bluetooth On"</span>
        <span class="code-attribute">android:textOff</span><span class="code-keyword">="</span><span class="code-keyword">Bluetooth Off"</span>
        <span class="code-attribute">android:onClick</span><span class="code-keyword">="</span><span class="code-keyword">onToggleClicked"</span>
        <span class="code-attribute">android:layout_alignParentTop</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_alignParentLeft</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_alignParentStart</span><span class="code-keyword">="</span><span class="code-keyword">true"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>

    <span class="code-keyword">&lt;</span><span class="code-leadattribute">ListView</span>
        <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:id</span><span class="code-keyword">="</span><span class="code-keyword">@+id/listView"</span>
        <span class="code-attribute">android:layout_centerHorizontal</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_below</span><span class="code-keyword">="</span><span class="code-keyword">@+id/toggleButton"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>

<span class="code-keyword">&lt;</span><span class="code-leadattribute">/RelativeLayout</span><span class="code-keyword">&gt;</span>  </pre>

	<p>The preview of "BluetoothActivity" should look like that in Figure 2.</p>

	<table border="0">
		<tbody>
			<tr>
				<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/bluetooth01.png"></td>
			</tr>
			<tr>
				<td align="center">
				<div class="Caption">Figure 2: Preview of BluetoothActivity</div>
				</td>
			</tr>
		</tbody>
	</table>
	</li>
</ul>

<p>Form this point onwards, you will focus on building up the code in 
the "BluetoothActivity.java" to implement the Bluetooth functionalities 
in the following sections.</p>

<h4>Verifying Bluetooth Support</h4>

<p>Before any attempt to use Bluetooth functionalities in an app, it 
must verify whether the device supports Bluetooth. To do that, we have 
to call upon the "BluetoothAdapter" class of the Android Bluetooth APIs.</p>

<p>"<a href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html" target="_blank">BluetoothAdapter</a>"
 is the most important class in the Android Bluetooth APIs. It 
represents the Bluetooth adapter of an Android device. Currently, 
Android only supports one Bluetooth adapter per device. 
"BluetoothAdapter" is the starting point for all Bluetooth operations. 
To begin any Bluetooth operation, the app will have to first call the 
static method "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#getDefaultAdapter%28%29" target="_blank">getDefaultAdapter()</a>"
 which returns a handle representing the default local Bluetooth 
adapter. If "getDefaultAdapter()" returns null, then the device does not
 support Bluetooth and that is the end of the road. A valid 
"BluetoothAdapter" handle allows you to scan for other Bluetooth 
devices, query a list of paired devices, instantiate a "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothDevice.html" target="_blank">BluetoothDevice</a>" that represents a remote Bluetooth device, and create a "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothSocket.html" target="_blank">BluetoothServerSocket</a>" to listen for connection requests from other devices. For example:</p>

<div class="pre-action-link" id="premain328783" style="width:100%;display:block;"><span id="prehide328783" onclick="processCodeBlocks.togglePre(328783);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(328783);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre328783">BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();
<span class="code-keyword">if</span> (bluetoothAdapter == <span class="code-keyword">null</span>) {
    <span class="code-comment">//</span><span class="code-comment"> Device does not support Bluetooth
</span>} <span class="code-keyword">else</span> {
    <span class="code-comment">//</span><span class="code-comment"> Any valid Bluetooth operations
</span>}</pre>

<h4>Enabling Bluetooth</h4>

<p>Once the Bluetooth support on the device is affirmed, your next step 
is to ensure that Bluetooth is enabled. To do that, the app will call 
the "isEnabled()" method of the "BluetoothAdapter" handle to check 
whether Bluetooth is currently enabled. If this method returns false, 
then Bluetooth is disabled. To request that Bluetooth be enabled, call 
"startActivityForResult()" with the "ACTION_REQUEST_ENABLE" action 
Intent. For example:</p>

<div class="pre-action-link" id="premain922820" style="width:100%;display:block;"><span id="prehide922820" onclick="processCodeBlocks.togglePre(922820);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(922820);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre922820"><span class="code-keyword">if</span> (!bluetoothAdapter.isEnabled()) {
    Intent enableBluetoothIntent = <span class="code-keyword">new</span> Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);
    startActivityForResult(enableBluetoothIntent, ENABLE_BT_REQUEST_CODE);
}</pre>

<p>A dialog will appear requesting user permission to enable Bluetooth, as shown in Figure 3.</p>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/bluetooth02.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 3: Bluetooth Permission Request</div>
			</td>
		</tr>
	</tbody>
</table>

<p>If the user clicks "Yes," the system will proceed to enable Bluetooth. The "ENABLE_BT_REQUEST_CODE" constant passed to "<a href="http://developer.android.com/reference/android/app/Activity.html#startActivityForResult%28android.content.Intent,%20int%29" target="_blank">startActivityForResult()</a>" is a locally defined integer which must be greater than 0 so that the system will pass back to your code in "<a href="http://developer.android.com/reference/android/app/Activity.html#onActivityResult%28int,%20int,%20android.content.Intent%29" target="_blank">onActivityResult()</a>" implementation as the "requestCode" parameter.</p>

<p>If Bluetooth is successfully enabled, your activity will receives the "resultCode" of "<a href="http://developer.android.com/reference/android/app/Activity.html#RESULT_OK" target="_blank">RESULT_OK</a>" in the "<a href="http://developer.android.com/reference/android/app/Activity.html#onActivityResult%28int,%20int,%20android.content.Intent%29" target="_blank">onActivityResult()</a>" callback. If Bluetooth was not enabled either because of an error or the user clicks "No" then the "resultCode" is "<a href="http://developer.android.com/reference/android/app/Activity.html#RESULT_CANCELED" target="_blank">RESULT_CANCELED</a>". For example:</p>

<div class="pre-action-link" id="premain948609" style="width:100%;display:block;"><span id="prehide948609" onclick="processCodeBlocks.togglePre(948609);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(948609);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre948609"><span class="code-keyword">public</span> <span class="code-keyword">void</span> onActivityResult(<span class="code-keyword">int</span> requestCode, <span class="code-keyword">int</span> resultCode, Intent data) {
    <span class="code-keyword">if</span> (requestCode == ENABLE_BT_REQUEST_CODE) {
        <span class="code-keyword">if</span> (resultCode == Activity.RESULT_OK) {
            Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Ha! Bluetooth has been enabled."</span>,
                   Toast.LENGTH_SHORT).show();
        } <span class="code-keyword">else</span> { <span class="code-comment">//</span><span class="code-comment"> RESULT_CANCELED as user refuse or failed
</span>            Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Bluetooth is not enabled."</span>,
                    Toast.LENGTH_SHORT).show();
        }
    }
}</pre>

<h4>Making Bluetooth Discoverable</h4>

<p>Once Bluetooth has been enabled, you will make it discoverable by 
other Bluetooth devices. To do this, call "startActivityForResult() with
 the "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#ACTION_REQUEST_DISCOVERABLE" target="_blank">ACTION_REQUEST_DISCOVERABLE</a>" action Intent. For example:</p>

<div class="pre-action-link" id="premain282636" style="width:100%;display:block;"><span id="prehide282636" onclick="processCodeBlocks.togglePre(282636);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(282636);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre282636" lang="java"><span class="code-keyword">protected</span> <span class="code-keyword">void</span> makeDiscoverable(){
    <span class="code-comment">//</span><span class="code-comment"> Make local device discoverable
</span>    Intent discoverableIntent = <span class="code-keyword">new</span> Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);
    discoverableIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, DISCOVERABLE_DURATION);
    startActivityForResult(discoverableIntent, DISCOVERABLE_BT_REQUEST_CODE);
}</pre>

<p>The "DISCOVERABLE_BT_REQUEST_CODE" constant passed to 
"startActivityForResult()" is a locally defined integer which must be 
greater than 0 so that the system will pass back to your code in 
"onActivityResult()" implementation as the "requestCode" parameter.</p>

<p>By default, the device will become discoverable for 120 seconds. You 
can define a different duration by assigning a different integer value 
to the "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#EXTRA_DISCOVERABLE_DURATION" target="_blank">EXTRA_DISCOVERABLE_DURATION</a>"
 Intent extra. An app can set any integer between 0 and 3600 for this 
duration, any value outside of this range will be reverted to 120. In 
our example, I have use a local variable called "DISCOVERABLE_DURATION" 
that takes the value of 300.</p>

<p>A dialog will appear requesting user permission to enable Bluetooth discoverability, as shown in Figure 4.</p>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/bluetooth03.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 4: Bluetooth Permission Requiest</div>
			</td>
		</tr>
	</tbody>
</table>

<p>If the user clicks "Yes," then the device will become discoverable 
for the specified duration. Your activity will receive the "resultCode" 
equal to the specified discoverable duration in the "onActivityResult()"
 callback. If the user clicks "No" or if an error occurrs, the 
"resultCode" is "RESULT_CANCELED". For example:</p>

<div class="pre-action-link" id="premain441140" style="width:100%;display:block;"><span id="prehide441140" onclick="processCodeBlocks.togglePre(441140);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(441140);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre441140" lang="java"><span class="code-keyword">public</span> <span class="code-keyword">void</span> onActivityResult(<span class="code-keyword">int</span> requestCode, <span class="code-keyword">int</span> resultCode, Intent data) {

    <span class="code-keyword">if</span> (requestCode == ENABLE_BT_REQUEST_CODE) {
        <span class="code-comment">//</span><span class="code-comment"> other code     
</span>    } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (requestCode == DISCOVERABLE_BT_REQUEST_CODE){

        <span class="code-keyword">if</span> (resultCode == DISCOVERABLE_DURATION){
            Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Your device is now discoverable by other devices for "</span> +
                                DISCOVERABLE_DURATION + <span class="code-string">"</span><span class="code-string"> seconds"</span>,
                        Toast.LENGTH_SHORT).show();
        } <span class="code-keyword">else</span> {
            Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Fail to enable discoverability on your device."</span>,
                        Toast.LENGTH_SHORT).show();
        }
     }
}</pre>

<blockquote class="quote">
<div class="op" id="learning_point2">Note:</div>

<p>Enabling device discoverability will automatically enable Bluetooth if it has not been enabled on the device.</p>
</blockquote>

<h4>Discovering Remote Bluetooth Devices</h4>

<p>Next, make the app discover remote Bluetooth devices. Any remote 
Bluetooth device within the range will respond to a discovery request if
 it has been enabled to be discoverable. To start the discovery process,
 the app will call the "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#startDiscovery%28%29">startDiscovery()</a>" method of the "BluetoothAdapter" handle. For example:</p>

<div class="pre-action-link" id="premain513893" style="width:100%;display:block;"><span id="prehide513893" onclick="processCodeBlocks.togglePre(513893);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(513893);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre513893"><span class="code-keyword">protected</span> <span class="code-keyword">void</span> discoverDevices(){
    <span class="code-comment">//</span><span class="code-comment"> To scan for remote Bluetooth devices
</span>    <span class="code-keyword">if</span> (bluetoothAdapter.startDiscovery()) {
        Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Discovering other bluetooth devices..."</span>,
                Toast.LENGTH_SHORT).show();
    } <span class="code-keyword">else</span> {
        Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Discovery failed to start."</span>,
                Toast.LENGTH_SHORT).show();
    }
}</pre>

<p>The process is asynchronous and the "startDiscovery()" method will 
immediately return with a boolean indicating whether discovery has 
successfully started. How can the app be notified of the outcome of the 
discovery process? Here comes the role of "<a href="http://developer.android.com/reference/android/content/BroadcastReceiver.html" target="_blank">BroadcastReceiver</a>" class.</p>

<p>For each device discovered, the Android system will broadcast the "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothDevice.html#ACTION_FOUND" target="_blank">ACTION_FOUND</a>" Intent. This Intent always returns two bundles of data as follows:</p>

<ul>
	<li>An "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothDevice.html#EXTRA_DEVICE" target="_blank">EXTRA_DEVICE</a>" containing a "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothDevice.html" target="_blank">BluetoothDevice</a>" that represents the remote Bluetooth device that is found; and</li>
	<li>An "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothDevice.html#EXTRA_CLASS" target="_blank">EXTRA_CLASS</a>" containing a "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothClass.html" target="_blank">BluetoothClass</a>" that describes the general characteristics and capabilities of that found device.</li>
</ul>

<p>In order to capture this broadcast, you app must register a 
"BroadcastReceiver" for this "ACTION_FOUND" Intent. First, you create a 
"BroadcastReceiver" class like this:</p>

<div class="pre-action-link" id="premain936025" style="width:100%;display:block;"><span id="prehide936025" onclick="processCodeBlocks.togglePre(936025);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(936025);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre936025"><span class="code-keyword">private</span> final BroadcastReceiver broadcastReceiver = <span class="code-keyword">new</span> BroadcastReceiver() {
    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onReceive(Context context, Intent intent) {
        <span class="code-sdkkeyword">String</span> action = intent.getAction();
        <span class="code-comment">//</span><span class="code-comment"> Whenever a remote Bluetooth device is found
</span>        <span class="code-keyword">if</span> (BluetoothDevice.ACTION_FOUND.equals(action)) {
            <span class="code-comment">//</span><span class="code-comment"> Get the BluetoothDevice object from the Intent
</span>            BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);
            <span class="code-comment">//</span><span class="code-comment"> Add the name and address to an array adapter to show in a ListView
</span>            adapter.<span class="code-keyword">add</span>(device.getName() + <span class="code-string">"</span><span class="code-string">\n"</span> + device.getAddress());
        }
    }
};</pre>

<p>then register this "BroadcastReceiver" class for the "ACTION_FOUND" Intent like this:</p>

<div class="pre-action-link" id="premain160799" style="width:100%;display:block;"><span id="prehide160799" onclick="processCodeBlocks.togglePre(160799);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(160799);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre160799"><span class="code-comment">//</span><span class="code-comment"> Register the BroadcastReceiver for ACTION_FOUND
</span>IntentFilter filter = <span class="code-keyword">new</span> IntentFilter(BluetoothDevice.ACTION_FOUND);
<span class="code-keyword">this</span>.registerReceiver(broadcastReceiver, filter);</pre>

<blockquote class="quote">
<div class="op" id="learning_point2">Note:</div>

<p>As the app will not be receiving any Intent when paused, always unregister the "BroadcastReceiver" on "<a href="http://developer.android.com/reference/android/app/Activity.html#onPause%28%29" target="_blank">Activity.onPause()</a>" and register it on "<a href="http://developer.android.com/reference/android/app/Activity.html#onResume%28%29" target="_blank">Activity.onResume()</a>", and this will reduce unnecessary system overhead.</p>
</blockquote>

<p>Whenever a new device is discovered, the app will be notified through
 the ""BroadcastReceiver" which in turn obtains this new device as a 
"BluetoothDevice" object from the Intent extra, and add its name and MAC
 address to the "ListView" via an "<a href="http://developer.android.com/reference/android/widget/ArrayAdapter.html" target="_blank">ArrayAdapter</a>".</p>

<h4>Disabling Bluetooth</h4>

<p>To disable Bluetooth upon turning off the Toggle button, call the "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#disable%28%29" target="_blank">disable()</a>" method of the "BluetoothAdapter" handle as shown:</p>

<div class="pre-action-link" id="premain429334" style="width:100%;display:block;"><span id="prehide429334" onclick="processCodeBlocks.togglePre(429334);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(429334);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre429334">bluetoothAdapter.disable();
</pre>

<h4>Interim Review</h4>

<p>Up to this point, we have explored various topics that include 
enabling Bluetooth, making Bluetooth discoverable, discovering remote 
Bluetooth devices, displaying the names and MAC addresses of discovered 
devices, and disabling Bluetooth. In the "BluetoothActivity.java", all 
these activities will take place upon clicking the "ToggleButton" which 
triggers the "onToggleClicked" event handler. The 
"BluetoothActivity.java" is shown below:</p>

<div class="pre-action-link" id="premain709736" style="width:100%;display:block;"><span id="prehide709736" onclick="processCodeBlocks.togglePre(709736);">Hide</span>  &nbsp; <span id="preShrink709736" onclick="processCodeBlocks.shrinkExpand(709736);">Shrink</span> <img id="preimg709736" src="Android%20Connectivity%20-%20CodeProject_files/arrow-up-16.png" style="height:16px;width:16px" onclick="processCodeBlocks.shrinkExpand(709736);">  &nbsp; <span onclick="return processCodeBlocks.copyCode(709736);">Copy Code</span></div><pre class="notranslate" processed="true" style="margin-top: 0px;" id="pre709736" lang="java"><span class="code-comment">//</span><span class="code-comment"> other code
</span>
<span class="code-keyword">public</span> <span class="code-keyword">class</span> BluetoothActivity <span class="code-keyword">extends</span> Activity {

    <span class="code-comment">//</span><span class="code-comment"> Create a BroadcastReceiver for ACTION_FOUND
</span>    <span class="code-keyword">private</span> <span class="code-keyword">final</span> BroadcastReceiver broadcastReceiver = <span class="code-keyword">new</span> BroadcastReceiver() {
        <span class="code-keyword">public</span> <span class="code-keyword">void</span> onReceive(Context context, Intent intent) {
            <span class="code-sdkkeyword">String</span> action = intent.getAction();
            <span class="code-comment">//</span><span class="code-comment"> Whenever a remote Bluetooth device is found
</span>            <span class="code-keyword">if</span> (BluetoothDevice.ACTION_FOUND.equals(action)) {
                <span class="code-comment">//</span><span class="code-comment"> Get the BluetoothDevice object from the Intent
</span>                BluetoothDevice bluetoothDevice = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);
                <span class="code-comment">//</span><span class="code-comment"> Add the name and address to an array adapter to show in a ListView
</span>                adapter.add(bluetoothDevice.getName() + <span class="code-string">"</span><span class="code-string">\n"</span>
                        + bluetoothDevice.getAddress());
            }
        }
    };
    <span class="code-keyword">private</span> BluetoothAdapter bluetoothAdapter;
    <span class="code-keyword">private</span> ToggleButton toggleButton;
    <span class="code-keyword">private</span> ListView listview;
    <span class="code-keyword">private</span> ArrayAdapter adapter;
    <span class="code-keyword">private</span> <span class="code-keyword">static</span> <span class="code-keyword">final</span> <span class="code-keyword">int</span> ENABLE_BT_REQUEST_CODE = <span class="code-digit">1</span>;
    <span class="code-keyword">private</span> <span class="code-keyword">static</span> <span class="code-keyword">final</span> <span class="code-keyword">int</span> DISCOVERABLE_BT_REQUEST_CODE = <span class="code-digit">2</span>;
    <span class="code-keyword">private</span> <span class="code-keyword">static</span> <span class="code-keyword">final</span> <span class="code-keyword">int</span> DISCOVERABLE_DURATION = <span class="code-digit">300</span>;

    <span class="code-sdkkeyword">@Override</span>
    <span class="code-keyword">protected</span> <span class="code-keyword">void</span> onCreate(Bundle savedInstanceState) {
        <span class="code-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_bluetooth);

        toggleButton = (ToggleButton) findViewById(R.id.toggleButton);

        listview = (ListView) findViewById(R.id.listView);
 
        adapter = <span class="code-keyword">new</span> ArrayAdapter
                (<span class="code-keyword">this</span>,android.R.layout.simple_list_item_1);
        listview.setAdapter(adapter);

        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();
    }

    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onToggleClicked(View view) {

        adapter.clear();

        ToggleButton toggleButton = (ToggleButton) view;

        <span class="code-keyword">if</span> (bluetoothAdapter == null) {
            <span class="code-comment">//</span><span class="code-comment"> Device does not support Bluetooth
</span>            Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Oop! Your device does not support Bluetooth"</span>,
                    Toast.LENGTH_SHORT).show();
            toggleButton.setChecked(false);
        } <span class="code-keyword">else</span> {

            <span class="code-keyword">if</span> (toggleButton.isChecked()){ <span class="code-comment">//</span><span class="code-comment"> to turn on bluetooth
</span>                <span class="code-keyword">if</span> (!bluetoothAdapter.isEnabled()) {
                    <span class="code-comment">//</span><span class="code-comment"> A dialog will appear requesting user permission to enable Bluetooth
</span>                    Intent enableBluetoothIntent = <span class="code-keyword">new</span> Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);
                    startActivityForResult(enableBluetoothIntent, ENABLE_BT_REQUEST_CODE);
                } <span class="code-keyword">else</span> {
                    Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Your device has already been enabled."</span> +
                                    <span class="code-string">"</span><span class="code-string">\n"</span> + <span class="code-string">"</span><span class="code-string">Scanning for remote Bluetooth devices..."</span>,
                            Toast.LENGTH_SHORT).show();
                    <span class="code-comment">//</span><span class="code-comment"> To discover remote Bluetooth devices
</span>                    discoverDevices();
                    <span class="code-comment">//</span><span class="code-comment"> Make local device discoverable by other devices
</span>                    makeDiscoverable();
                }
            } <span class="code-keyword">else</span> { <span class="code-comment">//</span><span class="code-comment"> Turn off bluetooth
</span>
                bluetoothAdapter.disable();
                adapter.clear();
                Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Your device is now disabled."</span>,
                        Toast.LENGTH_SHORT).show();
            }
        }
    }

    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onActivityResult(<span class="code-keyword">int</span> requestCode, <span class="code-keyword">int</span> resultCode, Intent data) {

        <span class="code-keyword">if</span> (requestCode == ENABLE_BT_REQUEST_CODE) {

            <span class="code-comment">//</span><span class="code-comment"> Bluetooth successfully enabled!
</span>            <span class="code-keyword">if</span> (resultCode == Activity.RESULT_OK) {
                Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Ha! Bluetooth is now enabled."</span> +
                                <span class="code-string">"</span><span class="code-string">\n"</span> + <span class="code-string">"</span><span class="code-string">Scanning for remote Bluetooth devices..."</span>,
                        Toast.LENGTH_SHORT).show();

                <span class="code-comment">//</span><span class="code-comment"> Make local device discoverable by other devices
</span>                makeDiscoverable(); 

               <span class="code-comment">//</span><span class="code-comment"> To discover remote Bluetooth devices
</span>                discoverDevices();

            } <span class="code-keyword">else</span> { <span class="code-comment">//</span><span class="code-comment"> RESULT_CANCELED as user refused or failed to enable Bluetooth
</span>                Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Bluetooth is not enabled."</span>,
                        Toast.LENGTH_SHORT).show();

                <span class="code-comment">//</span><span class="code-comment"> Turn off togglebutton
</span>                toggleButton.setChecked(false);
            }
        } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (requestCode == DISCOVERABLE_BT_REQUEST_CODE){

            <span class="code-keyword">if</span> (resultCode == DISCOVERABLE_DURATION){
                Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Your device is now discoverable by other devices for "</span> +
                                DISCOVERABLE_DURATION + <span class="code-string">"</span><span class="code-string"> seconds"</span>,
                        Toast.LENGTH_SHORT).show();
            } <span class="code-keyword">else</span> {
                Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Fail to enable discoverability on your device."</span>,
                        Toast.LENGTH_SHORT).show();
            }
        }
    }

    <span class="code-keyword">protected</span> <span class="code-keyword">void</span> discoverDevices(){
        <span class="code-comment">//</span><span class="code-comment"> To scan for remote Bluetooth devices
</span>        <span class="code-keyword">if</span> (bluetoothAdapter.startDiscovery()) {
            Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Discovering other bluetooth devices..."</span>,
                    Toast.LENGTH_SHORT).show();
        } <span class="code-keyword">else</span> {
            Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">Discovery failed to start."</span>,
                    Toast.LENGTH_SHORT).show();
        }
    }

    <span class="code-keyword">protected</span> <span class="code-keyword">void</span> makeDiscoverable(){
        <span class="code-comment">//</span><span class="code-comment"> Make local device discoverable
</span>        Intent discoverableIntent = <span class="code-keyword">new</span>
                Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);
        discoverableIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, DISCOVERABLE_DURATION);
        startActivityForResult(discoverableIntent, DISCOVERABLE_BT_REQUEST_CODE);
    }

    <span class="code-sdkkeyword">@Override</span>
    <span class="code-keyword">protected</span> <span class="code-keyword">void</span> onResume() {
        <span class="code-keyword">super</span>.onResume();
        <span class="code-comment">//</span><span class="code-comment"> Register the BroadcastReceiver for ACTION_FOUND
</span>        IntentFilter filter = <span class="code-keyword">new</span> IntentFilter(BluetoothDevice.ACTION_FOUND);
        <span class="code-keyword">this</span>.registerReceiver(broadcastReceiver, filter);
    }

    <span class="code-sdkkeyword">@Override</span>
    <span class="code-keyword">protected</span> <span class="code-keyword">void</span> onPause() {
        <span class="code-keyword">super</span>.onPause();
        <span class="code-keyword">this</span>.unregisterReceiver(broadcastReceiver);
    }

<span class="code-comment">//</span><span class="code-comment"> other code
</span>}</pre>

<h4>Testing 1, 2, 3...</h4>

<p>Before you can test it on a real device, you will have to create navigation from the "MainActivity". Do these:</p>

<ul>
	<li>
	<p>In the "activity_main.xml", add the "android:onClick" attribute to the &lt;Button&gt; node as shown,</p>

	<div class="pre-action-link" id="premain54392" style="width:100%;display:block;"><span id="prehide54392" onclick="processCodeBlocks.togglePre(54392);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(54392);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre54392">android:onClick=<span class="code-string">"</span><span class="code-string">getBluetoothActivity"</span></pre>
	</li>
	<li>
	<p>In the "MainActivity.java", add the "getBluetoothActivity()" method 
to navigate to the "BluetoothActivity" when the button is clicked.</p>

	<div class="pre-action-link" id="premain23640" style="width:100%;display:block;"><span id="prehide23640" onclick="processCodeBlocks.togglePre(23640);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(23640);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre23640"><span class="code-keyword">public</span> <span class="code-keyword">void</span> getBluetoothActivity(View view) {
    Intent intent = <span class="code-keyword">new</span> Intent(getApplicationContext(), BluetoothActivity.<span class="code-keyword">class</span>);
    startActivity(intent);
}</pre>
	</li>
</ul>

<p>Launch the app on a real device, navigate to the "BluetoothActivity" 
page, and then click the "ToggleButton" to turn on Bluetooth. Oop! What 
happens? It crashes! (Figure 5) The cause of this is that the app has 
not been granted permission to access Bluetooth on the device.</p>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/bluetooth04.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 5: App Crashes</div>
			</td>
		</tr>
	</tbody>
</table>

<h4>Granting Bluetooth Access</h4>

<p>Before using Bluetooth in an app, you must declare the Bluetooth permission "<a href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH" target="_blank">BLUETOOTH</a>"
 in the app's manifest file. You need this permission to perform any 
Bluetooth operation, such as requesting a connection, accepting a 
connection, and exchanging data. In addition, if the app has to discover
 remote Bluetooth devices and perform pairing, then you must also 
declare the "<a href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH_ADMIN" target="_blank">BLUETOOTH_ADMIN</a>"
 permission. Note that in order to grant "BLUETOOTH_ADMIN" permission, 
you must have the "BLUETOOTH" permission first. Declare the Bluetooth 
permissions in the "AndroidManifiest.xml" of the app. For example:</p>

<div class="pre-action-link" id="premain213381" style="width:100%;display:block;"><span id="prehide213381" onclick="processCodeBlocks.togglePre(213381);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(213381);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre213381">&lt;uses-permission android:name=<span class="code-string">"</span><span class="code-string">android.permission.BLUETOOTH"</span> /&gt;
&lt;uses-permission android:name=<span class="code-string">"</span><span class="code-string">android.permission.BLUETOOTH_ADMIN"</span> /&gt;</pre>

<h4>Discovering and Being Discoverable</h4>

<p>With the necessary permissions added, You app should be able to 
discovery all visible remote Bluetooth devices within range. (Figures 6 
to 8).</p>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/bluetooth05.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 6: Request Permission to Turn on Bluetooth</div>
			</td>
		</tr>
	</tbody>
</table>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/bluetooth07.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 7: Request Permission to Turn on Discoverability</div>
			</td>
		</tr>
	</tbody>
</table>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/bluetooth08.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 8: Discovered Devices and be Discoverable</div>
			</td>
		</tr>
	</tbody>
</table>

<h4>Connecting Devices</h4>

<p>Discovering devices is only the first step to any Bluetooth 
operations, such as listening for incoming connection, requesting a 
connection, accepting a connection, and exchanging data. The connection 
mechanism follows that of the client-server model. In general, to 
implement a connection between two devices, one of them has to act as 
the server and the other the client. The server makes itself 
discoverable and waits for connection request from client. The client on
 the other hand initiates the connection using the server device's MAC 
address discovered during a discovery process.</p>

<p>We will walk through the process for setting up a connection between Android devices.</p>

<h4>Setting Up a Listening Server</h4>

<p>The device that acts as the server must hold an open "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothServerSocket.html" target="_blank">BluetoothServerSocket</a>"
 which is the server socket that listens for incoming connection 
requests. When the connection request is accepted, the server socket 
will return a connected "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothSocket.html" target="_blank">BluetoothSocket</a>"
 to be used for managing the connection. Once the "BluetoothSocket" is 
acquired, the "BluetoothServerSocket" can then be discarded. The process
 goes like this:</p>

<ol>
	<li>
	<p>Call the "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#listenUsingRfcommWithServiceRecord%28java.lang.String,%20java.util.UUID%29" target="_blank">listenUsingRfcommWithServiceRecord()"</a>
 method of the "BluetoothAdapter" handle to return a secure RFCOMM 
(Radio Frequency Communication) "BluetoothServerSocket" with Service 
Record. For example:</p>

	<div class="pre-action-link" id="premain690846" style="width:100%;display:block;"><span id="prehide690846" onclick="processCodeBlocks.togglePre(690846);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(690846);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre690846">BluetoothServerSocket  bluetoothServerSocket = bluetoothAdapter.listenUsingRfcommWithServiceRecord(getString(R.<span class="code-keyword">string</span>.app_name), uuid);</pre>

	<p>The first string parameter is the service name which could be the 
app name. The second parameter is a Universally Unique Identifier (UUID)
 which is a standardized 128-bit format for a string ID that is used to 
uniquely identify the Bluetooth service in the app. The system will 
automatically write the service name, UUID, and the RFCOMM channel to 
the Service Discovery Protocol (SDP) database on the device. Remote 
Bluetooth devices can then use this same UUID to query the SDP server 
and discover which channel and service to connect to. You can generate a
 UUID string using some online UUID generator, and then convert the 
string to a UUID like this:</p>

	<div class="pre-action-link" id="premain594795" style="width:100%;display:block;"><span id="prehide594795" onclick="processCodeBlocks.togglePre(594795);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(594795);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre594795"><span class="code-keyword">private</span> final <span class="code-keyword">static</span> UUID uuid = UUID.fromString(<span class="code-string">"</span><span class="code-string">fc5ffc49-00e3-4c8b-9cf1-6b72aad1001a"</span>);</pre>
	</li>
	<li>
	<p>Call the "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothServerSocket.html#accept%28%29">accept()</a>"
 method of the "BluetoothServerSocket" to start listening for connection
 requests. The call will block the current thread until a connection is 
accepted or an exception has occurred. The "BluetoothServerSocket" will 
only accept a connection request that has a matching UUID. Once a 
connection is accepted, "accept()" will return a "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothSocket.html">BluetoothSocket</a>" to manage the connection. Once the "BluetoothSocket" is acquired, you should close "BluetoothServerSocket" by calling its "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothServerSocket.html#close%28%29">close()</a>" method as it is no longer needed. For example:</p>

	<div class="pre-action-link" id="premain909385" style="width:100%;display:block;"><span id="prehide909385" onclick="processCodeBlocks.togglePre(909385);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(909385);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre909385">BluetoothSocket bluetoothSocket = bluetoothServerSocket.accept();
bluetoothServerSocket.close();</pre>
	</li>
</ol>

<p>As the "accept()" will block any other interaction until a connection
 is accepted, it should not be run in the main UI thread. As a matter 
fact, it is a best practice to handle any operation that involves 
"BluetoothServerSocket" or "BluetoothSocket" in a new thread managed by 
the app. Here is an example of a thread that handles the setting up of a
 server on an Android device:</p>

<div class="pre-action-link" id="premain139089" style="width:100%;display:block;"><span id="prehide139089" onclick="processCodeBlocks.togglePre(139089);">Hide</span>  &nbsp; <span id="preShrink139089" onclick="processCodeBlocks.shrinkExpand(139089);">Shrink</span> <img id="preimg139089" src="Android%20Connectivity%20-%20CodeProject_files/arrow-up-16.png" style="height:16px;width:16px" onclick="processCodeBlocks.shrinkExpand(139089);">  &nbsp; <span onclick="return processCodeBlocks.copyCode(139089);">Copy Code</span></div><pre class="notranslate" processed="true" style="margin-top: 0px;" id="pre139089" lang="java"><span class="code-keyword">private</span> <span class="code-keyword">class</span> ListeningThread <span class="code-keyword">extends</span> Thread {
    <span class="code-keyword">private</span> <span class="code-keyword">final</span> BluetoothServerSocket bluetoothServerSocket;

    <span class="code-keyword">public</span> ListeningThread() {
        BluetoothServerSocket temp = null;
        <span class="code-keyword">try</span> {
            temp = bluetoothAdapter.listenUsingRfcommWithServiceRecord(getString(R.string.app_name), uuid);

        } <span class="code-keyword">catch</span> (IOException e) {
                e.printStackTrace();
        }
            bluetoothServerSocket = temp;
    }

    <span class="code-keyword">public</span> <span class="code-keyword">void</span> run() {
        BluetoothSocket bluetoothSocket;
        <span class="code-comment">//</span><span class="code-comment"> This will block while listening until a BluetoothSocket is returned
</span>        <span class="code-comment">//</span><span class="code-comment"> or an exception occurs
</span>        <span class="code-keyword">while</span> (true) {
            <span class="code-keyword">try</span> {
                bluetoothSocket = bluetoothServerSocket.accept();
            } <span class="code-keyword">catch</span> (IOException e) {
                <span class="code-keyword">break</span>;
            }
            <span class="code-comment">//</span><span class="code-comment"> If a connection is accepted
</span>            <span class="code-keyword">if</span> (bluetoothSocket != null) {

                runOnUiThread(<span class="code-keyword">new</span> Runnable() {
                    <span class="code-keyword">public</span> <span class="code-keyword">void</span> run() {
                        Toast.makeText(getApplicationContext(), <span class="code-string">"</span><span class="code-string">A connection has been accepted."</span>,
                                Toast.LENGTH_SHORT).show();
                    }
                });

                <span class="code-comment">//</span><span class="code-comment"> Manage the connection in a separate thread
</span>
                <span class="code-keyword">try</span> {
                    bluetoothServerSocket.close();
                } <span class="code-keyword">catch</span> (IOException e) {
                    e.printStackTrace();
                }
                <span class="code-keyword">break</span>;
            }
        }
    }

    <span class="code-comment">//</span><span class="code-comment"> Cancel the listening socket and terminate the thread
</span>    <span class="code-keyword">public</span> <span class="code-keyword">void</span> cancel() {
        <span class="code-keyword">try</span> {
            bluetoothServerSocket.close();
        } <span class="code-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
}</pre>

<p>Then call it from the main UI thread like this:</p>

<div class="pre-action-link" id="premain711353" style="width:100%;display:block;"><span id="prehide711353" onclick="processCodeBlocks.togglePre(711353);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(711353);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre711353" lang="java">ListeningThread t = <span class="code-keyword">new</span> ListeningThread();
t.start();</pre>

<h4><strong>Setting Up a Connecting Client</strong></h4>

<p>Once you have set up a device as a discoverable server holding an 
open "BluetoothServerSocket" and listening for connection request, any 
other Bluetooth device within range can discover and initiate connection
 request to it as a client. For that to happen, this client device must 
know the MAC address of that server device and a matching UUID to that 
particular connection.</p>

<p>In the preceding section on "Discovering Remote Bluetooth Devices", 
you have learned to find remote Bluetooth devices and display their 
names and MAC addresses on a "ListView". You will select one of them to 
initiate a connection request. To do that, you will set a 
"setOnItemClickListener" to the "ListView" to listen for any click event
 performed on this "ListView", and when it happens, pick up the selected
 item from its "onItemClick()" event handler. In this way, the app will 
be able to pick up the selected MAC address, passing it as parameter to 
the "getRemoteDevice()" method of the "BluetoothAdapter" handle to 
obtain a "BluetoothDevice" object representing the remove server device.
 Your app will then pass this "BluetoothDevice" object to a new thread 
to initiate a connection request to this object. For example:</p>

<div class="pre-action-link" id="premain920998" style="width:100%;display:block;"><span id="prehide920998" onclick="processCodeBlocks.togglePre(920998);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(920998);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre920998" lang="java">listview.setOnItemClickListener(<span class="code-keyword">new</span> AdapterView.OnItemClickListener() {
    <span class="code-sdkkeyword">@Override</span>
    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onItemClick(AdapterView&lt;?&gt; parent, View view, <span class="code-keyword">int</span> position, <span class="code-keyword">long</span> id) {
        <span class="code-sdkkeyword">String</span>  itemValue = (<span class="code-sdkkeyword">String</span>) listview.getItemAtPosition(position);
        <span class="code-sdkkeyword">String</span> MAC = itemValue.substring(itemValue.length() - <span class="code-digit">17</span>);
        BluetoothDevice bluetoothDevice = bluetoothAdapter.getRemoteDevice(MAC);
        <span class="code-comment">//</span><span class="code-comment"> Initiate a connection request in a separate thread
</span>        ConnectingThread t = <span class="code-keyword">new</span> ConnectingThread(bluetoothDevice);
        t.start();
    }
});</pre>

<p>In the new thread, the process goes like this:</p>

<ol>
	<li>
	<p>Using the "BluetoothDevice" object that represents the remove server device, the app will call the "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothDevice.html#createRfcommSocketToServiceRecord%28java.util.UUID%29">createRfcommSocketToServiceRecord(UUID)</a>" method to create an RFCOMM "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothSocket.html">BluetoothSocket</a>"
 ready to start a secure connection to this remote device using SDP 
lookup on the UUID parameter. The UUID passed here must match the UUID 
used by the open "BluetoothServerSocket" of the server device. For 
example:</p>

	<div class="pre-action-link" id="premain381755" style="width:100%;display:block;"><span id="prehide381755" onclick="processCodeBlocks.togglePre(381755);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(381755);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre381755">BluetoothSocket bluetoothSocket = bluetoothDevice.createRfcommSocketToServiceRecord(uuid);</pre>
	</li>
	<li>
	<p>Call the "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothSocket.html#connect%28%29">connect()</a>"
 method of the "BluetoothSocket" to initiate the connection request. 
Upon this call, the system will perform an SDP lookup on the remote 
device to find the service that matches the UUID. This call will block 
the current thread until a connection is accepted or an exception has 
occurred due to a connection error or a time-out after 12 seconds. If 
the lookup is successful and the connection requests is accepted, the 
"connect()", a connection over a shared RFCOMM channel will be 
established for subsequent communication. For example:</p>

	<div class="pre-action-link" id="premain26050" style="width:100%;display:block;"><span id="prehide26050" onclick="processCodeBlocks.togglePre(26050);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(26050);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre26050">bluetoothSocket.connect();</pre>
	</li>
</ol>

<p>As the "connect()" will block any other interaction until a 
connection is accepted, it should not be run in the main UI thread. Here
 is an example of a thread that handles the connection request of a 
client on an Android device:</p>

<div class="pre-action-link" id="premain96247" style="width:100%;display:block;"><span id="prehide96247" onclick="processCodeBlocks.togglePre(96247);">Hide</span>  &nbsp; <span id="preShrink96247" onclick="processCodeBlocks.shrinkExpand(96247);">Shrink</span> <img id="preimg96247" src="Android%20Connectivity%20-%20CodeProject_files/arrow-up-16.png" style="height:16px;width:16px" onclick="processCodeBlocks.shrinkExpand(96247);">  &nbsp; <span onclick="return processCodeBlocks.copyCode(96247);">Copy Code</span></div><pre class="notranslate" processed="true" style="margin-top: 0px;" id="pre96247" lang="java"><span class="code-keyword">private</span> <span class="code-keyword">class</span> ConnectingThread <span class="code-keyword">extends</span> Thread {
    <span class="code-keyword">private</span> <span class="code-keyword">final</span> BluetoothSocket bluetoothSocket;
    <span class="code-keyword">private</span> <span class="code-keyword">final</span> BluetoothDevice bluetoothDevice;

    <span class="code-keyword">public</span> ConnectingThread(BluetoothDevice device) {

        BluetoothSocket temp = null;
        bluetoothDevice = device;

        <span class="code-comment">//</span><span class="code-comment"> Get a BluetoothSocket to connect with the given BluetoothDevice
</span>        <span class="code-keyword">try</span> {
            temp = bluetoothDevice.createRfcommSocketToServiceRecord(uuid);
        } <span class="code-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
        bluetoothSocket = temp;
    }

    <span class="code-keyword">public</span> <span class="code-keyword">void</span> run() {
        <span class="code-comment">//</span><span class="code-comment"> Cancel any discovery as it will slow down the connection
</span>        bluetoothAdapter.cancelDiscovery();

        <span class="code-keyword">try</span> {
            <span class="code-comment">//</span><span class="code-comment"> This will block until it succeeds in connecting to the device
</span>            <span class="code-comment">//</span><span class="code-comment"> through the bluetoothSocket or throws an exception
</span>            bluetoothSocket.connect();
        } <span class="code-keyword">catch</span> (IOException connectException) {
            connectException.printStackTrace();
            <span class="code-keyword">try</span> {
                bluetoothSocket.close();
            } <span class="code-keyword">catch</span> (IOException closeException) {
                closeException.printStackTrace();
            }
        }

        <span class="code-comment">//</span><span class="code-comment"> Code to manage the connection in a separate thread
</span>        <span class="code-comment">/*</span><span class="code-comment">
            manageBluetoothConnection(bluetoothSocket);
        */</span>
    }

    <span class="code-comment">//</span><span class="code-comment"> Cancel an open connection and terminate the thread
</span>    <span class="code-keyword">public</span> <span class="code-keyword">void</span> cancel() {
        <span class="code-keyword">try</span> {
            bluetoothSocket.close();
        } <span class="code-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
}</pre>

<blockquote class="quote">
<div class="op" id="learning_point2">Note:</div>

<p itemprop="articleBody">Always call "<a href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#cancelDiscovery%28%29" target="_blank">cancelDiscovery()</a>"
 method of the "BluetoothAdapter" to cancel any device discovery 
activity before attempting any connection request lest it should slow 
down the process and cause time-out failure.</p>
</blockquote>

<p>Then call it from the main UI thread like this:</p>

<div class="pre-action-link" id="premain207563" style="width:100%;display:block;"><span id="prehide207563" onclick="processCodeBlocks.togglePre(207563);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(207563);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre207563" lang="java">ConnectingThread t = <span class="code-keyword">new</span> ConnectingThread(bluetoothDevice);
t.start();</pre>

<p>Once the connection is successfully establish, the two connected 
devices can then start exchanging data using their own 
"BluetoothSockets" in a new thread. The example below shows a dummy 
method "manageBluetoothConnection()" that will initiate the thread for 
transferring data.</p>

<div class="pre-action-link" id="premain652735" style="width:100%;display:block;"><span id="prehide652735" onclick="processCodeBlocks.togglePre(652735);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(652735);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre652735"><span class="code-comment">//</span><span class="code-comment"> Code to manage the connection in a separate thread
</span><span class="code-comment">/*</span><span class="code-comment">
    manageBluetoothConnection(bluetoothSocket);
*/</span></pre>

<h4>Managing a Connection</h4>

<p>Once a connection has been successfully established, the server 
device and the client device will each have a connected 
"BluetoothSocket". They can then share data using the "BluetoothSocket".
 Generally, it goes like this:</p>

<ol>
	<li>
	<p>Obtain an <a href="http://developer.android.com/reference/java/io/InputStream.html">InputStream</a> handle and an <a href="http://developer.android.com/reference/java/io/OutputStream.html">OutputStream</a> handle from the "BluetoothSocket" by calling <a href="http://developer.android.com/reference/android/bluetooth/BluetoothSocket.html#getInputStream%28%29">getInputStream()</a> and <a href="http://developer.android.com/reference/android/bluetooth/BluetoothSocket.html#getOutputStream%28%29">getOutputStream()</a> respectively.</p>
	</li>
	<li>
	<p>Start listening for incoming data via the "<a href="http://developer.android.com/reference/java/io/InputStream.html#read%28byte[]%29" target="_blank">read()</a>" method of the "InputStream" handle.</p>
	</li>
	<li>
	<p>Sending of data is done via the "<a href="http://developer.android.com/reference/java/io/OutputStream.html#write%28byte[]%29">write()</a>" method of the "OutputStream" handle.</p>
	</li>
</ol>

<p>As both read() and write() are blocking calls, they should be run in 
separate threads. I shall leave the actual coding to you as homework. 
delve into the detail of the I/O stream operation as it is beyond the 
scope of this article. <img src="Android%20Connectivity%20-%20CodeProject_files/smiley_tongue.gif" alt="Poke tongue | ;-P" align="top"> </p>

<h4>Testing Bluetooth</h4>

<p>The complete code for the "BluetoothActivity.java" can be found in the download.</p>

<p>In the code, the app has set up the device as both a server and a 
client. Launch this app on different Android devices, and then turn on 
the Bluetooth using the "ToggleButton". Each device will open a server 
socket and start listening for connection while at the same time it can 
also initiate connection to other device that runs this app. They should
 be able to discover and display one another on the "ListView". When you
 click on the one of the device item on the "ListView", it will start to
 initiate connection request to this selected device. If the two devices
 have not been paired, the user will receive a pairing request dialog 
during the connection procedure, as shown in Figure 9. The connection 
attempt will block until the user has accepted the pairing, or will fail
 if the user rejects the pairing.</p>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/bluetooth09.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 9: Request for Pairing</div>
			</td>
		</tr>
	</tbody>
</table>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/bluetooth10.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 10: Bluetooth Connection Established</div>
			</td>
		</tr>
	</tbody>
</table>

<h2 id="wifi">Wi-Fi</h2>

<p>The Android platform provides "<a href="http://developer.android.com/reference/android/net/wifi/WifiManager.html" target="_blank">WifiManager</a>" API to manage all aspects of Wi-Fi connectivity on an Android device. Through this API, an app can:</p>

<ul>
	<li>
	<p>Scan access points and obtain information, such as BSSID, SSID, frequency, key management, and encryption schemes.</p>
	</li>
	<li>
	<p>Establish or terminate a Wi-Fi connection.</p>
	</li>
	<li>Configure networks.</li>
</ul>

<p>"WifiManager" also defines various Intent actions that can be 
broadcasted upon any change in the Wi-Fi state, such as 
"SCAN_RESULTS_AVAILABLE_ACTION" and "NETWORK_STATE_CHANGED_ACTION".</p>

<h4>The Wi-Fi Agenda</h4>

<p>We will create an Activity to perform the following Wi-Fi functionalities:</p>

<ul>
	<li>Enable/disable Wi-Fi.</li>
</ul>

<ul>
	<li>
	<p>Discover access points.</p>
	</li>
	<li>
	<p>List the information of those found access points in a "ListView".</p>
	</li>
</ul>

<p>In the current project,</p>

<ul>
	<li>
	<p>Create a new Activity called "WiFiActivity" using "RelativeLayout" as layout that contains a "ToggleButton" and a "ListView".</p>
	</li>
	<li>
	<p>The "activity_wi_fi.xml" is shown below:</p>

	<div class="pre-action-link" id="premain350057" style="width:100%;display:block;"><span id="prehide350057" onclick="processCodeBlocks.togglePre(350057);">Hide</span>  &nbsp; <span id="preShrink350057" onclick="processCodeBlocks.shrinkExpand(350057);">Shrink</span> <img id="preimg350057" src="Android%20Connectivity%20-%20CodeProject_files/arrow-up-16.png" style="height:16px;width:16px" onclick="processCodeBlocks.shrinkExpand(350057);">  &nbsp; <span onclick="return processCodeBlocks.copyCode(350057);">Copy Code</span></div><pre class="notranslate" processed="true" style="margin-top: 0px;" id="pre350057"><span class="code-keyword">&lt;</span><span class="code-leadattribute">RelativeLayout</span> <span class="code-attribute">xmlns:android</span><span class="code-keyword">="</span><span class="code-keyword">http://schemas.android.com/apk/res/android"</span>
    <span class="code-attribute">xmlns:tools</span><span class="code-keyword">="</span><span class="code-keyword">http://schemas.android.com/tools"</span>
    <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:paddingLeft</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_horizontal_margin"</span>
    <span class="code-attribute">android:paddingRight</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_horizontal_margin"</span>
    <span class="code-attribute">android:paddingTop</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_vertical_margin"</span>
    <span class="code-attribute">android:paddingBottom</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_vertical_margin"</span>
    <span class="code-attribute">tools:context</span><span class="code-keyword">="</span><span class="code-keyword">com.peterleow.androidconnection.WiFiActivity"</span><span class="code-keyword">&gt;</span>

    <span class="code-keyword">&lt;</span><span class="code-leadattribute">ToggleButton</span>
        <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:id</span><span class="code-keyword">="</span><span class="code-keyword">@+id/toggleButton"</span>
        <span class="code-attribute">android:textOn</span><span class="code-keyword">="</span><span class="code-keyword">Wi-Fi On"</span>
        <span class="code-attribute">android:textOff</span><span class="code-keyword">="</span><span class="code-keyword">Wi-Fi Off"</span>
        <span class="code-attribute">android:onClick</span><span class="code-keyword">="</span><span class="code-keyword">onToggleClicked"</span>
        <span class="code-attribute">android:layout_alignParentTop</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_alignParentLeft</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_alignParentStart</span><span class="code-keyword">="</span><span class="code-keyword">true"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>

    <span class="code-keyword">&lt;</span><span class="code-leadattribute">ListView</span>
        <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:id</span><span class="code-keyword">="</span><span class="code-keyword">@+id/listView"</span>
        <span class="code-attribute">android:layout_centerHorizontal</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_below</span><span class="code-keyword">="</span><span class="code-keyword">@+id/toggleButton"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>

<span class="code-keyword">&lt;</span><span class="code-leadattribute">/RelativeLayout</span><span class="code-keyword">&gt;</span></pre>

	<p>The preview of "WiFiActivity" should look like that in Figure 11.</p>

	<table border="0">
		<tbody>
			<tr>
				<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/wifi01.png"></td>
			</tr>
			<tr>
				<td align="center">
				<div class="Caption">Figure 11: Preview of WiFiActivity</div>
				</td>
			</tr>
		</tbody>
	</table>
	</li>
</ul>

<h4>Granting Wi-Fi Access</h4>

<p>Before using Wi-Fi in an app, you must declare the &lt;user-permission&gt;'s for "<a href="http://developer.android.com/reference/android/Manifest.permission.html#ACCESS_WIFI_STATE" target="_blank">ACCESS_WIFI_STATE</a>" and "<a href="http://developer.android.com/reference/android/Manifest.permission.html#CHANGE_WIFI_STATE" target="_blank">CHANGE_WIFI_STATE</a>"
 in the app's manifest file. You need this "ACCESS_WIFI_STATE" 
permission to access information about Wi-Fi networks and 
"CHANGE_WIFI_STATE" to change Wi-Fi connectivity state. For example:</p>

<div class="pre-action-link" id="premain538427" style="width:100%;display:block;"><span id="prehide538427" onclick="processCodeBlocks.togglePre(538427);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(538427);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre538427">&lt;uses-permission android:name=<span class="code-string">"</span><span class="code-string">android.permission.ACCESS_WIFI_STATE"</span> /&gt;
&lt;uses-permission android:name=<span class="code-string">"</span><span class="code-string">android.permission.CHANGE_WIFI_STATE"</span> /&gt;</pre>

<h4>Verifying Wi-Fi Support</h4>

<p>Before any attempt to use Wi-Fi functionalities in an app, it must 
verify whether the device supports Wi-Fi. To do that, you have to get a 
handle of the "<a href="http://developer.android.com/reference/android/net/wifi/WifiManager.html" target="_blank">WifiManager</a>" class by calling "<a href="http://developer.android.com/reference/android/content/Context.html#getSystemService%28java.lang.String%29">Context.getSystemService(Context.WIFI_SERVICE)</a>". For example:</p>

<div class="pre-action-link" id="premain602166" style="width:100%;display:block;"><span id="prehide602166" onclick="processCodeBlocks.togglePre(602166);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(602166);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre602166">WifiManager wifiManager = (WifiManager) getSystemService(Context.WIFI_SERVICE);
<span class="code-keyword">if</span> (wifiManager == <span class="code-keyword">null</span>) {
    <span class="code-comment">//</span><span class="code-comment"> Device does not support Wi-Fi
</span>} <span class="code-keyword">else</span> {
    <span class="code-comment">//</span><span class="code-comment"> Any vaild Wi-Fi operations
</span>}
</pre>

<h4>Toggling Wi-Fi</h4>

<p>Once a "WifiManager" handle is obtained, the app can toggle the on/off state of the Wi-Fi on the device by calling the "<a href="http://developer.android.com/reference/android/net/wifi/WifiManager.html#setWifiEnabled%28boolean%29" target="_blank">setWifiEnabled()</a>"
 method of the "WifiManager" handle which takes a boolean parameter of 
"true" to turn on and "false" to turn off the Wi-Fi. For example:</p>

<div class="pre-action-link" id="premain683914" style="width:100%;display:block;"><span id="prehide683914" onclick="processCodeBlocks.togglePre(683914);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(683914);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre683914">wifiManager.setWifiEnabled(<span class="code-keyword">true</span>); <span class="code-comment">//</span><span class="code-comment"> To turn on the Wi-Fi</span></pre>

<h4>Discovering Access Points</h4>

<p>Next, make the app discover access points by calling the "<a href="http://developer.android.com/reference/android/net/wifi/WifiManager.html#startScan%28%29" target="_blank">startScan()</a>" method of the "WifiManager" handle. For example:</p>

<div class="pre-action-link" id="premain752666" style="width:100%;display:block;"><span id="prehide752666" onclick="processCodeBlocks.togglePre(752666);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(752666);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre752666">wifiManager.startScan();</pre>

<p>The process is asynchronous and the "startScan()" method will 
immediately return with a boolean indicating whether discovery has 
successfully started. How can the app be notified of the outcome of the 
discovery process? Here comes the role of "<a href="http://developer.android.com/reference/android/content/BroadcastReceiver.html" target="_blank">BroadcastReceiver</a>" class.</p>

<p>When the scan has completed, the Android system will broadcast the "<a href="http://developer.android.com/reference/android/net/wifi/WifiManager.html#SCAN_RESULTS_AVAILABLE_ACTION" target="_blank">SCAN_RESULTS_AVAILABLE_ACTION</a>" Intent. The results of the scan can then be obtained by calling the "<a href="http://developer.android.com/reference/android/content/Context.html#getSystemService%28java.lang.String%29" target="_blank">getScanResults()</a>" method of the "WifiManager" handle.</p>

<p>In order to capture this broadcast, you app must register a 
"BroadcastReceiver" for this "SCAN_RESULTS_AVAILABLE_ACTION" Intent. 
First, you create a "BroadcastReceiver" class like this:</p>

<div class="pre-action-link" id="premain426058" style="width:100%;display:block;"><span id="prehide426058" onclick="processCodeBlocks.togglePre(426058);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(426058);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre426058"><span class="code-keyword">class</span> WiFiScanReceiver extends BroadcastReceiver {
    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onReceive(Context context, Intent intent) {
        <span class="code-sdkkeyword">String</span> action = intent.getAction();
        <span class="code-keyword">if</span> (WifiManager.SCAN_RESULTS_AVAILABLE_ACTION.equals(action)) {
            List&lt;ScanResult&gt; wifiScanResultList = wifiManager.getScanResults();
            <span class="code-keyword">for</span>(<span class="code-keyword">int</span> i = <span class="code-digit">0</span>; i &lt; wifiScanResultList.size(); i++){
                <span class="code-sdkkeyword">String</span> hotspot = (wifiScanResultList.<span class="code-keyword">get</span>(i)).toString();
                adapter.<span class="code-keyword">add</span>(hotspot);
            }
        }
    }
}</pre>

<p>then register this "BroadcastReceiver" class for the "SCAN_RESULTS_AVAILABLE_ACTION" Intent like this:</p>

<div class="pre-action-link" id="premain958071" style="width:100%;display:block;"><span id="prehide958071" onclick="processCodeBlocks.togglePre(958071);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(958071);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre958071">IntentFilter filter = <span class="code-keyword">new</span> IntentFilter(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION);
registerReceiver(wifiReciever, filter);</pre>

<blockquote class="quote">
<div class="op" id="learning_point">Note:</div>

<p>As the app will not be receiving any Intent when paused, always unregister the "BroadcastReceiver" on "<a href="http://developer.android.com/reference/android/app/Activity.html#onPause%28%29" target="_blank">Activity.onPause()</a>" and register it on "<a href="http://developer.android.com/reference/android/app/Activity.html#onResume%28%29" target="_blank">Activity.onResume()</a>", and this will reduce unnecessary system overhead.</p>
</blockquote>

<p>When a scan has completed, the app will be notified through the 
""BroadcastReceiver". The app can then obtain the scan result by calling
 the "<a href="http://developer.android.com/reference/android/net/wifi/WifiManager.html#getScanResults%28%29" target="_blank">getScanResults()</a>"
 method of the "WifiManager" handle and populate the result in the 
"ListView" via an "ArrayAdapter". Each discovered access point will be 
returned in the form of a "<a href="http://developer.android.com/reference/android/net/wifi/ScanResult.html" target="_blank">ScanResult</a>" object that contains the following information about that access point:</p>

<ul>
	<li>BSSID</li>
	<li>SSID</li>
	<li>Capabilities</li>
	<li>Frequency</li>
	<li>Level</li>
	<li>Timestamp</li>
</ul>

<h4>Testing Wi-Fi</h4>

<p>The complete code for the "WiFiActivity.java" can be found in the download.</p>

<p>Before you can test it on a real device, you will have to create navigation from the "MainActivity". Do these:</p>

<ul>
	<li>
	<p>In the "activity_main.xml", add a second &lt;Button&gt; with the "android:onClick" attribute as shown:</p>

	<div class="pre-action-link" id="premain406512" style="width:100%;display:block;"><span id="prehide406512" onclick="processCodeBlocks.togglePre(406512);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(406512);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre406512"><span class="code-keyword">&lt;</span><span class="code-leadattribute">Button</span>
    <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
    <span class="code-attribute">android:text</span><span class="code-keyword">="</span><span class="code-keyword">@string/wifi"</span>
    <span class="code-attribute">android:id</span><span class="code-keyword">="</span><span class="code-keyword">@+id/btnWifi"</span>
    <span class="code-attribute">android:onClick</span><span class="code-keyword">="</span><span class="code-keyword">getWifiActivity"</span>
    <span class="code-attribute">android:layout_below</span><span class="code-keyword">="</span><span class="code-keyword">@+id/btnBluetooth"</span>
    <span class="code-attribute">android:layout_centerHorizontal</span><span class="code-keyword">="</span><span class="code-keyword">true"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span></pre>

	<p>The "MainActivity" page should look like that in Figure 12.</p>

	<table border="0">
		<tbody>
			<tr>
				<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/wifi015.png"></td>
			</tr>
			<tr>
				<td align="center">
				<div class="Caption">Figure 12: Preview of MainActivity</div>
				</td>
			</tr>
		</tbody>
	</table>
	</li>
	<li>
	<p>In the "MainActivity.java", add the "getBluetoothActivity()" method 
to navigate to the "WiFiActivity" when the button is clicked.</p>

	<div class="pre-action-link" id="premain952777" style="width:100%;display:block;"><span id="prehide952777" onclick="processCodeBlocks.togglePre(952777);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(952777);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre952777"><span class="code-keyword">public</span> <span class="code-keyword">void</span> getWifiActivity(View view) {
    Intent intent = <span class="code-keyword">new</span> Intent(getApplicationContext(), WiFiActivity.<span class="code-keyword">class</span>);
    startActivity(intent);
}</pre>
	</li>
</ul>

<p>Launch the app on a real device, navigate to the "WiFiActivity", 
click on the "ToggleButton" to turn on the Wi-Fi, and it will start to 
scan for access points. When the scan is over, you will see a list of 
discovered access points in the "ListView". An example is shown in 
Figure 13.</p>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/wifi02.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 13: Discovered Access Points</div>
			</td>
		</tr>
	</tbody>
</table>

<h2 id="nfc">NFC</h2>

<p>NFC or Near Field Communication is a set of short-range wireless 
technologies. It allows you to share small amount of data between an NFC
 tag and an NFC-enabled device or between NFC-enabled devices within a 
short distance of no more than 4cm. NFC tags vary considerably in terms 
of capabilities and data formats. The capabilities could range from 
passive tags that offer just read and write by Android devices to more 
intelligent tags that can interact with code executing on the tags. 
Despite the many data formats, most of the Android framework APIs are 
based on this standard called "<a href="http://developer.android.com/reference/android/nfc/tech/Ndef.html" target="_blank">NDEF</a>" (NFC Data Exchange Format). NDEF data is encapsulated inside a message implemented as an <a href="http://developer.android.com/reference/android/nfc/NdefMessage.html">NdefMessage</a> object which in turn contains one or more records as <a href="http://developer.android.com/reference/android/nfc/NdefRecord.html">NdefRecord</a> objects.</p>

<p>An Android app can make use of the NFC technologies to perform the following operations:</p>

<ul>
	<li>
	<p>Read and write to NFC tags.</p>
	</li>
	<li>
	<p>Perform peer-to-peer (P2P) data exchange between two NFC-enabled 
devices. This feature is called "Android Beam" and was introduced in API
 level 14. It allows the rapid short-range exchange of data like 
contact, bookmark, video, and many more.</p>
	</li>
	<li>Turn an NFC-enabled device into an NFC card so that it can be 
accessed by an external NFC reader. For example, paying for your 
groceries by tapping your NFC-enabled Android device on a NFC 
point-of-sale terminal..</li>
</ul>

<h4>The NFC Agenda</h4>

<p>We will create an Activity to implement the "Android Beam" feature to
 perform simple peer-to-peer exchange of "NDEF" message over NFC between
 two Android devices. The app that wants to beam data to another device 
must be in the foreground and the device that receives the data must not
 be locked. Unlike Bluetooth which requires manual discovery and 
pairing, NFC connection is automatically started when two devices come 
into range. At that point, the beaming device will display the "Touch to
 Beam" message. The user can then proceed to beam by touching the screen
 or just pull the devices away to cancel the beaming.</p>

<p>In the current project,</p>

<ul>
	<li>
	<p>Create a new Activity called "NfcActivity" using "RelativeLayout" as layout that contains an "EditText" text field.</p>
	</li>
	<li>
	<p>The "activity_nfc.xml" is shown below:</p>

	<div class="pre-action-link" id="premain881971" style="width:100%;display:block;"><span id="prehide881971" onclick="processCodeBlocks.togglePre(881971);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(881971);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre881971"><span class="code-keyword">&lt;</span><span class="code-leadattribute">RelativeLayout</span> <span class="code-attribute">xmlns:android</span><span class="code-keyword">="</span><span class="code-keyword">http://schemas.android.com/apk/res/android"</span>
    <span class="code-attribute">xmlns:tools</span><span class="code-keyword">="</span><span class="code-keyword">http://schemas.android.com/tools"</span>
    <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:paddingLeft</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_horizontal_margin"</span>
    <span class="code-attribute">android:paddingRight</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_horizontal_margin"</span>
    <span class="code-attribute">android:paddingTop</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_vertical_margin"</span>
    <span class="code-attribute">android:paddingBottom</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_vertical_margin"</span>
    <span class="code-attribute">tools:context</span><span class="code-keyword">="</span><span class="code-keyword">com.peterleow.androidconnection.NfcActivity"</span><span class="code-keyword">&gt;</span>

    <span class="code-keyword">&lt;</span><span class="code-leadattribute">EditText</span>
        <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:textAppearance</span><span class="code-keyword">="</span><span class="code-keyword">?android:attr/textAppearanceLarge"</span>
        <span class="code-attribute">android:id</span><span class="code-keyword">="</span><span class="code-keyword">@+id/editText"</span>
        <span class="code-attribute">android:hint</span><span class="code-keyword">="</span><span class="code-keyword">Type something..."</span>
        <span class="code-attribute">android:layout_alignParentTop</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_centerHorizontal</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_marginTop</span><span class="code-keyword">="</span><span class="code-keyword">39dp"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>

<span class="code-keyword">&lt;</span><span class="code-leadattribute">/RelativeLayout</span><span class="code-keyword">&gt;</span></pre>

	<p>The preview of "NfcActivity" should look like that in Figure 14.</p>

	<table border="0">
		<tbody>
			<tr>
				<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/nfc01.png"></td>
			</tr>
			<tr>
				<td align="center">
				<div class="Caption">Figure 14: Preview of NfcActivity</div>
				</td>
			</tr>
		</tbody>
	</table>
	</li>
</ul>

<h4>Granting NFC Access</h4>

<p>Before using NFC in an app, you must declare the &lt;user-permission&gt; for "<a href="http://developer.android.com/reference/android/Manifest.permission.html#NFC" target="_blank">NFC</a>" in the app's manifest file. You need this "NFC" permission to perform I/O operations over NFC as shown:</p>

<div class="pre-action-link" id="premain762818" style="width:100%;display:block;"><span id="prehide762818" onclick="processCodeBlocks.togglePre(762818);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(762818);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre762818">&lt;uses-permission android:name=<span class="code-string">"</span><span class="code-string">android.permission.NFC"</span> /&gt;</pre>

<p>As not all Android devices provide NFC support, to make sure that the
 app only shows up in Google Play for those devices that have NFC 
Hardware, add the &lt;uses-feature&gt; in the app's manifest<strong> </strong>file like this:</p>

<div class="pre-action-link" id="premain453103" style="width:100%;display:block;"><span id="prehide453103" onclick="processCodeBlocks.togglePre(453103);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(453103);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre453103">&lt;uses-feature android:name=<span class="code-string">"</span><span class="code-string">android.hardware.nfc"</span> android:required=<span class="code-string">"</span><span class="code-string">true"</span> /&gt;</pre>

<h4>Enabling Android Beam</h4>

<p>Before any attempt to use NFC in an app, it must verify whether the 
device supports NFC. To do that, you have to get a handle of the "<a href="http://developer.android.com/reference/android/nfc/NfcAdapter.html" target="_blank">NfcAdapter</a>" class by calling "<a href="http://developer.android.com/reference/android/nfc/NfcAdapter.html#getDefaultAdapter%28android.content.Context%29" target="_blank">NfcAdapter.getDefaultAdapter(Context)</a>". For example:</p>

<div class="pre-action-link" id="premain354918" style="width:100%;display:block;"><span id="prehide354918" onclick="processCodeBlocks.togglePre(354918);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(354918);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre354918"><span class="code-comment">//</span><span class="code-comment"> Check for NFC support
</span>NfcAdapter nfcAdapter = NfcAdapter.getDefaultAdapter(<span class="code-keyword">this</span>);
<span class="code-keyword">if</span> (nfcAdapter == <span class="code-keyword">null</span>) {
    <span class="code-comment">//</span><span class="code-comment"> Device does not support NFC
</span>}</pre>

<h4>Preparing to Beam...</h4>

<p>To beam an NDEF message, an app must first register the "<a href="http://developer.android.com/reference/android/nfc/NfcAdapter.html#setNdefPushMessageCallback%28android.nfc.NfcAdapter.CreateNdefMessageCallback,%20android.app.Activity,%20android.app.Activity...%29" target="_blank">setNdefPushMessageCallback()</a>" method with the "<a href="http://developer.android.com/reference/android/nfc/NfcAdapter.html" target="_blank">NfcAdapter</a>" handle. This method accepts a callback that contains a "<a href="http://developer.android.com/reference/android/nfc/NfcAdapter.CreateNdefMessageCallback.html#createNdefMessage%28android.nfc.NfcEvent%29">createNdefMessage()</a>"
 which will be called when a device comes into range to beam data to. It
 allows the app to generate NDEF message on the fly. This method should 
be registered during the Activity's <a href="http://developer.android.com/reference/android/app/Activity.html#onCreate%28android.os.Bundle%29">onCreate()</a>" process. For example:</p>

<div class="pre-action-link" id="premain667759" style="width:100%;display:block;"><span id="prehide667759" onclick="processCodeBlocks.togglePre(667759);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(667759);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre667759">nfcAdapter.setNdefPushMessageCallback(<span class="code-keyword">this</span>, <span class="code-keyword">this</span>);</pre>

<p>and an example of a callback that generates the NDEF message to send:</p>

<div class="pre-action-link" id="premain704357" style="width:100%;display:block;"><span id="prehide704357" onclick="processCodeBlocks.togglePre(704357);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(704357);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre704357"><span class="code-keyword">public</span> NdefMessage createNdefMessage(NfcEvent <span class="code-keyword">event</span>) {
    EditText editText = (EditText) findViewById(R.id.editText);
    <span class="code-sdkkeyword">String</span> text = editText.getText().toString();
    NdefMessage ndefMessage = <span class="code-keyword">new</span> NdefMessage(
                        <span class="code-keyword">new</span> NdefRecord[] { createMime(
                               <span class="code-string">"</span><span class="code-string">application/vnd.com.peterleow.androidconnection"</span>, text.getBytes())
                      });
    <span class="code-keyword">return</span> ndefMessage;
}</pre>

<p>The "createNdefMessage()" create an "NdefRecord" object to contain 
the text from the "EditText" as payload and the custom MIME type of 
"application/vnd.com.peterleow.androidconnection". This "NdefRecord" is 
then placed inside an "NdefMessage" object. An "NdefMessage" object 
could have contained multiple "NdefMessage" objects with the first 
"NdefRecord" containing a TNF (Type Name Field) for mapping the NDEF 
message to a MIME type or URI. If successful, it encapsulates that 
information inside an <a href="http://developer.android.com/reference/android/nfc/NfcAdapter.html#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a> Intent along with the actual payload for beaming.</p>

<h4>Preparing to Receive...</h4>

<p>To start an app to handle an NDEF message that is beamed from another device, the app has to filter for the "<a href="http://developer.android.com/reference/android/nfc/NfcAdapter.html#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a>"
 Intent in the manifest file. The following example filters for 
"ACTION_NDEF_DISCOVERED" Intent with a MIME type of 
"application/vnd.com.peterleow.androidconnection" matching that in the 
"NdefMessage".</p>

<div class="pre-action-link" id="premain732592" style="width:100%;display:block;"><span id="prehide732592" onclick="processCodeBlocks.togglePre(732592);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(732592);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre732592">&lt;activity
    android:name=<span class="code-string">"</span><span class="code-string">.NfcActivity"</span>
    android:label=<span class="code-string">"</span><span class="code-string">@string/title_activity_nfc"</span>
    android:launchMode=<span class="code-string">"</span><span class="code-string">singleTask"</span> &gt;
        &lt;intent-filter&gt;
            &lt;action android:name=<span class="code-string">"</span><span class="code-string">android.nfc.action.NDEF_DISCOVERED"</span>/&gt;
            &lt;category android:name=<span class="code-string">"</span><span class="code-string">android.intent.category.DEFAULT"</span>/&gt;
            &lt;data android:mimeType=<span class="code-string">"</span><span class="code-string">application/vnd.com.peterleow.androidconnection"</span>/&gt;
        <span class="code-keyword">&lt;/</span><span class="code-leadattribute">intent-filter</span>&gt;</pre>

<p>The Activity that responds to the NFC beam should check for the <a href="http://developer.android.com/reference/android/nfc/NfcAdapter.html#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a> Intent and retrieves the NDEF message from the "<a href="http://developer.android.com/reference/android/nfc/NfcAdapter.html#EXTRA_NDEF_MESSAGES" target="_blank">EXTRA_NDEF_MESSAGES</a>" Intent Extra. For example:</p>

<div class="pre-action-link" id="premain736043" style="width:100%;display:block;"><span id="prehide736043" onclick="processCodeBlocks.togglePre(736043);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(736043);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre736043"><span class="code-keyword">public</span> <span class="code-keyword">void</span> onResume() {
    <span class="code-keyword">super</span>.onResume();
    <span class="code-comment">//</span><span class="code-comment"> Check to see that the Activity started due to an Android Beam
</span>    Intent intent = getIntent();
    <span class="code-keyword">if</span> (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(intent.getAction())) {
        Parcelable[] ndefMessageArray = intent.getParcelableArrayExtra(
                NfcAdapter.EXTRA_NDEF_MESSAGES);
        NdefMessage ndefMessage = (NdefMessage) ndefMessageArray[<span class="code-digit">0</span>];
        Toast.makeText(<span class="code-keyword">this</span>, <span class="code-keyword">new</span> <span class="code-sdkkeyword">String</span>(ndefMessage.getRecords()[<span class="code-digit">0</span>].getPayload()), Toast.LENGTH_LONG).show();
    }
}</pre>

<h4>Testing Android Beam</h4>

<p>The complete code for the "NfcActivity.java" can be found in the download.</p>

<p>Before you can test it on a real device, you will have to create navigation from the "MainActivity". Do these:</p>

<ul>
	<li>
	<p>In the "activity_main.xml", add a third &lt;Button&gt; with the "android:onClick" attribute as shown:</p>

	<div class="pre-action-link" id="premain696530" style="width:100%;display:block;"><span id="prehide696530" onclick="processCodeBlocks.togglePre(696530);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(696530);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre696530"><span class="code-keyword">&lt;</span><span class="code-leadattribute">Button</span>
    <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
    <span class="code-attribute">android:text</span><span class="code-keyword">="</span><span class="code-keyword">@string/nfc"</span>
    <span class="code-attribute">android:id</span><span class="code-keyword">="</span><span class="code-keyword">@+id/btnNfc"</span>
    <span class="code-attribute">android:onClick</span><span class="code-keyword">="</span><span class="code-keyword">getNfcActivity"</span>
    <span class="code-attribute">android:layout_below</span><span class="code-keyword">="</span><span class="code-keyword">@+id/btnWifi"</span>
    <span class="code-attribute">android:layout_centerHorizontal</span><span class="code-keyword">="</span><span class="code-keyword">true"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span></pre>

	<p>The "MainActivity" page should look like that in Figure 15.</p>

	<table border="0">
		<tbody>
			<tr>
				<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/nfc02.png"></td>
			</tr>
			<tr>
				<td align="center">
				<div class="Caption">Figure 15: Preview of MainActivity</div>
				</td>
			</tr>
		</tbody>
	</table>
	</li>
	<li>
	<p>In the "MainActivity.java", add the "getNfcActivity()" method to navigate to the "NfcActivity" when the button is clicked.</p>

	<div class="pre-action-link" id="premain421377" style="width:100%;display:block;"><span id="prehide421377" onclick="processCodeBlocks.togglePre(421377);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(421377);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre421377"><span class="code-keyword">public</span> <span class="code-keyword">void</span> getNfcActivity(View view) {
    Intent intent = <span class="code-keyword">new</span> Intent(getApplicationContext(), NfcActivity.<span class="code-keyword">class</span>);
    startActivity(intent);
}</pre>
	</li>
</ul>

<p>Deploy the app to two real Android devices, called them Sender and Receiver respectively. Follow these steps to test:</p>

<ol>
	<li>
	<p>Turn on NFC on both devices.</p>
	</li>
	<li>
	<p>Launch the app on both devices.</p>
	</li>
	<li>
	<p>On Sender, navigate to the "NfcActivity" from the "ManiActivity", type something into the text field.</p>
	</li>
	<li>
	<p>On Receiver, navigate away from the app so that it does not show in the foreground.</p>
	</li>
	<li>
	<p>Put the two devices back to back. When they are close enough, the 
Sender will display a "Touch to beam" message like that in Figure 16. 
Touch the screen and the text that you have entered in the text field 
will be beamed over to the Receiver.</p>
	</li>
	<li>
	<p>On the Receiver side, the "NfcActivity" will show up in the foreground and display the received text as shown in Figure 17.</p>
	</li>
</ol>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/nfc03.png"></td>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/nfc04.png"></td>
		</tr>
		<tr>
			<td align="center"><span class="Caption">Figure 16: The Sender</span></td>
			<td align="center">
			<div class="Caption">Figure 17: The Receiver</div>
			</td>
		</tr>
	</tbody>
</table>

<p>Well done! you have successfully implemented an Android Beam to transfer data between two Android devices using NFC technology.</p>

<h2 id="mobile">Mobile Data</h2>

<p>The Android platform provides "<a href="http://developer.android.com/reference/android/net/ConnectivityManager.html#getActiveNetworkInfo%28%29" target="_blank">ConnectivityManager</a>"
 API that allows an app to query the state of network connectivity, 
including mobile data. Let's create a simple Activity to enable/disable 
mobile data.</p>

<ul>
	<li>
	<p>Create a new Activity called "MobileDataActivity" using "RelativeLayout" as layout that contains a "ToggleButton".</p>
	</li>
	<li>
	<p>The "activity_mobile_data.xml" is shown below:</p>

	<div class="pre-action-link" id="premain70355" style="width:100%;display:block;"><span id="prehide70355" onclick="processCodeBlocks.togglePre(70355);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(70355);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre70355"><span class="code-keyword">&lt;</span><span class="code-leadattribute">RelativeLayout</span> <span class="code-attribute">xmlns:android</span><span class="code-keyword">="</span><span class="code-keyword">http://schemas.android.com/apk/res/android"</span>
    <span class="code-attribute">xmlns:tools</span><span class="code-keyword">="</span><span class="code-keyword">http://schemas.android.com/tools"</span>
    <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:paddingLeft</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_horizontal_margin"</span>
    <span class="code-attribute">android:paddingRight</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_horizontal_margin"</span>
    <span class="code-attribute">android:paddingTop</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_vertical_margin"</span>
    <span class="code-attribute">android:paddingBottom</span><span class="code-keyword">="</span><span class="code-keyword">@dimen/activity_vertical_margin"</span>
    <span class="code-attribute">tools:context</span><span class="code-keyword">="</span><span class="code-keyword">com.peterleow.androidconnection.MobileDataActivity"</span><span class="code-keyword">&gt;</span>

    <span class="code-keyword">&lt;</span><span class="code-leadattribute">ToggleButton</span>
        <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
        <span class="code-attribute">android:id</span><span class="code-keyword">="</span><span class="code-keyword">@+id/toggleButton"</span>
        <span class="code-attribute">android:textOn</span><span class="code-keyword">="</span><span class="code-keyword">Mobile Data On"</span>
        <span class="code-attribute">android:textOff</span><span class="code-keyword">="</span><span class="code-keyword">Mobile Data Off"</span>
        <span class="code-attribute">android:onClick</span><span class="code-keyword">="</span><span class="code-keyword">onToggleClicked"</span>
        <span class="code-attribute">android:layout_alignParentTop</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_alignParentLeft</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:layout_alignParentStart</span><span class="code-keyword">="</span><span class="code-keyword">true"</span>
        <span class="code-attribute">android:checked</span><span class="code-keyword">="</span><span class="code-keyword">false"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>

<span class="code-keyword">&lt;</span><span class="code-leadattribute">/RelativeLayout</span><span class="code-keyword">&gt;</span></pre>

	<p>The preview of "MobileDataActivity" should look like that in Figure 18.</p>

	<table border="0">
		<tbody>
			<tr>
				<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/mobile_01.png"></td>
			</tr>
			<tr>
				<td align="center">
				<div class="Caption">Figure 18: Preview of MobileDataActivity</div>
				</td>
			</tr>
		</tbody>
	</table>
	</li>
</ul>

<h4>Granting Network Access</h4>

<p>Before accessing and modify network state in an app, you must declare the &lt;user-permission&gt; for "<a href="http://developer.android.com/reference/android/Manifest.permission.html#ACCESS_NETWORK_STATE">ACCESS_NETWORK_STATE</a>" in the app's manifest file. You need this "<a href="http://developer.android.com/reference/android/Manifest.permission.html#ACCESS_NETWORK_STATE">ACCESS_NETWORK_STATE</a>" permission to access information about networks. For example:</p>

<div class="pre-action-link" id="premain120201" style="width:100%;display:block;"><span id="prehide120201" onclick="processCodeBlocks.togglePre(120201);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(120201);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre120201">&lt;uses-permission android:name=<span class="code-string">"</span><span class="code-string">android.permission.ACCESS_NETWORK_STATE"</span> /&gt;
</pre>

<h4>Toggling Mobile Data</h4>

<p>The app will not modify the mobile data connectivity directly. 
Instead it will invoke the system UI (Figure 19) through 
"startActivityForResult()" to let the user make the selection whenever 
the toggle button is clicked.</p>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/mobile_02.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 19: System UI for Data Usage</div>
			</td>
		</tr>
	</tbody>
</table>

<p>The code to do this is shown below:</p>

<div class="pre-action-link" id="premain57337" style="width:100%;display:block;"><span id="prehide57337" onclick="processCodeBlocks.togglePre(57337);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(57337);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre57337"><span class="code-keyword">public</span> <span class="code-keyword">void</span> onToggleClicked(View view) {
    Intent intent = <span class="code-keyword">new</span> Intent();
    intent.setClassName(<span class="code-string">"</span><span class="code-string">com.android.settings"</span>,
            <span class="code-string">"</span><span class="code-string">com.android.settings.Settings$DataUsageSummaryActivity"</span>);
    startActivityForResult(intent, <span class="code-digit">1</span>);
}</pre>

<p>When the system UI is finished, your activity be notified through the
 "onActivityResult()" callback. In the "onActivityResult()", it will 
first obtain an instance of "<a href="http://developer.android.com/reference/android/net/ConnectivityManager.html#getActiveNetworkInfo%28%29" target="_blank">ConnectivityManager</a>" by calling "<a href="http://developer.android.com/reference/android/content/Context.html#getSystemService%28java.lang.String%29" target="_blank">Context.getSystemService(Context.CONNECTIVITY_SERVICE)</a>". For example:</p>

<div class="pre-action-link" id="premain599074" style="width:100%;display:block;"><span id="prehide599074" onclick="processCodeBlocks.togglePre(599074);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(599074);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre599074">ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);</pre>

<p>Obtain a "<a href="http://developer.android.com/reference/android/net/NetworkInfo.html" target="_blank">NetworkInfo</a>" object which contains the status of the network connection by calling "<a href="http://developer.android.com/reference/android/net/ConnectivityManager.html#getActiveNetworkInfo%28%29" target="_blank">getActiveNetworkInfo()</a>" of the "ConnectivityManager" instance. For example:</p>

<div class="pre-action-link" id="premain164334" style="width:100%;display:block;"><span id="prehide164334" onclick="processCodeBlocks.togglePre(164334);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(164334);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre164334">NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo();</pre>

<p>If the "<a href="http://developer.android.com/reference/android/net/NetworkInfo.html" target="_blank">NetworkInfo</a>"
 object is not null, that set the state of the toggle button to be the 
same as to the connection state of the network by calling "<a href="http://developer.android.com/reference/android/net/NetworkInfo.html#isConnected%28%29" target="_blank">isConnected()</a>" of the "<a href="http://developer.android.com/reference/android/net/NetworkInfo.html" target="_blank">NetworkInfo</a>" object. For example:</p>

<div class="pre-action-link" id="premain35912" style="width:100%;display:block;"><span id="prehide35912" onclick="processCodeBlocks.togglePre(35912);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(35912);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre35912"><span class="code-keyword">if</span> (networkInfo != <span class="code-keyword">null</span>) {
    toggleButton.setChecked(networkInfo.isConnected());
}</pre>

<h4>Testing Mobile Data</h4>

<p>The complete code for the "MobileDataActivity.java" can be found in the download.</p>

<p>Before you can test it on a real device, you will have to create navigation from the "MainActivity". Do these:</p>

<ul>
	<li>
	<p>In the "activity_main.xml", add a fourth &lt;Button&gt; with the "android:onClick" attribute as shown:</p>

	<div class="pre-action-link" id="premain313925" style="width:100%;display:block;"><span id="prehide313925" onclick="processCodeBlocks.togglePre(313925);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(313925);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre313925"><span class="code-keyword">&lt;</span><span class="code-leadattribute">Button</span>
    <span class="code-attribute">android:layout_width</span><span class="code-keyword">="</span><span class="code-keyword">match_parent"</span>
    <span class="code-attribute">android:layout_height</span><span class="code-keyword">="</span><span class="code-keyword">wrap_content"</span>
    <span class="code-attribute">android:text</span><span class="code-keyword">="</span><span class="code-keyword">@string/mobile_data"</span>
    <span class="code-attribute">android:id</span><span class="code-keyword">="</span><span class="code-keyword">@+id/btnMobileData"</span>
    <span class="code-attribute">android:onClick</span><span class="code-keyword">="</span><span class="code-keyword">getMobileDataActivity"</span>
    <span class="code-attribute">android:layout_below</span><span class="code-keyword">="</span><span class="code-keyword">@+id/btnNfc"</span>
    <span class="code-attribute">android:layout_centerHorizontal</span><span class="code-keyword">="</span><span class="code-keyword">true"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span></pre>

	<p>The "MainActivity" page should look like that in Figure 20.</p>

	<table border="0">
		<tbody>
			<tr>
				<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/mobile_00.png"></td>
			</tr>
			<tr>
				<td align="center">
				<div class="Caption">Figure 20: Preview of MainActivity</div>
				</td>
			</tr>
		</tbody>
	</table>
	</li>
	<li>
	<p>In the "MainActivity.java", add the "getMobileDataActivity()" method
 to navigate to the "MobileDataActivity" when the button is clicked.</p>

	<div class="pre-action-link" id="premain376121" style="width:100%;display:block;"><span id="prehide376121" onclick="processCodeBlocks.togglePre(376121);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(376121);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre376121"><span class="code-keyword">public</span> <span class="code-keyword">void</span> getMobileDataActivity(View view) {
    Intent intent = <span class="code-keyword">new</span> Intent(getApplicationContext(), MobileDataActivity.<span class="code-keyword">class</span>);
    startActivity(intent);
}</pre>
	</li>
</ul>

<h2 id="sip">SIP</h2>

<p>SIP or Session Initiation Protocol is a protocol that enables an 
application to make outgoing and incoming voice calls over the computer 
network. SIP can be used to establish sessions for audio/video 
conferencing, instant messaging, file transfer, online gaming, and call 
forwarding over IP networks.</p>

<p>Android provides an API that supports the full SIP protocol that your
 app can use to incorporate SIP-based internet telephony features. SIP 
provides the following major functions:</p>

<ul>
	<li>
	<p>Manage call.</p>
	</li>
	<li>
	<p>Establish user location.</p>
	</li>
	<li>
	<p>Negotiate features to be supported among the call participants.</p>
	</li>
</ul>

<h4>Development Requirements</h4>

<p>Before developing a SIP app, you must get ready the following ingredients in order to test the app:</p>

<ul>
	<li>
	<p>At least two real Android devices that are running Android 2.3 ((API level 9) ) or higher.</p>
	</li>
	<li>
	<p>Each device must have an Internet connection. That is the reason why you cannot test a SIP app on emulator.</p>
	</li>
	<li>
	<p>Each participant in the SIP session must have a valid SIP account. 
There are many SIP providers that offer free account, just consult 
Google.</p>
	</li>
</ul>

<h4>SIP API Overview</h4>

<p>The <a href="http://developer.android.com/reference/android/net/sip/package-summary.html" target="_blank">Android SIP API</a> consists of nine classes and one interface as summarized in Table 1.</p>

<table height="659" border="1" width="609">
	<caption><em><strong>Table 1: SIP API Classes and Interface</strong></em></caption>
	<thead>
		<tr>
			<th style="background-color: rgb(255, 102, 102); color: rgb(255, 255, 255);" height="41" width="158">Class/Interface</th>
			<th style="background-color: rgb(255, 102, 102); color: rgb(255, 255, 255);" width="435">Description</th>
		</tr>
	</thead>
	<tbody>
		<tr bgcolor="#99FFFF">
			<td height="42"><a href="http://developer.android.com/reference/android/net/sip/SipAudioCall.html" target="_blank">SipAudioCall</a></td>
			<td>Provides methods to handle audio calls over SIP.</td>
		</tr>
		<tr bgcolor="#99FFCC">
			<td height="83"><a href="http://developer.android.com/reference/android/net/sip/SipAudioCall.Listener.html" target="_blank">SipAudioCall.Listener</a></td>
			<td>Represents a listener to keep track of events relating to a SIP 
call, and call the corresponding event handlers when certain events 
occur. For example, "<a href="http://developer.android.com/reference/android/net/sip/SipAudioCall.Listener.html#onRinging%28android.net.sip.SipAudioCall,%20android.net.sip.SipProfile%29" target="_blank">onRinging()</a>" is called when a new call comes in.</td>
		</tr>
		<tr bgcolor="#99FFFF">
			<td height="43"><a href="http://developer.android.com/reference/android/net/sip/SipErrorCode.html" target="_blank">SipErrorCode</a></td>
			<td>Contains error codes for SIP actions.</td>
		</tr>
		<tr bgcolor="#99FFCC">
			<td height="69"><a href="http://developer.android.com/reference/android/net/sip/SipManager.html" target="_blank">SipManager</a></td>
			<td>Provides methods to access APIs classes for performing the 
various SIP tasks, such as creating a SIP session, making calls, and 
receiving calls.</td>
		</tr>
		<tr bgcolor="#99FFFF">
			<td height="49"><a href="http://developer.android.com/reference/android/net/sip/SipProfile.html" target="_blank">SipProfile</a></td>
			<td>Represents a SIP profile, including a SIP account, domain and server information.</td>
		</tr>
		<tr bgcolor="#99FFCC">
			<td height="44"><a href="http://developer.android.com/reference/android/net/sip/SipProfile.Builder.html" target="_blank">SipProfile.Builder</a></td>
			<td>Represents a helper class for creating a SipProfile.</td>
		</tr>
		<tr bgcolor="#99FFFF">
			<td height="41"><a href="http://developer.android.com/reference/android/net/sip/SipSession.html" target="_parent">SipSession</a></td>
			<td>Represents a SIP session.</td>
		</tr>
		<tr bgcolor="#99FFCC">
			<td height="83"><a href="http://developer.android.com/reference/android/net/sip/SipSession.Listener.html" target="_blank">SipSession.Listener</a></td>
			<td>Represents a listener to keep track of events relating to a SIP 
session, and call the corresponding event handlers when certain events 
occur. For example, "<a href="http://developer.android.com/reference/android/net/sip/SipSession.Listener.html#onRegistering%28android.net.sip.SipSession%29">onRegistering()</a>" is called when a registration request is sent.</td>
		</tr>
		<tr bgcolor="#99FFFF">
			<td height="54"><a href="http://developer.android.com/reference/android/net/sip/SipSession.State.html" target="_blank">SipSession.State</a></td>
			<td>Contains constants that represent the various SIP session states, such as "<a href="http://developer.android.com/reference/android/net/sip/SipSession.State.html#INCOMING_CALL">INCOMING_CALL</a>", "<a href="http://developer.android.com/reference/android/net/sip/SipSession.State.html#OUTGOING_CALL">OUTGOING_CALL</a>l".</td>
		</tr>
		<tr bgcolor="#99FFCC">
			<td height="84"><a href="http://developer.android.com/reference/android/net/sip/SipRegistrationListener.html" target="_blank">SipRegistrationListener</a></td>
			<td>
			<p>This is an interface that represents a listener to keep track of 
events relating to a SIP registration, and call the corresponding event 
handlers when certain events occur. For example, "<a href="http://developer.android.com/reference/android/net/sip/SipRegistrationListener.html#onRegistrationDone%28java.lang.String,%20long%29">onRegistrationDone()</a>" is called when the registration succeeded.</p>
			</td>
		</tr>
	</tbody>
</table>

<h4>Learning from "SipDemo"</h4>

<p>Our subsequent discussion on SIP will be based on a demo app called "<a href="http://docs.huihoo.com/android/2.3/resources/samples/SipDemo/index.html" target="_blank">SipDemo</a>"
 developed by "The Android Open Source Project". The "SipDemo" 
demonstrates the various functionalities of the SIP API. It is an 
excellent learning material and I will borrow code excerpts from 
"SipDemo" to reinforce our discussion. You should get a copy of this 
"SipDemo" project and install it in your Android Studio and try it out.</p>

<p>The "SipDemo" is included in the "<em>sdk/samples/android-10/</em>" 
of the Android Studio directory. If you cannot find it, you can download
 it using the SDK Manager (Figure 21). In the Android Studio, click on <em><strong>Tools</strong></em> &gt; <em><strong>Android</strong></em> &gt; <em><strong>SDK Manager</strong></em>, then select the "SDK Platform" and "Samples for SDK" options under the Android 2.3.3 (API10) version to install.</p>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/sdk_mgr.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 21: SDK Manager</div>
			</td>
		</tr>
	</tbody>
</table>

<p>Next, import the "SipDemo" into Android Studio by choosing <strong><em>File </em></strong>&gt;<strong><em> Import Project</em></strong>.</p>

<p>Once it is successfully set up, launch it on a real Android device 
and you should see these screens as shown in Figures 22, 23, and 24.</p>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/sipdemo01.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 22: SipDemo Home</div>
			</td>
		</tr>
	</tbody>
</table>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/sipdemo02.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 23: Setting SIP Profile</div>
			</td>
		</tr>
	</tbody>
</table>

<table border="0">
	<tbody>
		<tr>
			<td align="center"><img src="Android%20Connectivity%20-%20CodeProject_files/sipdemo03.png"></td>
		</tr>
		<tr>
			<td align="center">
			<div class="Caption">Figure 24: Making a Call</div>
			</td>
		</tr>
	</tbody>
</table>

<h4>Granting SIP Access</h4>

<p>Before using SIP in an app, you must declare the "&lt;user-permission&gt;" in the app's manifest file as shown:</p>

<div class="pre-action-link" id="premain143958" style="width:100%;display:block;"><span id="prehide143958" onclick="processCodeBlocks.togglePre(143958);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(143958);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre143958">&lt;uses-permission android:name=<span class="code-string">"</span><span class="code-string">android.permission.USE_SIP"</span> /&gt;
&lt;uses-permission android:name=<span class="code-string">"</span><span class="code-string">android.permission.INTERNET"</span> /&gt;</pre>

<p>As not all Android devices provide SIP support, to make sure that the
 app only shows up in Google Play for those devices that support SIP, 
add the &lt;uses-feature&gt; in the app's manifest<strong> </strong>file like this:</p>

<div class="pre-action-link" id="premain194992" style="width:100%;display:block;"><span id="prehide194992" onclick="processCodeBlocks.togglePre(194992);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(194992);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre194992">&lt;uses-feature android:name=<span class="code-string">"</span><span class="code-string">android.hardware.sip.voip"</span> android:required=<span class="code-string">"</span><span class="code-string">true"</span> /&gt;</pre>

<h4>Getting the API Manager</h4>

<p>The most important class in the SIP API is the "<a href="http://developer.android.com/reference/android/net/sip/SipManager.html">SipManager</a>".
 This is the manager for managing all the other SIP API classes. Before 
the app can use the SIP API to do any work, the app must first create a 
"SipManager" handle that will takes care of the following functions:</p>

<ul>
	<li>
	<p>Register and unregister with a SIP service provider.</p>
	</li>
	<li>
	<p>Initiate a session.</p>
	</li>
	<li>
	<p>Make calls.</p>
	</li>
	<li>
	<p>Receive calls.</p>
	</li>
	<li>
	<p>Verify session connectivity.</p>
	</li>
</ul>

<p>An app will create a "SipManager" handle using the "<a href="http://developer.android.com/reference/android/net/sip/SipManager.html#newInstance%28android.content.Context%29" target="_blank">newInstance()</a>" method. See example in "SipDemo":</p>

<div class="pre-action-link" id="premain270457" style="width:100%;display:block;"><span id="prehide270457" onclick="processCodeBlocks.togglePre(270457);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(270457);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre270457"><span class="code-keyword">public</span> SipManager manager = <span class="code-keyword">null</span>;
<span class="code-comment">//</span><span class="code-comment"> other code
</span><span class="code-keyword">if</span>(manager == <span class="code-keyword">null</span>) {
    manager = SipManager.newInstance(<span class="code-keyword">this</span>);
}
</pre>

<h4 id="profiles">Creating a Local SIP Profile</h4>

<p>Create a "<a href="http://developer.android.com/reference/android/net/sip/SipProfile.html">SipProfile</a>" object that defines a local SIP profile, including a SIP account, and domain and server information, using the "<a href="http://developer.android.com/reference/android/net/sip/SipProfile.Builder.html" target="_blank">SipProfile.Builder</a>" helper class. For example:</p>

<div class="pre-action-link" id="premain407003" style="width:100%;display:block;"><span id="prehide407003" onclick="processCodeBlocks.togglePre(407003);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(407003);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre407003"><span class="code-keyword">public</span> SipProfile me = <span class="code-keyword">null</span>;
<span class="code-comment">//</span><span class="code-comment"> other code
</span>SipProfile.Builder builder = <span class="code-keyword">new</span> SipProfile.Builder(username, domain);
builder.setPassword(password);
me sipProfile = builder.build();
</pre>

<h4>Creating a PendingIntent</h4>

<p>Create an "<a href="http://developer.android.com/reference/android/content/Intent.html" target="_blank">Intent Action</a>" ("android.SipDemo.INCOMING_CALL" in "SipDemp") and assign it to a "<a href="http://developer.android.com/reference/android/app/PendingIntent.html" target="_blank">PendingIntent</a>" via "<a href="http://developer.android.com/reference/android/app/PendingIntent.html#getBroadcast%28android.content.Context,%20int,%20android.content.Intent,%20int%29" target="_blank">getBroadcast()</a>"
 which will perform a broadcast of this "Intent Action" across the 
system at the receiving device. A PendingIntent specifies an action to 
take in the future. It can be passed to another app to execute it. See 
example in "SipDemo":</p>

<div class="pre-action-link" id="premain123866" style="width:100%;display:block;"><span id="prehide123866" onclick="processCodeBlocks.togglePre(123866);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(123866);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre123866">Intent i = <span class="code-keyword">new</span> Intent();
i.setAction(<span class="code-string">"</span><span class="code-string">android.SipDemo.INCOMING_CALL"</span>);
PendingIntent pi = PendingIntent.getBroadcast(<span class="code-keyword">this</span>, <span class="code-digit">0</span>, i, Intent.FILL_IN_DATA);</pre>

<h4>Registering with a SIP Server</h4>

<p>Register and open this "SipProfile" object by calling the "<a href="http://developer.android.com/reference/android/net/sip/SipManager.html#open%28android.net.sip.SipProfile,%20android.app.PendingIntent,%20android.net.sip.SipRegistrationListener%29" target="_blank">open()</a>"
 method of the "SipManager" handle and passing it the "SipProfile" 
object and the "PendingIntent" handle as parameters. This will open the 
local SIP profile for making and receiving SIP calls. See example in 
"SipDemo":</p>

<div class="pre-action-link" id="premain644546" style="width:100%;display:block;"><span id="prehide644546" onclick="processCodeBlocks.togglePre(644546);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(644546);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre644546">manager.open(me, pi, <span class="code-keyword">null</span>);</pre>

<h4>Listening for Registration Events</h4>

<p>Set up a "<a href="http://developer.android.com/reference/android/net/sip/SipManager.html#setRegistrationListener%28java.lang.String,%20android.net.sip.SipRegistrationListener%29" target="_blank">SipRegistrationListener</a>" on the "SipManager" handle to keep track of the SIP registration progress and outcome. See example in "SipDemo":</p>

<div class="pre-action-link" id="premain38060" style="width:100%;display:block;"><span id="prehide38060" onclick="processCodeBlocks.togglePre(38060);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(38060);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre38060">manager.setRegistrationListener(me.getUriString(), <span class="code-keyword">new</span> SipRegistrationListener() {
    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onRegistering(<span class="code-sdkkeyword">String</span> localProfileUri) {
        updateStatus(<span class="code-string">"</span><span class="code-string">Registering with SIP Server..."</span>);
    }
  
    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onRegistrationDone(<span class="code-sdkkeyword">String</span> localProfileUri, <span class="code-keyword">long</span> expiryTime) {
        updateStatus(<span class="code-string">"</span><span class="code-string">Ready"</span>);
    }
  
    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onRegistrationFailed(<span class="code-sdkkeyword">String</span> localProfileUri, <span class="code-keyword">int</span> errorCode, <span class="code-sdkkeyword">String</span> errorMessage) {
        updateStatus(<span class="code-string">"</span><span class="code-string">Registration failed.  Please check settings."</span>);
    }
});</pre>

<h4>Setting up Intent Filter to Intercept Incoming Calls</h4>

<p>When the "SigProfile" receives a new SIP call, the "PendingIntent" 
that is sent by the caller will perform a broadcast which will be 
intercepted by an "<a href="http://developer.android.com/guide/topics/manifest/intent-filter-element.html" target="_blank">Intent Filter</a>"
 to filter the "Intent Action" ("android.SipDemo.INCOMING_CALL" in 
"SipDemo") and trigger a subclass ("callReceiver" in "SipDemo") of a 
"BroadcastReceiver" ("IncomingCallReceiver" in "SipDemo") that is 
registered to respond to this "Intent Action". The "BroadcastReceiver" 
class is covered in the next section. You can either specify this 
"Intent Filter" in the app's manifest file or in code. In the "SipDemo",
 this was created in code as shown:</p>

<div class="pre-action-link" id="premain850040" style="width:100%;display:block;"><span id="prehide850040" onclick="processCodeBlocks.togglePre(850040);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(850040);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre850040"><span class="code-keyword">public</span> IncomingCallReceiver callReceiver;
<span class="code-comment">//</span><span class="code-comment"> other code
</span>IntentFilter filter = <span class="code-keyword">new</span> IntentFilter();
filter.addAction(<span class="code-string">"</span><span class="code-string">android.SipDemo.INCOMING_CALL"</span>);
callReceiver = <span class="code-keyword">new</span> IncomingCallReceiver();
<span class="code-keyword">this</span>.registerReceiver(callReceiver, filter);</pre>

<h4>Receiving Calls</h4>

<p>In order to receive and respond to a call, the app must:</p>

<ol>
	<li>Create a "BroadcastReceiver" class ("IncomingCallReceiver" in 
"SipDemo") that is capable of responding to an "Intent Action" 
("android.SipDemo.INCOMING_CALL") indicating an incoming call. See code 
excerpt from "SipDemo":
	<div class="pre-action-link" id="premain151379" style="width:100%;display:block;"><span id="prehide151379" onclick="processCodeBlocks.togglePre(151379);">Hide</span>  &nbsp; <span id="preShrink151379" onclick="processCodeBlocks.shrinkExpand(151379);">Shrink</span> <img id="preimg151379" src="Android%20Connectivity%20-%20CodeProject_files/arrow-up-16.png" style="height:16px;width:16px" onclick="processCodeBlocks.shrinkExpand(151379);">  &nbsp; <span onclick="return processCodeBlocks.copyCode(151379);">Copy Code</span></div><pre class="notranslate" processed="true" style="margin-top: 0px;" id="pre151379"><span class="code-comment">/*</span><span class="code-comment">*
 * Listens for incoming SIP calls, intercepts and hands them off to WalkieTalkieActivity.
 */</span>
<span class="code-keyword">public</span> <span class="code-keyword">class</span> IncomingCallReceiver extends BroadcastReceiver {
    <span class="code-comment">/*</span><span class="code-comment">*
     * Processes the incoming call, answers it, and hands it over to the
     * WalkieTalkieActivity.
     * @param context The context under which the receiver is running.
     * @param intent The intent being received.
     */</span>
    @Override
    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onReceive(Context context, Intent intent) {
        SipAudioCall incomingCall = <span class="code-keyword">null</span>;
        <span class="code-keyword">try</span> {
            SipAudioCall.Listener listener = <span class="code-keyword">new</span> SipAudioCall.Listener() {
                @Override
                <span class="code-keyword">public</span> <span class="code-keyword">void</span> onRinging(SipAudioCall call, SipProfile caller) {
                    <span class="code-keyword">try</span> {
                        call.answerCall(<span class="code-digit">30</span>);
                    } <span class="code-keyword">catch</span> (Exception e) {
                        e.printStackTrace();
                    }
                }
            };
            WalkieTalkieActivity wtActivity = (WalkieTalkieActivity) context;
            incomingCall = wtActivity.manager.takeAudioCall(intent, listener);
            incomingCall.answerCall(<span class="code-digit">30</span>);
            incomingCall.startAudio();
            incomingCall.setSpeakerMode(<span class="code-keyword">true</span>);
            <span class="code-keyword">if</span>(incomingCall.isMuted()) {
                incomingCall.toggleMute();
            }
            wtActivity.call = incomingCall;
            wtActivity.updateStatus(incomingCall);
        } <span class="code-keyword">catch</span> (Exception e) {
            <span class="code-keyword">if</span> (incomingCall != <span class="code-keyword">null</span>) {
                incomingCall.close();
            }
        }
    }
}</pre>
	</li>
	<li>
	<p>Declare a &lt;receiver&gt; for the previously created 
"BroadcastReceiver" class in the app's manifest file. See example in 
"SipDemo":</p>

	<div class="pre-action-link" id="premain955502" style="width:100%;display:block;"><span id="prehide955502" onclick="processCodeBlocks.togglePre(955502);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(955502);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre955502">&lt;receiver android:name=<span class="code-string">"</span><span class="code-string">.IncomingCallReceiver"</span> android:label=<span class="code-string">"</span><span class="code-string">Call Receiver"</span>/&gt;</pre>
	</li>
</ol>

<h4>Making an Audio Call</h4>

<p>For the app to make a SIP call, the app must</p>

<ol>
	<li>First, set up a "<a href="http://developer.android.com/reference/android/net/sip/SipAudioCall.Listener.html" target="_blank">SipAudioCall.Listener</a>" to take care of all the events relating to the call, such as "<a href="http://developer.android.com/reference/android/net/sip/SipAudioCall.Listener.html#onRinging%28android.net.sip.SipAudioCall,%20android.net.sip.SipProfile%29" target="_blank">onRinging()</a>" when a new call comes in. See code snippet in "SipDemo":

	<div class="pre-action-link" id="premain551922" style="width:100%;display:block;"><span id="prehide551922" onclick="processCodeBlocks.togglePre(551922);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(551922);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre551922">SipAudioCall.Listener listener = <span class="code-keyword">new</span> SipAudioCall.Listener() {
    @Override
    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onCallEstablished(SipAudioCall call) {
        call.startAudio();
        call.setSpeakerMode(<span class="code-keyword">true</span>);
        call.toggleMute();
        updateStatus(call);
    }

    @Override
    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onCallEnded(SipAudioCall call) {
        updateStatus(<span class="code-string">"</span><span class="code-string">Ready."</span>);
    }
};</pre>
	</li>
	<li>
	<p>Once the "SipAudioCall.Listener" is set up, the app can proceed to make the call by calling the "<a href="http://developer.android.com/reference/android/net/sip/SipManager.html#makeAudioCall%28java.lang.String,%20java.lang.String,%20android.net.sip.SipAudioCall.Listener,%20int%29" target="_blank">makeAudioCall()l</a>"
 method of the "SipManager" by passing the local SIP profile (the 
caller), the peer SIP profile (the callee), the "SipAudioCall.Listener",
 and a timeout integer in seconds as parameters. See example in 
"SipDemo":</p>

	<div class="pre-action-link" id="premain396367" style="width:100%;display:block;"><span id="prehide396367" onclick="processCodeBlocks.togglePre(396367);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(396367);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre396367">call = manager.makeAudioCall(me.getUriString(), sipAddress, listener, <span class="code-digit">30</span>);</pre>
	</li>
</ol>

<h4>Closing and Unregistering Profile</h4>

<p>When the profile is no longer need, such as during the "onDestroy()" 
of the Activity, it should be close to free up memory and unregister 
from the server. This is how it is done in "SipDemo":</p>

<div class="pre-action-link" id="premain997955" style="width:100%;display:block;"><span id="prehide997955" onclick="processCodeBlocks.togglePre(997955);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(997955);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre997955"><span class="code-keyword">public</span> <span class="code-keyword">void</span> closeLocalProfile() {
    <span class="code-keyword">if</span> (manager == <span class="code-keyword">null</span>) {
        <span class="code-keyword">return</span>;
    }
    <span class="code-keyword">try</span> {
        <span class="code-keyword">if</span> (me != <span class="code-keyword">null</span>) {
            manager.close(me.getUriString());
        }
    } <span class="code-keyword">catch</span> (Exception ee) {
        Log.d(<span class="code-string">"</span><span class="code-string">WalkieTalkieActivity/onDestroy"</span>, <span class="code-string">"</span><span class="code-string">Failed to close local profile."</span>, ee);
    }
}</pre>

<h2 id="usb">USB</h2>

<p>Android supports a variety of USB peripherals in two modes - USB Host and USB Accessory.</p>

<ul>
	<li>
	<p><strong>USB Host</strong> - The Android-powered device acts as the 
host and powers the bus. Examples of such USB devices include keyboards 
and game controllers.</p>
	</li>
	<li>
	<p><strong>USB Accessory </strong>- The external USB hardware acts as 
the host and powers the bus. This mode allows an Android device to 
communicate with USB hardware whose capabilities it does not have. For 
example, USB hardware like musical keyboards, exercise machines, medical
 equipment, robotic controllers, card readers and many more. In order 
for this USB hardware to work with Android devices, it must adhere to 
the <a href="http://accessories.android.com/demokit" target="_blank">Android accessory communication protocol</a>.</p>
	</li>
</ul>

<p>Both the USB Host and Accessory modes are supported on Android 3.1 (API level 12) and newer platforms through the API package "<a href="http://developer.android.com/reference/android/hardware/usb/package-summary.html">android.hardware.usb</a>".</p>

<p>For older platforms, the "Google APIs add-on library" has provided 
the "com.android.future.usb" package to support USB Accessory mode in 
Android 2.3.4.</p>

<h4>USB APIs Overview</h4>

<p>The "<a href="http://developer.android.com/reference/android/hardware/usb/package-summary.html" target="_blank">android.hardware.usb</a>"
 package provides a total of eight classes that an app can use in order 
to communicate with USB hardware peripherals. They are summarized in 
Table 2.</p>

<table height="516" border="1" width="609">
	<caption><em><strong>Table 2: android.hardware.usb Package</strong></em></caption>
	<thead>
		<tr>
			<th style="background-color: rgb(255, 102, 102); color: rgb(255, 255, 255);" height="41" width="158">Class</th>
			<th style="background-color: rgb(255, 102, 102); color: rgb(255, 255, 255);" width="435">Description</th>
		</tr>
	</thead>
	<tbody>
		<tr bgcolor="#99FFFF">
			<td height="51"><a href="http://developer.android.com/reference/android/hardware/usb/UsbManager.html" target="_blank">UsbManager</a></td>
			<td>Allows an app to enumerate and communicate with connected USB devices.</td>
		</tr>
		<tr bgcolor="#99FFCC">
			<td height="41"><a href="http://developer.android.com/reference/android/hardware/usb/UsbDevice.html" target="_blank">UsbDevice</a></td>
			<td>Represents an attached USB device in USB host mode.</td>
		</tr>
		<tr bgcolor="#99FFFF">
			<td height="48"><a href="http://developer.android.com/reference/android/hardware/usb/UsbAccessory.html" target="_blank">UsbAccessory</a></td>
			<td>Represents an attached USB device in USB accessory mode.</td>
		</tr>
		<tr bgcolor="#99FFCC">
			<td height="70"><a href="http://developer.android.com/reference/android/hardware/usb/UsbInterface.html" target="_blank">UsbInterface</a></td>
			<td>Represents an interface on a "UsbDevice" object which defines a 
set of functionality and has one or more "UsbEndPoints" for 
communication.</td>
		</tr>
		<tr bgcolor="#99FFFF">
			<td height="87"><a href="http://developer.android.com/reference/android/hardware/usb/UsbEndpoint.html" target="_blank">UsbEndpoint</a></td>
			<td>
			<p>Represents a communication channel for a "UsbInterface" object 
through which the host transfers data with the device. An interface can 
have one or more endpoints, for example the input and output endpoints 
for two-way communication.</p>
			</td>
		</tr>
		<tr bgcolor="#99FFCC">
			<td height="55"><a href="http://developer.android.com/reference/android/hardware/usb/UsbDeviceConnection.html" target="_blank">UsbDeviceConnection</a></td>
			<td>Represents a connection for transferring data back and forth synchronously or asynchronously.</td>
		</tr>
		<tr bgcolor="#99FFFF">
			<td height="44"><a href="http://developer.android.com/reference/android/hardware/usb/UsbRequest.html" target="_blank">UsbRequest</a></td>
			<td>Represents a USB request packet that can be used for reading and writing data over a "UsbDeviceConnection".</td>
		</tr>
		<tr bgcolor="#99FFCC">
			<td height="57"><a href="http://developer.android.com/reference/android/hardware/usb/UsbConstants.html" target="_blank">UsbConstants</a></td>
			<td>Contains constants for the USB protocol that correspond to definitions in linux/usb/ch9.h in the linux kernel.</td>
		</tr>
	</tbody>
</table>

<p>Let's walkthrough the steps of setting up a communication with a 
pseudo USB device in the two modes respectively. We will start with the 
USB Host mode.</p>

<h2>USB Host</h2>

<h4>Setting up Android Manifest</h4>

<p>Before an app can work with the USB host APIs, it needs to set up the manifest file as listed:</p>

<ul>
	<li>
	<p>Declare a "&lt;uses-feature&gt;" element that indicates that the app needs the USB host APIs support. For example:</p>

	<div class="pre-action-link" id="premain570069" style="width:100%;display:block;"><span id="prehide570069" onclick="processCodeBlocks.togglePre(570069);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(570069);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre570069">&lt;uses-feature android:name=<span class="code-string">"</span><span class="code-string">android.hardware.usb.host"</span> /&gt;  </pre>
	</li>
	<li>
	<p>Set the minimum SDK version of the app to API level 12. For example:</p>

	<div class="pre-action-link" id="premain567964" style="width:100%;display:block;"><span id="prehide567964" onclick="processCodeBlocks.togglePre(567964);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(567964);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre567964">&lt;uses-sdk android:minSdkVersion=<span class="code-string">"</span><span class="code-string">12"</span> /&gt;      </pre>
	</li>
	<li>
	<p>Create an XML resource file, e.g. "usb_devices.xml", in the 
"res/xml/" location that declares the profiles of a list of USB devices 
that the app want to access in the "&lt;usb-device&gt;" element. For 
example:</p>

	<div class="pre-action-link" id="premain393531" style="width:100%;display:block;"><span id="prehide393531" onclick="processCodeBlocks.togglePre(393531);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(393531);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre393531">&lt;resources&gt;
    &lt;usb-device vendor-id=<span class="code-string">"</span><span class="code-string">xxxx"</span> product-id=<span class="code-string">"</span><span class="code-string">yyyy"</span> /&gt;
<span class="code-keyword">&lt;/</span><span class="code-leadattribute">resources</span>&gt;</pre>

	<p>Each "&lt;usb-device&gt;" element can contain these attributes - 
"vendor-id", "product_id", of "vendor-id", "class", "subclass", and 
"protocol". Use "vendor-id" and "product_id" to select a specific USB 
device. To select a group of USB devices, add attributes of "class", 
"subclass", and "protocol". If the "sub-device&gt;" element does not 
specify any attribute, it selects all USB devices that are available.</p>
	</li>
	<li>In order for your app to be notified when a USB device is attached,
 in the main Activity of the app, specify an "&lt;intent-filter&gt;" to 
filter the "<a href="http://developer.android.com/reference/android/hardware/usb/UsbManager.html#ACTION_USB_DEVICE_ATTACHED" target="_blank">android.hardware.usb.action.USB_DEVICE_ATTACHED</a>" Intent and a "&lt;meta-data&gt;" that points to the XML resource file that declares the profile of the USB device to connect.
	<div class="pre-action-link" id="premain520251" style="width:100%;display:block;"><span id="prehide520251" onclick="processCodeBlocks.togglePre(520251);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(520251);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre520251"><span class="code-keyword">&lt;</span><span class="code-leadattribute">intent-filter</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">action</span> <span class="code-attribute">android:name</span><span class="code-keyword">="</span><span class="code-keyword">android.hardware.usb.action.USB_DEVICE_ATTACHED"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">/intent-filter</span><span class="code-keyword">&gt;</span>

<span class="code-keyword">&lt;</span><span class="code-leadattribute">meta-data</span> <span class="code-attribute">android:name</span><span class="code-keyword">="</span><span class="code-keyword">android.hardware.usb.action.USB_DEVICE_ATTACHED"</span> <span class="code-attribute">android:resource</span><span class="code-keyword">="</span><span class="code-keyword">@xml/usb_devices"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span></pre>
	</li>
</ul>

<h4>Discovering USB Device</h4>

<p>An app can discover USB devices either via a notification from an 
Intent Filter when they are attached or by looping through the devices 
that are already connected before the app is launched.</p>

<p>If you have already set up a device profile in an XML resource file 
and an Intent Filter to filter this device in the manifest file, the app
 can obtain the "<a href="http://developer.android.com/reference/android/hardware/usb/UsbDevice.html" target="_blank">UsbDevice</a>" that represents the attached device from the Intent like this:</p>

<div class="pre-action-link" id="premain815049" style="width:100%;display:block;"><span id="prehide815049" onclick="processCodeBlocks.togglePre(815049);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(815049);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre815049">UsbDevice usbDevice = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);</pre>

<p>On the other hand, you can obtain a specific "UsbDevice" from a list of already connected devices through enumeration like this:</p>

<div class="pre-action-link" id="premain682573" style="width:100%;display:block;"><span id="prehide682573" onclick="processCodeBlocks.togglePre(682573);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(682573);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre682573">UsbManager usbManager = (UsbManager) getSystemService(Context.USB_SERVICE);
HashMap&lt;String, UsbDevice&gt; deviceList = usbManager.getDeviceList();
UsbDevice usbDevice = deviceList.get(<span class="code-string">"</span><span class="code-string">deviceName"</span>);</pre>

<h4>Obtaining Permission</h4>

<p>If the app uses an intent filter to detect USB devices, when users 
connect a USB device that matches the device filter, they will be 
presented with a dialog asking them if they want to start the app. If 
users accept, the app is automatically granted permission to access the 
USB device until it is disconnected.</p>

<p>On the other hand, if the app detects a USB device through 
enumeration, it has to explicitly obtain permission from the users in 
order to communicate with the USB device. To do this, the app will call <a href="http://developer.android.com/reference/android/hardware/usb/UsbManager.html#requestPermission%28android.hardware.usb.UsbAccessory,%20android.app.PendingIntent%29" target="_blank">requestPermission()</a> to display a dialog to the user asking for permission to connect to the device. For example:</p>

<div class="pre-action-link" id="premain890957" style="width:100%;display:block;"><span id="prehide890957" onclick="processCodeBlocks.togglePre(890957);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(890957);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre890957"><span class="code-keyword">private</span> <span class="code-keyword">static</span> final <span class="code-sdkkeyword">String</span> ACTION_USB_PERMISSION = <span class="code-string">"</span><span class="code-string">com.peterleow.USB_PERMISSION"</span>;
UsbDevice usbDevice;
PendingIntent pi = PendingIntent.getBroadcast(<span class="code-keyword">this</span>, <span class="code-digit">0</span>, <span class="code-keyword">new</span> Intent(ACTION_USB_PERMISSION), <span class="code-digit">0</span>);
usbManager.requestPermission(usbDevice, pi);</pre>

<p>When users reply to the dialog, the result will be returned as an Intent that contains the "<a href="http://developer.android.com/reference/android/hardware/usb/UsbManager.html#EXTRA_PERMISSION_GRANTED" target="_blank">EXTRA_PERMISSION_GRANTED</a>"
 extra which is either true or false. The app will only connect to the 
device when the value of this extra is true. This Intent will be 
broadcasted and must be captured by a "BroadcastReceiver". For example, 
create a BroadcastReceiver" like this:</p>

<div class="pre-action-link" id="premain996098" style="width:100%;display:block;"><span id="prehide996098" onclick="processCodeBlocks.togglePre(996098);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(996098);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre996098"><span class="code-keyword">private</span> <span class="code-keyword">static</span> final <span class="code-sdkkeyword">String</span> ACTION_USB_PERMISSION = <span class="code-string">"</span><span class="code-string">com.peterleow.USB_PERMISSION"</span>;
<span class="code-comment">//</span><span class="code-comment"> other code
</span><span class="code-keyword">private</span> final BroadcastReceiver usbReceiver = <span class="code-keyword">new</span> BroadcastReceiver() {
    @Override
    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onReceive(Context context, Intent intent) {
        <span class="code-sdkkeyword">String</span> action = intent.getAction();
        <span class="code-keyword">if</span> (ACTION_USB_PERMISSION.equals(action)) {
            synchronized (<span class="code-keyword">this</span>) {
                <span class="code-comment">//</span><span class="code-comment"> Obtain a USB device
</span>                UsbDevice usbDevice = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);

                <span class="code-keyword">if</span> (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, <span class="code-keyword">false</span>)) {
                    <span class="code-keyword">if</span>(usbDevice != <span class="code-keyword">null</span>){
                      <span class="code-comment">//</span><span class="code-comment"> permission granted
</span>                   }
                } 
                <span class="code-keyword">else</span> {
                    <span class="code-comment">//</span><span class="code-comment"> permission denied
</span>                }
            }
        }
    }
};</pre>

<p>then register the "BroadcastReceiver" like this:</p>

<div class="pre-action-link" id="premain790200" style="width:100%;display:block;"><span id="prehide790200" onclick="processCodeBlocks.togglePre(790200);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(790200);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre790200">IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);
registerReceiver(usbReceiver, filter);
</pre>

<h4 id="communicating-d">Conducting Communication</h4>

<p>Communication with a USB device should take place on a new thread so 
that it does not block the UI thread. To set up a communication, the app
 must first obtain the appropriate "<a href="http://developer.android.com/reference/android/hardware/usb/UsbInterface.html" target="_blank">UsbInterface</a>" and "<a href="http://developer.android.com/reference/android/hardware/usb/UsbEndpoint.html" target="_blank">UsbEndpoint</a>" of the USB device that you want to communicate, open a "<a href="http://developer.android.com/reference/android/hardware/usb/UsbDeviceConnection.html" target="_blank">UsbDeviceConnection</a>" on that endpoint, and then supply the data for transmission on the end point using the "<a href="http://developer.android.com/reference/android/hardware/usb/UsbDeviceConnection.html#bulkTransfer%28android.hardware.usb.UsbEndpoint,%20byte[],%20int,%20int%29" target="_blank">bulkTransfer()</a>" or "<a href="http://developer.android.com/reference/android/hardware/usb/UsbDeviceConnection.html#controlTransfer%28int,%20int,%20int,%20int,%20byte[],%20int,%20int%29" target="_blank">controlTransfer()</a>" method. For example:</p>

<div class="pre-action-link" id="premain497250" style="width:100%;display:block;"><span id="prehide497250" onclick="processCodeBlocks.togglePre(497250);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(497250);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre497250"><span class="code-keyword">private</span> <span class="code-sdkkeyword">Byte</span>[] bytes;

UsbInterface usbInterface = device.getInterface(<span class="code-digit">0</span>);
UsbEndpoint usbEndpoint = usbInterface.getEndpoint(<span class="code-digit">0</span>);
UsbDeviceConnection usbDeviceConnection  = usbManager.openDevice(usbDevice); 
usbDeviceConnection.claimInterface(usbInterface, <span class="code-keyword">true</span>);
usbDeviceConnection.bulkTransfer(usbEndpoint, bytes, bytes.length, <span class="code-digit">0</span>);</pre>

<h4 id="terminating-d">Terminating Communication</h4>

<p>When a connected USB device is detached or a communication session 
with a USB device is no longer needed, the app should close the 
"UsbInterface" and "UsbDeviceConnection" by calling"<a href="http://developer.android.com/reference/android/hardware/usb/UsbDeviceConnection.html#releaseInterface%28android.hardware.usb.UsbInterface%29" target="_blank">releaseInterface()</a>" and "<a href="http://developer.android.com/reference/android/hardware/usb/UsbDeviceConnection.html#close%28%29" target="_blank">close()</a>". To listen for detached events, create and register a "BroadcastReceiver" like the previous example.</p>

<h2>USB Accessory</h2>

<p>The procedure in setting up a communication with a USB accessory in 
USB Accessory mode is very similar to that in USB Host mode with minor 
difference. For example, in USB Host mode, the USB device is represented
 as a "UsbDevice" object, whereas in USB Accessory mode, it is 
represented as a "<a href="http://developer.android.com/reference/android/hardware/usb/UsbAccessory.html" target="_blank">UsbAccessory</a>" object.</p>

<p>If you use the add-on library to support Android 2.3.4, you will be 
glad to know that the classes that support the USB accessory feature in 
the add-on library are similar to those in "<a href="http://developer.android.com/reference/android/hardware/usb/package-summary.html">android.hardware.usb</a>",
 which means you can use the documentation for the 
"android.hardware.usb" if you are using the add-on library. However, 
they do have two differences as follows:</p>

<ul>
	<li>
	<p>To create a "UsbManager" handle using the add-on library, do this:</p>

	<div class="pre-action-link" id="premain758423" style="width:100%;display:block;"><span id="prehide758423" onclick="processCodeBlocks.togglePre(758423);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(758423);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre758423">UsbManager usbManager = UsbManager.getInstance(this);</pre>

	<p>To create a "UsbManager" handle using the "android.hardware.usb" package, do this:</p>

	<div class="pre-action-link" id="premain111856" style="width:100%;display:block;"><span id="prehide111856" onclick="processCodeBlocks.togglePre(111856);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(111856);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre111856">UsbManager usbManager = (UsbManager) getSystemService(Context.USB_SERVICE);</pre>
	</li>
	<li>
	<p>To create a "UsbAccessory" object using the add-on library, do this:</p>

	<div class="pre-action-link" id="premain310544" style="width:100%;display:block;"><span id="prehide310544" onclick="processCodeBlocks.togglePre(310544);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(310544);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre310544">UsbAccessory usbAccessory = UsbManager.getAccessory(intent);</pre>

	<p>To create a "UsbAccessory" handle using the "android.hardware.usb" package, do this:</p>

	<div class="pre-action-link" id="premain33833" style="width:100%;display:block;"><span id="prehide33833" onclick="processCodeBlocks.togglePre(33833);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(33833);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre33833">UsbAccessory usbAccessory = ((UsbAccessory)intent.getParcelableExtra(UsbManager.EXTRA_ACCESSORY);</pre>
	</li>
</ul>

<h4>Setting up Android Manifest</h4>

<p>Before an app can work with the USB accessory APIs, it needs to set up the manifest file as listed:</p>

<ul>
	<li>
	<p>Declare a "&lt;uses-feature&gt;" element that indicates that the app needs the USB accessory APIs support. For example:</p>

	<div class="pre-action-link" id="premain454541" style="width:100%;display:block;"><span id="prehide454541" onclick="processCodeBlocks.togglePre(454541);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(454541);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre454541">&lt;uses-feature android:name=<span class="code-string">"</span><span class="code-string">android.hardware.usb.accessory"</span> /&gt;  </pre>
	</li>
	<li>
	<p>Set the minimum SDK version of the app to API level 12 if you are 
using "android.hardware.usb" package or 10 if you are using the add-on 
library. For example:</p>

	<div class="pre-action-link" id="premain231014" style="width:100%;display:block;"><span id="prehide231014" onclick="processCodeBlocks.togglePre(231014);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(231014);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre231014">&lt;uses-sdk android:minSdkVersion=<span class="code-string">"</span><span class="code-string">12"</span> /&gt;      </pre>
	</li>
	<li>
	<p>Create an XML resource file, e.g. "usb_accessory.xml", in the 
"res/xml/" location that declares the profiles of a list of USB 
accessories that the app want to access in the "&lt;usb-accessory&gt;" 
element. For example:</p>

	<div class="pre-action-link" id="premain890347" style="width:100%;display:block;"><span id="prehide890347" onclick="processCodeBlocks.togglePre(890347);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(890347);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre890347">&lt;resources&gt;
    &lt;usb-accessory model=<span class="code-string">"</span><span class="code-string">xxxx"</span> manufacturer=<span class="code-string">"</span><span class="code-string">yyyy"</span> version=<span class="code-string">"</span><span class="code-string">1.0"</span> /&gt;
<span class="code-keyword">&lt;/</span><span class="code-leadattribute">resources</span>&gt;  </pre>
	</li>
	<li>
	<p>In order for your app to be notified when a USB accessory is 
attached, in the main Activity of the app, specify an 
"&lt;intent-filter&gt;" to filter the "<a href="http://developer.android.com/reference/android/hardware/usb/UsbManager.html#ACTION_USB_ACCESSORY_ATTACHED" target="_blank">android.hardware.usb.action.USB_ACCESSORY_ATTACHED</a>"
 Intent and a "&lt;meta-data&gt;" that points to the XML resource file 
that declares the profile of the USB accessory to connect.</p>

	<div class="pre-action-link" id="premain697542" style="width:100%;display:block;"><span id="prehide697542" onclick="processCodeBlocks.togglePre(697542);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(697542);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre697542"><span class="code-keyword">&lt;</span><span class="code-leadattribute">intent-filter</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">action</span> <span class="code-attribute">android:name</span><span class="code-keyword">="</span><span class="code-keyword">android.hardware.usb.action.USB_ACCESSORY_ATTACHED"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">/intent-filter</span><span class="code-keyword">&gt;</span>

<span class="code-keyword">&lt;</span><span class="code-leadattribute">meta-data</span> <span class="code-attribute">android:name</span><span class="code-keyword">="</span><span class="code-keyword">android.hardware.usb.action.USB_ACCESSORY_ATTACHED"</span> <span class="code-attribute">android:resource</span><span class="code-keyword">="</span><span class="code-keyword">@xml/usb_accessory"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span></pre>
	</li>
</ul>

<h4>Discovering USB Device</h4>

<p>An app can discover USB accessories either via a notification from an
 Intent Filter when they are attached or by looping through the 
accessories that are already connected before the app is launched.</p>

<p>If you have already set up a device profile in an XML resource file 
and an Intent Filter to filter this accessory in the manifest file, the 
app can obtain the "<a href="http://developer.android.com/reference/android/hardware/usb/UsbAccessory.html" target="_blank">UsbAccessory</a>" that represents the attached accessory from the Intent in either way:</p>

<ul>
	<li>Using the add-on library:
	<div class="pre-action-link" id="premain750324" style="width:100%;display:block;"><span id="prehide750324" onclick="processCodeBlocks.togglePre(750324);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(750324);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre750324">UsbAccessory usbAccessory = UsbManager.getAccessory(intent);</pre>
	</li>
	<li>Using the "android.hardware.usb" package:
	<div class="pre-action-link" id="premain21330" style="width:100%;display:block;"><span id="prehide21330" onclick="processCodeBlocks.togglePre(21330);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(21330);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre21330">UsbAccessory usbAccessory = ((UsbAccessory)intent.getParcelableExtra(UsbManager.EXTRA_ACCESSORY);</pre>
	</li>
</ul>

<p>On the other hand, you can obtain a specific "UsbAccessory" from a 
list of already connected accessories through enumeration like this:</p>

<div class="pre-action-link" id="premain675802" style="width:100%;display:block;"><span id="prehide675802" onclick="processCodeBlocks.togglePre(675802);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(675802);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre675802">UsbAccessory[] usbAccessoryList = usbManager.getAcccessoryList();</pre>

<h4>Obtaining Permission</h4>

<p>If the app uses an intent filter to detect USB accessories, when 
users connect a USB device that matches the accessory filter, they will 
be presented with a dialog asking them if they want to start the app. If
 users accept, the app is automatically granted permission to access the
 USB accessory until it is disconnected.</p>

<p>On the other hand, if the app detects a USB accessory through 
enumeration, it has to explicitly obtain permission from the users in 
order to communicate with the USB accessory. To do this, the app will 
call <a href="http://developer.android.com/reference/android/hardware/usb/UsbManager.html#requestPermission%28android.hardware.usb.UsbAccessory,%20android.app.PendingIntent%29" target="_blank">requestPermission()</a> to display a dialog to the user asking for permission to connect to the accessory. For example:</p>

<div class="pre-action-link" id="premain688596" style="width:100%;display:block;"><span id="prehide688596" onclick="processCodeBlocks.togglePre(688596);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(688596);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre688596"><span class="code-keyword">private</span> <span class="code-keyword">static</span> final <span class="code-sdkkeyword">String</span> ACTION_USB_PERMISSION = <span class="code-string">"</span><span class="code-string">com.peterleow.USB_PERMISSION"</span>;
UsbAccessory usbAccessory;
PendingIntent pi = PendingIntent.getBroadcast(<span class="code-keyword">this</span>, <span class="code-digit">0</span>, <span class="code-keyword">new</span> Intent(ACTION_USB_PERMISSION), <span class="code-digit">0</span>);
usbManager.requestPermission(usbAccessory, pi);</pre>

<p>When users reply to the dialog, the result will be returned as an Intent that contains the "<a href="http://developer.android.com/reference/android/hardware/usb/UsbManager.html#EXTRA_PERMISSION_GRANTED" target="_blank">EXTRA_PERMISSION_GRANTED</a>"
 extra which is either true or false. The app will only connect to the 
accessory when the value of this extra is true. This Intent will be 
broadcasted and must be captured by a "BroadcastReceiver". For example, 
create a BroadcastReceiver" like this:</p>

<div class="pre-action-link" id="premain306678" style="width:100%;display:block;"><span id="prehide306678" onclick="processCodeBlocks.togglePre(306678);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(306678);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre306678"><span class="code-keyword">private</span> <span class="code-keyword">static</span> final <span class="code-sdkkeyword">String</span> ACTION_USB_PERMISSION = <span class="code-string">"</span><span class="code-string">com.peterleow.USB_PERMISSION"</span>;
<span class="code-comment">//</span><span class="code-comment"> other code
</span><span class="code-keyword">private</span> final BroadcastReceiver usbReceiver = <span class="code-keyword">new</span> BroadcastReceiver() {
    @Override
    <span class="code-keyword">public</span> <span class="code-keyword">void</span> onReceive(Context context, Intent intent) {
        <span class="code-sdkkeyword">String</span> action = intent.getAction();
        <span class="code-keyword">if</span> (ACTION_USB_PERMISSION.equals(action)) {
            synchronized (<span class="code-keyword">this</span>) {
                <span class="code-comment">//</span><span class="code-comment"> Obtain a USB device
</span>                 UsbAccessory usbAccessory = (UsbAccessory) intent.getParcelableExtra(UsbManager.EXTRA_ACCESSORY);

                <span class="code-keyword">if</span> (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, <span class="code-keyword">false</span>)) {
                    <span class="code-keyword">if</span>(usbAccessory != <span class="code-keyword">null</span>){
                      <span class="code-comment">//</span><span class="code-comment"> permission granted
</span>                   }
                } 
                <span class="code-keyword">else</span> {
                    <span class="code-comment">//</span><span class="code-comment"> permission denied
</span>                }
            }
        }
    }
};</pre>

<p>then register the "BroadcastReceiver" like this:</p>

<div class="pre-action-link" id="premain485898" style="width:100%;display:block;"><span id="prehide485898" onclick="processCodeBlocks.togglePre(485898);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(485898);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre485898">IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);
registerReceiver(usbReceiver, filter);
</pre>

<h4 id="communicating-d2">Conducting Communication</h4>

<p>Communication with a USB accessory should take place on a new thread 
so that it does not block the UI thread. You can communicate with the 
accessory by first obtaining a file descriptor from the "UsbManager", 
and then set up input and output streams to read and write data using 
the file descriptor. You can interpret a file descriptor as a 
communication end point of a USB accessory. For example:</p>

<div class="pre-action-link" id="premain350500" style="width:100%;display:block;"><span id="prehide350500" onclick="processCodeBlocks.togglePre(350500);">Hide</span>  &nbsp; <span onclick="return processCodeBlocks.copyCode(350500);">Copy Code</span></div><pre class="notranslate" style="margin-top: 0px;" id="pre350500">FileInputStream inputStream;
FileOutputStream outputStream;
ParcelFileDescriptor fileDescriptor = usbManager.openAccessory(usbAccessory);

<span class="code-keyword">if</span> fileDescriptor != <span class="code-keyword">null</span>) {
    FileDescriptor fileDescriptor = mFileDescriptor.getFileDescriptor();
    inputStream = <span class="code-keyword">new</span> FileInputStream(fileDescriptor );
    outputStream = <span class="code-keyword">new</span> FileOutputStream(fileDescriptor );
    Thread t = <span class="code-keyword">new</span> Thread(<span class="code-keyword">null</span>, <span class="code-keyword">this</span>, <span class="code-string">"</span><span class="code-string">USB AccessoryThread"</span>);
    t.start();
}</pre>

<h4 id="terminating-d2">Terminating Communication</h4>

<p>When a connected USB accessory is detached or a communication session
 with a USB accessory is no longer needed, the app should close the file
 descriptor by calling "<a href="http://developer.android.com/reference/android/hardware/usb/UsbDeviceConnection.html#close%28%29" target="_blank">close()</a>". To listen for detached events, create and register a "BroadcastReceiver" like the previous example.</p>

<h2>Best Practices</h2>

<p>I have rounded up some best practices with regards to implementing connectivity in Android.</p>

<ul>
	<li>
	<p>Declare &lt;user-feature&gt; in the app's manifest file where 
applicable as a way to prevent incompatible devices that do not support 
certain connectivity option from accessing the app that implements that 
connectivity option.</p>
	</li>
	<li>
	<p>Always execute I/O related operations in a new thread so as not to block the user's interaction on the main UI thread.</p>
	</li>
	<li>Always unregister the "BroadcastReceiver" on "Activity.onPause()" 
and register it on "Activity.onResume()" so as to minimize system 
overhead.</li>
</ul>

<h2>Summary</h2>

<p>You have learned the basic connectivity options in Android in a 
hands-on approach. I hope this journey will entice you to explore these 
options further and incorporate them into your next Android app. For 
easy reference, I have put them together into a quick link list for a 
quick jump to the respective options in this article.</p>

<ul>
	<li><a href="#bluetooth">Bluetooth</a></li>
	<li><a href="#wifi">Wi-Fi</a></li>
	<li><a href="#nfc">NFC</a></li>
	<li><a href="#mobile">Mobile Data</a></li>
	<li><a href="#sip">SIP</a></li>
	<li><a href="#usb">USB</a></li>
</ul>

<p>It is time to disconnect and take a breather. See you.</p>

<h2>Reference</h2>

<ul>
	<li><a href="http://developer.android.com/guide/topics/connectivity/index.html" target="_blank">Android Connectivty</a></li>
</ul>


						</div>
						

						<div class="float-right" style="margin:20px 0 0 10px;border:1px solid #ccc">
						<div class="msg-300x250" data-format="300x250" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Mobile-Development/Android/Android-Tutorial-Contest" data-loadonview="true" data-tags="Java, HTML, Mobile, Android,rating4.5"><noscript><a href="http://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Mobile-Development/Android/Android-Tutorial-Contest&sz=300x250&c=382567"><img src="http://pubads.g.doubleclick.net/gampad/ad?iu=/6839/lqm.codeproject.site/Mobile-Development/Android/Android-Tutorial-Contest&sz=300x250&c=382567"  width="300px" height="250px" target="_blank"/></a></noscript><div data-google-query-id="CO7IlZe95s4CFVWgaAodf88I8w" id="div-gpt-ad-lqm.codeproject.site/mobile-development/android/android-tutorial-contest-2" style="height: 250px; width: 300px; box-sizing: border-box; border: 0px none; font-size: 0px;"><div style="border: 0pt none;" id="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_1__container__"><iframe src="javascript:&quot;<html><body style='background:transparent'></body></html>&quot;" style="border: 0px none; vertical-align: bottom;" marginheight="0" marginwidth="0" scrolling="no" name="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_1" title="3rd party ad content" id="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_1" frameborder="0" height="250" width="300"></iframe></div><iframe src="javascript:&quot;<html><body style='background:transparent'></body></html>&quot;" style="border: 0px none; vertical-align: bottom; visibility: hidden; display: none;" marginheight="0" marginwidth="0" scrolling="no" name="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_1__hidden__" title="" id="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_1__hidden__" frameborder="0" height="0" width="0"></iframe></div></div>
						</div>
                        
                        
						
						<h2>License</h2>
						<div id="LicenseTerms"><p>This article, along with any associated source code and files, is licensed under <a href="http://www.codeproject.com/info/cpol10.aspx" rel="license">The Code Project Open License (CPOL)</a></p></div>
						

                        
						<h2>Share</h2>
				        <div class="share-list">
					        



<!-- Buttons start here. Copy this ul to your document. -->
<ul class="rrssb-buttons clearfix rrssb-1">
    <li data-size="34" data-initwidth="16.666666666666668" style="width: calc(50% - 84px);" class="email">

        <a href="mailto:?subject=Android%20Connectivity%20-%20CodeProject&amp;body=Here%27s%20an%20interesting%20article%20on%20for%20you%20on%20codeproject.com%0a%0ahttp%3a%2f%2fwww.codeproject.com%2fArticles%2f814814%2fAndroid-Connectivity%0a">
            <span class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve"><g>
                        <path d="M20.111 26.147c-2.336 1.051-4.361 1.401-7.125 1.401c-6.462 0-12.146-4.633-12.146-12.265 
                            c0-7.94 5.762-14.833 14.561-14.833c6.853 0 11.8 4.7 11.8 11.252c0 5.684-3.194 9.265-7.399 
                            9.3 c-1.829 0-3.153-0.934-3.347-2.997h-0.077c-1.208 1.986-2.96 2.997-5.023 2.997c-2.532 
                            0-4.361-1.868-4.361-5.062 c0-4.749 3.504-9.071 9.111-9.071c1.713 0 3.7 0.4 4.6 0.973l-1.169 
                            7.203c-0.388 2.298-0.116 3.3 1 3.4 c1.673 0 3.773-2.102 3.773-6.58c0-5.061-3.27-8.994-9.303-8.994c-5.957 
                            0-11.175 4.673-11.175 12.1 c0 6.5 4.2 10.2 10 10.201c1.986 0 4.089-0.43 5.646-1.245L20.111 
                            26.147z M16.646 10.1 c-0.311-0.078-0.701-0.155-1.207-0.155c-2.571 0-4.595 2.53-4.595 5.529c0 
                            1.5 0.7 2.4 1.9 2.4 c1.441 0 2.959-1.828 3.311-4.087L16.646 10.068z"></path></g>
                </svg>
            </span>
            <span class="text">email</span>
        </a>
    </li>
    <li data-size="45" data-initwidth="16.666666666666668" style="width: calc(50% - 84px);" class="twitter">
        <!-- Replace href with your Meta and URL information  -->
        <a href="http://twitter.com/home?status=Android+Connectivity+-+CodeProject+-+http%3a%2f%2fwww.codeproject.com%2fArticles%2f814814%2fAndroid-Connectivity" class="popup">
            <span class="icon">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                <path d="M24.253,8.756C24.689,17.08,18.297,24.182,9.97,24.62c-3.122,0.162-6.219-0.646-8.861-2.32
                    c2.703,0.179,5.376-0.648,7.508-2.321c-2.072-0.247-3.818-1.661-4.489-3.638c0.801,0.128,1.62,0.076,2.399-0.155
                    C4.045,15.72,2.215,13.6,2.115,11.077c0.688,0.275,1.426,0.407,2.168,0.386c-2.135-1.65-2.729-4.621-1.394-6.965
                    C5.575,7.816,9.54,9.84,13.803,10.071c-0.842-2.739,0.694-5.64,3.434-6.482c2.018-0.623,4.212,0.044,5.546,1.683
                    c1.186-0.213,2.318-0.662,3.329-1.317c-0.385,1.256-1.247,2.312-2.399,2.942c1.048-0.106,2.069-0.394,3.019-0.851
                    C26.275,7.229,25.39,8.196,24.253,8.756z"></path>
                </svg>
            </span>
            <span class="text">twitter</span>
        </a>
    </li>

    <li data-size="57" data-initwidth="16.666666666666668" style="width: 42px;" class="facebook small">
        <!-- Replace with your URL. For best results, make sure you page has the proper FB Open Graph tags in header: 
        https://developers.facebook.com/docs/opengraph/howtos/maximizing-distribution-media-content/ -->
        <a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fwww.codeproject.com%2fArticles%2f814814%2fAndroid-Connectivity" class="popup">
            <span class="icon">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <path d="M27.825,4.783c0-2.427-2.182-4.608-4.608-4.608H4.783c-2.422,0-4.608,2.182-4.608,4.608v18.434
                        c0,2.427,2.181,4.608,4.608,4.608H14V17.379h-3.379v-4.608H14v-1.795c0-3.089,2.335-5.885,5.192-5.885h3.718v4.608h-3.726
                        c-0.408,0-0.884,0.492-0.884,1.236v1.836h4.609v4.608h-4.609v10.446h4.916c2.422,0,4.608-2.188,4.608-4.608V4.783z"></path>
                </svg>
            </span>
            <span class="text">facebook</span>
        </a>
    </li>
    
    <li data-size="51" data-initwidth="16.666666666666668" style="width: 42px;" class="linkedin small">
        <!-- Replace href with your meta and URL information -->
        <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fwww.codeproject.com%2fArticles%2f814814%2fAndroid-Connectivity&amp;title=Android+Connectivity+-+CodeProject&amp;summary=&amp;source=codeproject.com" class="popup">
            <span class="icon">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <path d="M25.424,15.887v8.447h-4.896v-7.882c0-1.979-0.709-3.331-2.48-3.331c-1.354,0-2.158,0.911-2.514,1.803
                        c-0.129,0.315-0.162,0.753-0.162,1.194v8.216h-4.899c0,0,0.066-13.349,0-14.731h4.899v2.088c-0.01,0.016-0.023,0.032-0.033,0.048
                        h0.033V11.69c0.65-1.002,1.812-2.435,4.414-2.435C23.008,9.254,25.424,11.361,25.424,15.887z M5.348,2.501
                        c-1.676,0-2.772,1.092-2.772,2.539c0,1.421,1.066,2.538,2.717,2.546h0.032c1.709,0,2.771-1.132,2.771-2.546
                        C8.054,3.593,7.019,2.501,5.343,2.501H5.348z M2.867,24.334h4.897V9.603H2.867V24.334z"></path>
                </svg>
            </span>
            <span class="text">linkedin</span>
        </a>
    </li>
    <li data-size="38" data-initwidth="16.666666666666668" style="width: 42px;" class="reddit small">
        <a href="http://www.reddit.com/submit?url=http%3a%2f%2fwww.codeproject.com%2fArticles%2f814814%2fAndroid-Connectivity&amp;title=Android+Connectivity+-+CodeProject">
            <span class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve"><g>
                <path d="M11.794 15.316c0-1.029-0.835-1.895-1.866-1.895c-1.03 0-1.893 0.865-1.893 1.895s0.863 1.9 1.9 1.9 C10.958 17.2 11.8 16.3 11.8 15.316z"></path>
                <path d="M18.1 13.422c-1.029 0-1.895 0.864-1.895 1.895c0 1 0.9 1.9 1.9 1.865c1.031 0 1.869-0.836 1.869-1.865 C19.969 14.3 19.1 13.4 18.1 13.422z"></path>
                <path d="M17.527 19.791c-0.678 0.678-1.826 1.006-3.514 1.006c-0.004 0-0.009 0-0.014 0c-0.004 0-0.01 0-0.015 0 
                c-1.686 0-2.834-0.328-3.51-1.005c-0.264-0.265-0.693-0.265-0.958 0c-0.264 0.265-0.264 0.7 0 1 c0.943 0.9 2.4 1.4 
                4.5 1.402c0.005 0 0 0 0 0c0.005 0 0 0 0 0c2.066 0 3.527-0.459 4.47-1.402 c0.265-0.264 0.265-0.693 0.002-0.958C18.221 
                19.5 17.8 19.5 17.5 19.791z"></path><path d="M27.707 13.267c0-1.785-1.453-3.237-3.236-3.237c-0.793 0-1.518 0.287-2.082 
                0.761c-2.039-1.295-4.646-2.069-7.438-2.219 l1.483-4.691l4.062 0.956c0.071 1.4 1.3 2.6 2.7 2.555c1.488 0 2.695-1.208 
                2.695-2.695C25.881 3.2 24.7 2 23.2 2 c-1.059 0-1.979 0.616-2.42 1.508l-4.633-1.091c-0.344-0.081-0.693 0.118-0.803 
                0.455l-1.793 5.7 C10.548 8.6 7.7 9.4 5.6 10.75C5.006 10.3 4.3 10 3.5 10.029c-1.785 0-3.237 1.452-3.237 3.2 c0 1.1 0.6 
                2.1 1.4 2.69c-0.04 0.272-0.061 0.551-0.061 0.831c0 2.3 1.3 4.4 3.7 5.9 c2.299 1.5 5.3 2.3 8.6 2.325c3.228 0 6.271-0.825 
                8.571-2.325c2.387-1.56 3.7-3.66 3.7-5.917 c0-0.26-0.016-0.514-0.051-0.768C27.088 15.5 27.7 14.4 27.7 13.267z M23.186 
                3.355c0.74 0 1.3 0.6 1.3 1.3 c0 0.738-0.6 1.34-1.34 1.34s-1.342-0.602-1.342-1.34C21.844 4 22.4 3.4 23.2 3.355z M1.648 
                13.3 c0-1.038 0.844-1.882 1.882-1.882c0.31 0 0.6 0.1 0.9 0.209c-1.049 0.868-1.813 1.861-2.26 2.9 C1.832 14.2 1.6 13.8 1.6 
                13.267z M21.773 21.57c-2.082 1.357-4.863 2.105-7.831 2.105c-2.967 0-5.747-0.748-7.828-2.105 
                c-1.991-1.301-3.088-3-3.088-4.782c0-1.784 1.097-3.484 3.088-4.784c2.081-1.358 4.861-2.106 7.828-2.106 c2.967 0 5.7 
                0.7 7.8 2.106c1.99 1.3 3.1 3 3.1 4.784C24.859 18.6 23.8 20.3 21.8 21.57z M25.787 14.6 
                c-0.432-1.084-1.191-2.095-2.244-2.977c0.273-0.156 0.59-0.245 0.928-0.245c1.035 0 1.9 0.8 1.9 1.9 
                C26.354 13.8 26.1 14.3 25.8 14.605z"></path></g></svg>
            </span>
            <span class="text">reddit</span>
        </a>
    </li>
    <li data-size="52" data-initwidth="16.666666666666668" style="width: 42px;" class="googleplus small">
        <!-- Replace href with your meta and URL information.  -->
        <a href="https://plus.google.com/share?url=http%3a%2f%2fwww.codeproject.com%2fArticles%2f814814%2fAndroid-Connectivity" class="popup">
            <span class="icon">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <g>
                        <g>
                            <path d="M14.703,15.854l-1.219-0.948c-0.372-0.308-0.88-0.715-0.88-1.459c0-0.748,0.508-1.223,0.95-1.663
                                c1.42-1.119,2.839-2.309,2.839-4.817c0-2.58-1.621-3.937-2.399-4.581h2.097l2.202-1.383h-6.67c-1.83,0-4.467,0.433-6.398,2.027
                                C3.768,4.287,3.059,6.018,3.059,7.576c0,2.634,2.022,5.328,5.604,5.328c0.339,0,0.71-0.033,1.083-0.068
                                c-0.167,0.408-0.336,0.748-0.336,1.324c0,1.04,0.551,1.685,1.011,2.297c-1.524,0.104-4.37,0.273-6.467,1.562
                                c-1.998,1.188-2.605,2.916-2.605,4.137c0,2.512,2.358,4.84,7.289,4.84c5.822,0,8.904-3.223,8.904-6.41
                                c0.008-2.327-1.359-3.489-2.829-4.731H14.703z M10.269,11.951c-2.912,0-4.231-3.765-4.231-6.037c0-0.884,0.168-1.797,0.744-2.511
                                c0.543-0.679,1.489-1.12,2.372-1.12c2.807,0,4.256,3.798,4.256,6.242c0,0.612-0.067,1.694-0.845,2.478
                                c-0.537,0.55-1.438,0.948-2.295,0.951V11.951z M10.302,25.609c-3.621,0-5.957-1.732-5.957-4.142c0-2.408,2.165-3.223,2.911-3.492
                                c1.421-0.479,3.25-0.545,3.555-0.545c0.338,0,0.52,0,0.766,0.034c2.574,1.838,3.706,2.757,3.706,4.479
                                c-0.002,2.073-1.736,3.665-4.982,3.649L10.302,25.609z"></path>
                            <polygon points="23.254,11.89 23.254,8.521 21.569,8.521 21.569,11.89 18.202,11.89 18.202,13.604 21.569,13.604 21.569,17.004
                                23.254,17.004 23.254,13.604 26.653,13.604 26.653,11.89      "></polygon>
                        </g>
                    </g>
                </svg>
            </span>
            <span class="text">google+</span>
        </a>
    </li>
    
</ul>
<!-- Buttons end here -->

				        </div> 
    			        


						
						<h2 id="ctl00_AboutHeading">About the Author</h2>
						    


<div class="author-wrapper">

    <div class="pic-wrapper"> 
        <img id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhoto" class="profile-pic" src="Android%20Connectivity%20-%20CodeProject_files/eea82bb3367b38051f5304d4d3114f95.jpg" style="border-width:0px;transform:rotate(2deg);">

    </div>

    <div class="container-member">  
        <b><a id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberProfileLink" class="author" href="http://www.codeproject.com/Members/peterleow">Peter Leow</a></b>

        <table class="extended">
        <tbody><tr>
            <td rowspan="2" nowrap="nowrap" valign="middle">
            <div id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_FollowOn" class="follow">
	            <a href="http://www.twitter.com/peterleowblog"><img style="vertical-align:middle;border:0;height:24px;width:24px" alt="Twitter" src="Android%20Connectivity%20-%20CodeProject_files/twitter32.png"></a> 
	            
	            <a href="https://www.linkedin.com/in/peterleow"><img style="vertical-align:middle;border:0;height:24px;width:24px" alt="LinkedIn" src="Android%20Connectivity%20-%20CodeProject_files/linkedin-32.png"></a> 
            </div>
            </td>
            <td width="100%">
                <div class="company">
                    <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberJobTitle">Instructor / Trainer</span>
	                <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberCompany"></span>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberLocation">Singapore <img src="Android%20Connectivity%20-%20CodeProject_files/SG.gif" alt="Singapore" height="11px" width="16px"></span>
            </td>
        </tr>
        </tbody></table>
    </div>

    <div class="description">
        子曰："三人行，必有我师焉；择其善者而从之，其不善者而改之<br>
<br>
"There is always something we can learn from another person. Choose to 
follow his strengths while use his shortcomings to reflect upon 
ourselves."<br>
― Confucius<br>
<br>
“Live as if you were to die tomorrow. Learn as if you were to live forever.”<br>
― Mahatma Gandhi<br>
<br>
http://www.amazon.com/author/peterleow

        
    </div>

</div><br>
						
						

						<div class="clearfix"></div>

						<div style="padding-top:8px">
							
						</div>

					

				    
					</form>

				</div>

				
				<div class="bottom-promo"> 
				    <div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Mobile-Development/Android/Android-Tutorial-Contest" data-loadonview="true" data-tags="Java, HTML, Mobile, Android,rating4.5,pos_bottom"><noscript><a href="http://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Mobile-Development/Android/Android-Tutorial-Contest&sz=728x90&c=382567"><img src="http://pubads.g.doubleclick.net/gampad/ad?iu=/6839/lqm.codeproject.site/Mobile-Development/Android/Android-Tutorial-Contest&sz=728x90&c=382567"  width="728px" height="90px" target="_blank"/></a></noscript><div data-google-query-id="CJ-is5e95s4CFRefaAod6_0C3w" id="div-gpt-ad-lqm.codeproject.site/mobile-development/android/android-tutorial-contest-3" style="height: 90px; width: 728px; box-sizing: border-box; border: 0px none; font-size: 0px;"><div style="border: 0pt none;" id="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_2__container__"><iframe src="javascript:&quot;<html><body style='background:transparent'></body></html>&quot;" style="border: 0px none; vertical-align: bottom;" marginheight="0" marginwidth="0" scrolling="no" name="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_2" title="3rd party ad content" id="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_2" frameborder="0" height="90" width="728"></iframe></div><iframe src="javascript:&quot;<html><body style='background:transparent'></body></html>&quot;" style="border: 0px none; vertical-align: bottom; visibility: hidden; display: none;" marginheight="0" marginwidth="0" scrolling="no" name="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_2__hidden__" title="" id="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_2__hidden__" frameborder="0" height="0" width="0"></iframe></div></div>
				</div>
				

                
        <h2 id="ctl00_AlsoRead_RelatedResults_ctl00_Header" class="also-read">You may also be interested in...</h2>
        <table class="spaced content-list also-read">
    
	    <tbody><tr>
        <td class="content-list-item" valign="top" width="50%">
            <div id="ctl00_AlsoRead_RelatedResults_ctl01_ThumbnailContainer" class="thumbnail">
                <a id="ctl00_AlsoRead_RelatedResults_ctl01_Thumbnail" href="http://www.codeproject.com/Articles/800703/Connecting-your-Android-app-to-your-WAMP-server"><img src="Android%20Connectivity%20-%20CodeProject_files/article100x80.png" alt="" style="border-width:0px;"></a>
            </div>
            <div class="text">
                <div class="title"><a id="ctl00_AlsoRead_RelatedResults_ctl01_Link" href="http://www.codeproject.com/Articles/800703/Connecting-your-Android-app-to-your-WAMP-server">Connecting your Android app to your WAMP server</a></div>
                
            </div>
        </td>
	
        <td class="content-list-item" valign="top" width="50%">
            <div id="ctl00_AlsoRead_RelatedResults_ctl02_ThumbnailContainer" class="thumbnail">
                <a id="ctl00_AlsoRead_RelatedResults_ctl02_Thumbnail" href="http://www.codeproject.com/ResearchLibrary/219/Building-a-Connected-Data-Strategy"><img src="Android%20Connectivity%20-%20CodeProject_files/LibraryItemThumbnail_219_100x130.jpg" alt="" style="border-width:0px;"></a>
            <div class="pro-badge">Pro</div></div>
            <div class="text">
                <div class="title"><a id="ctl00_AlsoRead_RelatedResults_ctl02_Link" href="http://www.codeproject.com/ResearchLibrary/219/Building-a-Connected-Data-Strategy">Building a Connected Data Strategy</a></div>
                
            </div>
        </td>
	    </tr>
	
	    <tr>
        <td class="content-list-item" valign="top" width="50%">
            <div id="ctl00_AlsoRead_RelatedResults_ctl03_ThumbnailContainer" class="thumbnail">
                <a id="ctl00_AlsoRead_RelatedResults_ctl03_Thumbnail" href="http://www.codeproject.com/Articles/870540/Siminov-Framework-Connect-Android-RESTful-Framewor"><img src="Android%20Connectivity%20-%20CodeProject_files/Thumb-870540.png" alt="" style="border-width:0px;"></a>
            </div>
            <div class="text">
                <div class="title"><a id="ctl00_AlsoRead_RelatedResults_ctl03_Link" href="http://www.codeproject.com/Articles/870540/Siminov-Framework-Connect-Android-RESTful-Framewor">Siminov Framework - Connect - Android RESTful Framework</a></div>
                
            </div>
        </td>
	
        <td class="content-list-item" valign="top" width="50%">
            <div id="ctl00_AlsoRead_RelatedResults_ctl04_ThumbnailContainer" class="thumbnail">
                <a id="ctl00_AlsoRead_RelatedResults_ctl04_Thumbnail" href="http://www.codeproject.com/Articles/23/SAPrefs-Netscape-like-Preferences-Dialog"><img src="Android%20Connectivity%20-%20CodeProject_files/Thumb-23.gif" alt="" style="border-width:0px;"></a>
            </div>
            <div class="text">
                <div class="title"><a id="ctl00_AlsoRead_RelatedResults_ctl04_Link" href="http://www.codeproject.com/Articles/23/SAPrefs-Netscape-like-Preferences-Dialog">SAPrefs - Netscape-like Preferences Dialog</a></div>
                
            </div>
        </td>
	    </tr>
	
	    <tr>
        <td class="content-list-item" valign="top" width="50%">
            <div id="ctl00_AlsoRead_RelatedResults_ctl05_ThumbnailContainer" class="thumbnail">
                <a id="ctl00_AlsoRead_RelatedResults_ctl05_Thumbnail" href="http://www.codeproject.com/ResearchLibrary/248/Mobile-App-Playbook"><img src="Android%20Connectivity%20-%20CodeProject_files/LibraryItemThumbnail_248_100x130.png" alt="" style="border-width:0px;"></a>
            <div class="pro-badge">Pro</div></div>
            <div class="text">
                <div class="title"><a id="ctl00_AlsoRead_RelatedResults_ctl05_Link" href="http://www.codeproject.com/ResearchLibrary/248/Mobile-App-Playbook">Mobile App Playbook</a></div>
                
            </div>
        </td>
	
        <td class="content-list-item" valign="top" width="50%">
            <div id="ctl00_AlsoRead_RelatedResults_ctl06_ThumbnailContainer" class="thumbnail">
                <a id="ctl00_AlsoRead_RelatedResults_ctl06_Thumbnail" href="http://www.codeproject.com/Articles/47864/Generate-and-add-keyword-variations-using-AdWords"><img src="Android%20Connectivity%20-%20CodeProject_files/Thumb-47864.png" alt="" style="border-width:0px;"></a>
            </div>
            <div class="text">
                <div class="title"><a id="ctl00_AlsoRead_RelatedResults_ctl06_Link" href="http://www.codeproject.com/Articles/47864/Generate-and-add-keyword-variations-using-AdWords">Generate and add keyword variations using AdWords API</a></div>
                
            </div>
        </td>
	    </tr>
	
		</tbody></table>
	



				
				

					<h2>Comments and Discussions</h2>
					<a class="float-left" name="_comments" id="_comments">&nbsp;</a><div id="_MessageBoardctl00_MessageBoard" onclick="return SwitchMessage(event, null)">
<table id="ForumTable" class="forum relaxed" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="header1 callout"><b>You must <a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f814814%2fAndroid-Connectivity%3ffid%3d1868575%26df%3d10000%26mpp%3d50%26prof%3dFalse%26sort%3dPosition%26view%3dThread%26spc%3dRelaxed">Sign In</a> to use this message board.</b></td>
</tr><tr>
<td><table border="0" cellpadding="3px" cellspacing="0" width="100%">
<tbody><tr class="header1">
<td colspan="2" style="white-space:nowrap;"><div class="container">
<div class="float-right">
<form action="/Search.aspx?sbo=fm" method="get" class="searchbar">
<input name="fid" value="1868575" type="hidden"><input name="sbo" value="fm" type="hidden"><b>Search Comments </b><input class="search" name="qf" type="search">&nbsp;<input value="Go" class="button" type="submit">
</form>
</div>
</div></td>
</tr><tr class="header2">
<td></td><td style="width:100%;"><div style="text-align:right;">
<form action="/script/Forums/SetOptions.aspx?fid=1868575&amp;df=10000&amp;mpp=50&amp;prof=False&amp;sort=Position&amp;view=Thread&amp;spc=Relaxed&amp;floc=%2fArticles%2f814814%2fAndroid-Connectivity" method="get" style="margin:0;padding:0;">
<input name="fid" value="1868575" type="hidden"><input name="currentQS" value="fid=1868575&amp;df=10000&amp;mpp=50&amp;prof=False&amp;sort=Position&amp;view=Thread&amp;spc=Relaxed&amp;floc=%2fArticles%2f814814%2fAndroid-Connectivity" type="hidden"><input name="floc" value="/Articles/814814/Android-Connectivity" type="hidden"><input name="prof" id="prof" style="vertical-align:middle;" type="checkbox"><label for="prof">Profile popups</label>&nbsp;&nbsp;&nbsp;&nbsp;Spacing<select size="1" class="dropdown" name="spc">
<option selected="selected" value="Relaxed">Relaxed</option><option value="Compact">Compact</option><option value="Tight">Tight</option>
</select>&nbsp;&nbsp;Layout<select size="1" class="dropdown" name="view">
<option value="Normal">Normal</option><option value="Topic">Open Topics</option><option value="Expanded">Open All</option><option selected="selected" value="Thread">Thread View</option>
</select>&nbsp;&nbsp;Per page<select size="1" class="dropdown" name="mpp">
<option value="10">10</option><option value="25">25</option><option selected="selected" value="50">50</option>
</select>&nbsp;&nbsp;&nbsp;<input value="Update" name="SetOpt" class="button" type="submit">
</form>
</div></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><a name="xx0xx"></a><table border="0" cellpadding="2px" cellspacing="0" width="100%">
<tbody><tr class="navbar">
<td></td><td style="text-align:right;width:50%;"></td><td style="text-align:right;white-space:nowrap;"><span class="nav-link disabled">First</span> <span class="nav-link disabled">Prev</span> <span class="nav-link disabled">Next</span></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><table class="fixed-layout blank-background" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="5px" border="0" width="1px"></td>
</tr><tr id="F5287571_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx5287571xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_general.gif" alt="General" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="5287571" parent="0" thread="5287571" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;prof=False&amp;sort=Position&amp;view=Thread&amp;spc=Relaxed&amp;select=5287571#xx5287571xx">My vote of 5</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Dineshshp</span><span class="date">16-Aug-16  1:46</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-pro-16.png" title="professional" alt="professional" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=4826510">Dineshshp</a></span></td><td class="date"><span>16-Aug-16  1:46&nbsp;</span></td><td class="count">1&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F5287571_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="4826510" msgid="5287571" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">very good article for Beginners.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/5287571/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF5287571" data-ref="3_5287571" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5255005_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx5255005xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_question.gif" alt="Question" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="5255005" parent="0" thread="5255005" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;prof=False&amp;sort=Position&amp;view=Thread&amp;spc=Relaxed&amp;select=5255005#xx5255005xx">BLUETOOTH</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Member 12558930</span><span class="date">1-Jun-16  4:10</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=12558930">Member 12558930</a></span></td><td class="date"><span>1-Jun-16  4:10&nbsp;</span></td><td class="count">1&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F5255005_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="12558930" msgid="5255005" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hey i followed your whole code but he can't find any devices,how can i solve this?<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/5255005/BLUETOOTH.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF5255005" data-ref="3_5255005" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5210817_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx5210817xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_general.gif" alt="General" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="5210817" parent="0" thread="5210817" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;prof=False&amp;sort=Position&amp;view=Thread&amp;spc=Relaxed&amp;select=5210817#xx5210817xx">My vote of 5</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">csharpbd</span><span class="date">4-Mar-16  9:48</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-pro-16.png" title="professional" alt="professional" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=7184093">csharpbd</a></span></td><td class="date"><span>4-Mar-16  9:48&nbsp;</span></td><td class="count">1&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F5210817_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="7184093" msgid="5210817" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Thanks for share!!!!!<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/5210817/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF5210817" data-ref="3_5210817" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5169182_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx5169182xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_question.gif" alt="Question" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="5169182" parent="0" thread="5169182" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;prof=False&amp;sort=Position&amp;view=Thread&amp;spc=Relaxed&amp;select=5169182#xx5169182xx">Upgrading the code</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Member 12179974</span><span class="date">2-Dec-15  23:19</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=12179974">Member 12179974</a></span></td><td class="date"><span>2-Dec-15  23:19&nbsp;</span></td><td class="count">1&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F5169182_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="12179974" msgid="5169182" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hello! Thank you for useful review! <img src="Android%20Connectivity%20-%20CodeProject_files/thumbs_up.gif" alt="Thumbs Up | :thumbsup:" align="top"> <br>
Application works pretty good, but I have a one question about code.<br>
<br>
How can I set received data to "editText" field?<br>
<br>
I've tried to change code here(f.e.: editText.setText()....):<br>
<div class="pre-action-link" id="premain476950" style="width:100%;display:block;"><span id="prehide476950" onclick="processCodeBlocks.togglePre(476950);">Hide</span>  &nbsp; <span id="preShrink476950" onclick="processCodeBlocks.shrinkExpand(476950);">Shrink</span> <img id="preimg476950" src="Android%20Connectivity%20-%20CodeProject_files/arrow-up-16.png" style="height:16px;width:16px" onclick="processCodeBlocks.shrinkExpand(476950);">  &nbsp; <span onclick="return processCodeBlocks.copyCode(476950);">Copy Code</span></div><pre class="notranslate" id="pre476950" style="margin-top: 0px;" lang="java"><span class="code-keyword">void</span> parseNdefMessage(Intent intent) {
        Parcelable[] ndefMessageArray = intent.getParcelableArrayExtra(
                NfcAdapter.EXTRA_NDEF_MESSAGES);
        NdefMessage ndefMessage = (NdefMessage) ndefMessageArray[<span class="code-digit">0</span>];
        Toast.makeText(<span class="code-keyword">this</span>, <span class="code-keyword">new</span> <span class="code-sdkkeyword">String</span>(ndefMessage.getRecords()[<span class="code-digit">0</span>].getPayload()), Toast.LENGTH_LONG).show();
        <span class="code-comment">//</span><span class="code-comment">editText = (EditText) findViewById(R.id.editText); //attemp1
</span>        <span class="code-comment">//</span><span class="code-comment">String text = editText.getText().toString();
</span>        <span class="code-comment">//</span><span class="code-comment">editText.setText(ndefMessage.getRecords()[0].getPayload()[0]);  //
</span>    }
</pre>
<br>
How I guess that part is responsible for these.<br>
But it wasn't successful for me.<br>
<br>
I hope my question won't bring any troubles for you<br>
My best regards  <img src="Android%20Connectivity%20-%20CodeProject_files/smiley_smile.gif" alt="Smile | :)" align="top"> <br><br><div class="modified">modified  3-Dec-15 5:56am.</div><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/5169182/Upgrading-the-code.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF5169182" data-ref="3_5169182" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5167515_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx5167515xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_question.gif" alt="Question" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="5167515" parent="0" thread="5167515" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;prof=False&amp;sort=Position&amp;view=Thread&amp;spc=Relaxed&amp;select=5167515#xx5167515xx">NFC</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Member 12174083</span><span class="date">30-Nov-15  2:09</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=12174083">Member 12174083</a></span></td><td class="date"><span>30-Nov-15  2:09&nbsp;</span></td><td class="count">1&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F5167515_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="12174083" msgid="5167515" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Its not working for me. I installed my error free 
application in both of my devices(Note 2 and S5). I run the app, turned 
on the NFC and SBEAM for both devices. But when I put them back to back 
to each other, there's just no notificition such as touch to beam. I 
think i got lost in part 4. Navigating away from the app. What does it 
mean? Should I open a different app when the sender is side by side to 
the receiver?<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/5167515/NFC.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF5167515" data-ref="3_5167515" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5113193_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx5113193xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_question.gif" alt="Question" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="5113193" parent="0" thread="5113193" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;prof=False&amp;sort=Position&amp;view=Thread&amp;spc=Relaxed&amp;select=5113193#xx5113193xx">cannot connect</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Member 11894255</span><span class="date">20-Aug-15  17:19</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=11894255">Member 11894255</a></span></td><td class="date"><span>20-Aug-15  17:19&nbsp;</span></td><td class="count">1&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F5113193_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="11894255" msgid="5113193" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hi all, <br>
<br>
I really appreciate Peter's work, but it's not able to connect. I 
followed ur codes but it does work for connection. When I selected one 
bluetooth device, it has no respond. Anyone have the same question as I 
encountered? Please help, thanks.<br>
<br>
David<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/5113193/cannot-connect.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF5113193" data-ref="3_5113193" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5108729_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx5108729xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_question.gif" alt="Question" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="5108729" parent="0" thread="5108729" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;prof=False&amp;sort=Position&amp;view=Thread&amp;spc=Relaxed&amp;select=5108729#xx5108729xx">How to run this project on emulator</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Member 11907478</span><span class="date">13-Aug-15  7:22</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=11907478">Member 11907478</a></span></td><td class="date"><span>13-Aug-15  7:22&nbsp;</span></td><td class="count">1&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F5108729_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="11907478" msgid="5108729" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">I have imported the project successfully but unable to 
figure out how can I run this on an emulator as I don't have a android 
device.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/5108729/How-to-run-this-project-on-emulator.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF5108729" data-ref="3_5108729" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4982734_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4982734xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_question.gif" alt="Question" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4982734" parent="0" thread="4982734" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;prof=False&amp;sort=Position&amp;view=Thread&amp;spc=Relaxed&amp;select=4982734#xx4982734xx">Android Bluetooth Connectivity</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Member 11265346</span><span class="date">18-Jan-15  23:10</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=11265346">Member 11265346</a></span></td><td class="date"><span>18-Jan-15  23:10&nbsp;</span></td><td class="count">3&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F4982734_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="11265346" msgid="4982734" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hi, <br>
Can anyone please kindly help me out in basically transferring Data from my android app to other remote Bluetooth devices?<br>
I could turn on/off Bluetooth, query for Bluetooth Devices, Find and 
Pair with Bluetooth devices, I can even connect To the Bluetooth device 
found, But I cannot simply send a common String to the connected device.<br>
I am developing my app on eclipse with java.<br>
<br>
Thanks.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;tid=4982734" title="View&nbsp;Thread"><b>View the 2 replies to this message</b></a><br><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/4982734/Android-Bluetooth-Connectivity.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4982734" data-ref="3_4982734" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4979352_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4979352xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_question.gif" alt="Question" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4979352" parent="0" thread="4979352" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;select=4979352&amp;prof=False&amp;view=Thread#xx4979352xx">HCE + NFC EN UN DISPOSITIVO</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Ivan Aucancela</span><span class="date">13-Jan-15  7:36</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=11372690">Ivan Aucancela</a></span></td><td class="date"><span>13-Jan-15  7:36&nbsp;</span></td><td class="count">1&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F4979352_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="11372690" msgid="4979352" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">SALUDOS UNA CONSULTA,<br>
<br>
1.-ES POSIBLE SIMULAR UNA TAG EN UN DISPOSITIVO, EN LA QUE OTRO 
DISPOSITIVO LEA LOS DATOS DEL OTRO DISPOSITIVO(SIMULA UNA TAG) Y SE 
PUEDA REALIZAR UNA OPERACION CUALQUIERA <br>
2. CODIGO PARA REALIZAR LA SIMULACIÓN DE LA TARJETA PARA SER LEIDA DE UN LECTOR O DE OTRO TELEFONO<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/4979352/HCE-plus-NFC-EN-UN-DISPOSITIVO.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4979352" data-ref="3_4979352" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4932191_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4932191xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_general.gif" alt="General" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4932191" parent="0" thread="4932191" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;select=4932191&amp;prof=False&amp;view=Thread#xx4932191xx">Great Stuff</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Parth Vora</span><span class="date">29-Oct-14  2:44</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-pro-16.png" title="professional" alt="professional" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=10307034">Parth Vora</a></span></td><td class="date"><span>29-Oct-14  2:44&nbsp;</span></td><td class="count">1&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F4932191_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="10307034" msgid="4932191" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hi Good article that i saw first time thanks...<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/4932191/Great-Stuff.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4932191" data-ref="3_4932191" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4906756_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4906756xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_general.gif" alt="General" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4906756" parent="0" thread="4906756" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;select=4906756&amp;prof=False&amp;view=Thread#xx4906756xx">My vote of 5</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Agent__007</span><span class="date">18-Sep-14  18:20</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-pro-16.png" title="professional" alt="professional" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=7389346">Agent__007</a></span></td><td class="date"><span>18-Sep-14  18:20&nbsp;</span></td><td class="count">1&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F4906756_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="7389346" msgid="4906756" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Great one!<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/4906756/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4906756" data-ref="3_4906756" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4904448_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4904448xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_general.gif" alt="General" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4904448" parent="0" thread="4904448" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;select=4904448&amp;prof=False&amp;view=Thread#xx4904448xx">My vote of 5</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Ernesto Herrera</span><span class="date">16-Sep-14  5:28</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=1363324">Ernesto Herrera</a></span></td><td class="date"><span>16-Sep-14  5:28&nbsp;</span></td><td class="count">2&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F4904448_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="1363324" msgid="4904448" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Awesome Article! <img src="Android%20Connectivity%20-%20CodeProject_files/smiley_smile.gif" alt="Smile | :)" align="top"> <br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;tid=4904448" title="View&nbsp;Thread"><b>View the reply to this message</b></a><br><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/4904448/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4904448" data-ref="3_4904448" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4904184_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4904184xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_question.gif" alt="Question" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4904184" parent="0" thread="4904184" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;select=4904184&amp;prof=False&amp;view=Thread#xx4904184xx">Quite Smart</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">WuRunZhe</span><span class="date">16-Sep-14  1:51</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=10253590">WuRunZhe</a></span></td><td class="date"><span>16-Sep-14  1:51&nbsp;</span></td><td class="count">2&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F4904184_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="10253590" msgid="4904184" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">It's very smart! <img src="Android%20Connectivity%20-%20CodeProject_files/smiley_smile.gif" alt="Smile | :)" align="top"> <br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;tid=4904184" title="View&nbsp;Thread"><b>View the reply to this message</b></a><br><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/4904184/Quite-Smart.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4904184" data-ref="3_4904184" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4902937_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4902937xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_general.gif" alt="General" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4902937" parent="0" thread="4902937" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;select=4902937&amp;prof=False&amp;view=Thread#xx4902937xx">My vote of 5</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Humayun Kabir Mamun</span><span class="date">14-Sep-14  20:03</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=5336968">Humayun Kabir Mamun</a></span></td><td class="date"><span>14-Sep-14  20:03&nbsp;</span></td><td class="count">2&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F4902937_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="5336968" msgid="4902937" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Nice...<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;tid=4902937" title="View&nbsp;Thread"><b>View the reply to this message</b></a><br><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/4902937/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4902937" data-ref="3_4902937" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4902908_h0" class="header hover-row root">
<td class="subject-line thread " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4902908xx"></a><img src="Android%20Connectivity%20-%20CodeProject_files/msg_general.gif" alt="General" height="16px" align="top" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4902908" parent="0" thread="4902908" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;select=4902908&amp;prof=False&amp;view=Thread#xx4902908xx">My vote of 5</a> <a onclick="return Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="Android%20Connectivity%20-%20CodeProject_files/pin.png" alt="Pin" height="13px" align="top" border="0" width="13px"></a><div class="mobile-only">
	<span class="author">Member 11082338</span><span class="date">14-Sep-14  19:29</span>
</div></td><td class="icon"><img src="Android%20Connectivity%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px" border="0"></td><td class="author"><span><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=11082338">Member 11082338</a></span></td><td class="date"><span>14-Sep-14  19:29&nbsp;</span></td><td class="count">2&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F4902908_h1" class="content root selected" style="display:none;">
<td class="thread" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="11082338" msgid="4902908" votingtype="GoodOrBad">

</div><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Great!<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;tid=4902908" title="View&nbsp;Thread"><b>View the reply to this message</b></a><br><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/814814/Android-Connectivity">Sign In</a>·<wbr><a href="http://www.codeproject.com/Messages/4902908/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4902908" data-ref="3_4902908" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><img src="Android%20Connectivity%20-%20CodeProject_files/t_002.gif" alt="" height="5px" border="0" width="1px"></td>
</tr><tr>
<td><table cellpadding="2px" cellspacing="0" width="100%">
<tbody><tr class="footer">
<td><span class="last-visit desktop-only tablet-only">Last Visit: 31-Dec-99  18:00 &nbsp; &nbsp; Last Update: 28-Aug-16  21:03</span></td><td><a rel="nofollow" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;prof=False&amp;view=Thread">Refresh</a></td><td style="text-align:right;white-space:nowrap;"><input id="_mbnUrl" value="/Articles/814814/Android-Connectivity?fid=1868575&amp;df=10000&amp;mpp=50&amp;sort=Position&amp;spc=Relaxed&amp;prof=False&amp;view=Thread&amp;fr=16" type="hidden"><span class="nav-link selected">1</span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table>
</div><p class="small-text"><img src="Android%20Connectivity%20-%20CodeProject_files/msg_general.gif" alt="General" height="16px" align="top" width="16px"> General &nbsp;&nbsp; <img src="Android%20Connectivity%20-%20CodeProject_files/msg_news.gif" alt="News" height="16px" align="top" width="16px"> News &nbsp;&nbsp; <img src="Android%20Connectivity%20-%20CodeProject_files/msg_idea.gif" alt="Suggestion" height="16px" align="top" width="16px"> Suggestion &nbsp;&nbsp; <img src="Android%20Connectivity%20-%20CodeProject_files/msg_question.gif" alt="Question" height="16px" align="top" width="16px"> Question &nbsp;&nbsp; <img src="Android%20Connectivity%20-%20CodeProject_files/msg_bug.gif" alt="Bug" height="16px" align="top" width="16px"> Bug &nbsp;&nbsp; <img src="Android%20Connectivity%20-%20CodeProject_files/msg_answer.gif" alt="Answer" height="16px" align="top" width="16px"> Answer &nbsp;&nbsp; <img src="Android%20Connectivity%20-%20CodeProject_files/msg_joke.gif" alt="Joke" height="16px" align="top" width="16px"> Joke &nbsp;&nbsp; <img src="Android%20Connectivity%20-%20CodeProject_files/msg_kudos.gif" alt="Praise" height="16px" align="top" width="16px"> Praise &nbsp;&nbsp; <img src="Android%20Connectivity%20-%20CodeProject_files/msg_rant.gif" alt="Rant" height="16px" align="top" width="16px"> Rant &nbsp;&nbsp; <img src="Android%20Connectivity%20-%20CodeProject_files/msg_admin.gif" alt="Admin" height="16px" align="top" width="16px"> Admin &nbsp;&nbsp; </p>
				

			</div>
			
		</td>
		<td class="article-wing-right" width="170px">
			<div id="ctl00_RightSideBar" class="container-article-info">

                <div style="position: fixed; top: 10px; left: 1023.5px;" id="RHSticky" class="container-article-info-sticky stuck">
        			


<div class="article-summary">

    


    <ul class="prize-list">
<li>Best Mobile Article of September 2014  (Second Prize)</li>
</ul>

    

    
</div>

				    

				    <div style="width:160px;margin: 10px auto;">
					    <div class="msg-160x600" data-format="160x600" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Mobile-Development/Android/Android-Tutorial-Contest" data-tags="Java, HTML, Mobile, Android,rating4.5"><noscript><a href="http://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Mobile-Development/Android/Android-Tutorial-Contest&sz=160x600&c=945180"><img src="http://pubads.g.doubleclick.net/gampad/ad?iu=/6839/lqm.codeproject.site/Mobile-Development/Android/Android-Tutorial-Contest&sz=160x600&c=945180"  width="160px" height="600px" target="_blank"/></a></noscript><div data-google-query-id="CIiw0oC95s4CFQiFaAodQE4Crw" id="div-gpt-ad-lqm.codeproject.site/mobile-development/android/android-tutorial-contest-4" style="height: 600px; width: 160px; box-sizing: border-box; border: 0px none; font-size: 0px;"><div style="border: 0pt none; display: inline-block; width: 160px; height: 600px;" id="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_0__container__"><iframe data-is-safeframe="true" marginheight="0" marginwidth="0" scrolling="no" name="1-0-4;61888;&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;script&gt;&lt;!--
(function(){(function(){function c(a){this.t={};this.tick=function(a,b,c){this.t[a]=[void 0!=c?c:(new Date).getTime(),b]};this.tick(&quot;start&quot;,null,a)}var a,b;window.performance&amp;&amp;(b=(a=window.performance.timing)&amp;&amp;a.responseStart);var d=0&lt;b?new c(b):new c;window.jstiming={Timer:c,load:d};a&amp;&amp;(a=a.navigationStart,0&lt;a&amp;&amp;b&gt;=a&amp;&amp;(window.jstiming.srt=b-a))})();}).call(this);
//--&gt;
&lt;/script&gt;&lt;style&gt;&lt;!--
a:link { color: #000000 }a:visited { color: #000000 }a:hover { color: #000000 }a:active { color: #000000 }  --&gt;&lt;/style&gt;&lt;script&gt;&lt;!--
(function(){var d=this;var h=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},k=function(a,c){return a&lt;c?-1:a&gt;c?1:0};var n;a:{var p=d.navigator;if(p){var q=p.userAgent;if(q){n=q;break a}}n=&quot;&quot;}var r=function(a){return-1!=n.indexOf(a)};var u=function(a,c){var b=t;Object.prototype.hasOwnProperty.call(b,a)||(b[a]=c(a))};var v=r(&quot;Opera&quot;),w=r(&quot;Trident&quot;)||r(&quot;MSIE&quot;),x=r(&quot;Edge&quot;),y=r(&quot;Gecko&quot;)&amp;&amp;!(-1!=n.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!r(&quot;Edge&quot;))&amp;&amp;!(r(&quot;Trident&quot;)||r(&quot;MSIE&quot;))&amp;&amp;!r(&quot;Edge&quot;),z=-1!=n.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!r(&quot;Edge&quot;),A=function(){var a=d.document;return a?a.documentMode:void 0},B;a:{var C=&quot;&quot;,D=function(){var a=n;if(y)return/rv\:([^\);]+)(\)|;)/.exec(a);if(x)return/Edge\/([\d\.]+)/.exec(a);if(w)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(z)return/WebKit\/(\S+)/.exec(a);if(v)return/(?:Version)[ \/]?(\S+)/.exec(a)}();D&amp;&amp;(C=D?D[1]:&quot;&quot;);if(w){var E=A();if(null!=E&amp;&amp;E&gt;parseFloat(C)){B=String(E);break a}}B=C}var F=B,t={},G=function(a){u(a,function(){for(var c=0,b=h(String(F)).split(&quot;.&quot;),e=h(String(a)).split(&quot;.&quot;),l=Math.max(b.length,e.length),m=0;0==c&amp;&amp;m&lt;l;m++){var f=b[m]||&quot;&quot;,g=e[m]||&quot;&quot;;do{f=/(\d*)(\D*)(.*)/.exec(f)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];g=/(\d*)(\D*)(.*)/.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==f[0].length&amp;&amp;0==g[0].length)break;c=k(0==f[1].length?0:parseInt(f[1],10),0==g[1].length?0:parseInt(g[1],10))||k(0==f[2].length,0==g[2].length)||k(f[2],g[2]);f=f[3];g=g[3]}while(0==c)}return 0&lt;=c})},H=d.document,I=H&amp;&amp;w?A()||(&quot;CSS1Compat&quot;==H.compatMode?parseInt(F,10):5):void 0;var J;if(!(J=!y&amp;&amp;!w)){var K;if(K=w)K=9&lt;=Number(I);J=K}J||y&amp;&amp;G(&quot;1.9.1&quot;);w&amp;&amp;G(&quot;9&quot;);var L={};window.ss=function(a){void 0!==L[a]?L[a]++:L[a]=1;var c=document.getElementById(a),b=L[a];if(window.css)css(a,&quot;nm&quot;,b,void 0,void 0);else if(c){a=c.href;var e=a.indexOf(&quot;&amp;nm=&quot;);if(0&gt;e)b=a+&quot;&amp;nm=&quot;+b;else var e=e+4,l=a.indexOf(&quot;&amp;&quot;,e),b=0&lt;=l?a.substring(0,e)+b+a.substring(l):a.substring(0,e)+b;c.href=2E3&lt;b.length?a:b}};}).call(this);function su(id) {var a = document.getElementById(id);var b = (new Date()).getTime();if (a &amp;&amp; a.myt &amp;&amp; b) {var t = b - a.myt;if (window.css) {css(id,'clkt',t);return;}var bi = a.href.indexOf(&quot;&amp;clkt=&quot;);if (bi &gt; 0) {var c = a.href.substring(0, bi+6); var d = a.href.substring(bi+6, a.href.length);var ei = d.indexOf(&quot;&amp;&quot;);var r = '';if (ei &gt;= 0)r = d.substring(ei, d.length);a.href = c + t + r; } else {a.href += &quot;&amp;clkt=&quot; + t;}}}(function(){var f=this;var k=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},l=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var n;a:{var p=f.navigator;if(p){var q=p.userAgent;if(q){n=q;break a}}n=&quot;&quot;}var r=function(a){return-1!=n.indexOf(a)};var u=function(a,b){var c=t;Object.prototype.hasOwnProperty.call(c,a)||(c[a]=b(a))};var v=r(&quot;Opera&quot;),w=r(&quot;Trident&quot;)||r(&quot;MSIE&quot;),x=r(&quot;Edge&quot;),y=r(&quot;Gecko&quot;)&amp;&amp;!(-1!=n.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!r(&quot;Edge&quot;))&amp;&amp;!(r(&quot;Trident&quot;)||r(&quot;MSIE&quot;))&amp;&amp;!r(&quot;Edge&quot;),z=-1!=n.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!r(&quot;Edge&quot;),A=function(){var a=f.document;return a?a.documentMode:void 0},B;a:{var C=&quot;&quot;,D=function(){var a=n;if(y)return/rv\:([^\);]+)(\)|;)/.exec(a);if(x)return/Edge\/([\d\.]+)/.exec(a);if(w)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(z)return/WebKit\/(\S+)/.exec(a);if(v)return/(?:Version)[ \/]?(\S+)/.exec(a)}();D&amp;&amp;(C=D?D[1]:&quot;&quot;);if(w){var E=A();if(null!=E&amp;&amp;E&gt;parseFloat(C)){B=String(E);break a}}B=C}var F=B,t={},G=function(a){u(a,function(){for(var b=0,c=k(String(F)).split(&quot;.&quot;),d=k(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),m=0;0==b&amp;&amp;m&lt;e;m++){var g=c[m]||&quot;&quot;,h=d[m]||&quot;&quot;;do{g=/(\d*)(\D*)(.*)/.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];h=/(\d*)(\D*)(.*)/.exec(h)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==g[0].length&amp;&amp;0==h[0].length)break;b=l(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||l(0==g[2].length,0==h[2].length)||l(g[2],h[2]);g=g[3];h=h[3]}while(0==b)}return 0&lt;=b})},H=f.document,I=H&amp;&amp;w?A()||(&quot;CSS1Compat&quot;==H.compatMode?parseInt(F,10):5):void 0;var J;if(!(J=!y&amp;&amp;!w)){var K;if(K=w)K=9&lt;=Number(I);J=K}J||y&amp;&amp;G(&quot;1.9.1&quot;);w&amp;&amp;G(&quot;9&quot;);var L=function(a,b,c,d){if(window.css)css(b,c,d,void 0,void 0);else if(a){b=a.href;var e=&quot;&amp;&quot;+c+&quot;=&quot;;c=b.indexOf(e);0&gt;c?d=b+e+d:(c+=e.length,e=b.indexOf(&quot;&amp;&quot;,c),d=0&lt;=e?b.substring(0,c)+d+b.substring(e):b.substring(0,c)+d);a.href=2E3&lt;d.length?b:d}};var M=null,N=function(a){M=a};document.addEventListener&amp;&amp;document.addEventListener(&quot;mousedown&quot;,N,!0);window.xy=function(a,b,c){c=c||b;if((a=a||M)&amp;&amp;b&amp;&amp;c){var d=Math.round(a.clientY-c.offsetTop),e=b.id;L(b,e,&quot;nx&quot;,Math.round(a.clientX-c.offsetLeft));L(b,e,&quot;ny&quot;,d)}};}).call(this);(function(){var d=this;var h=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},k=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var n;a:{var p=d.navigator;if(p){var q=p.userAgent;if(q){n=q;break a}}n=&quot;&quot;}var r=function(a){return-1!=n.indexOf(a)};var u=function(a,b){var c=t;Object.prototype.hasOwnProperty.call(c,a)||(c[a]=b(a))};var v=r(&quot;Opera&quot;),w=r(&quot;Trident&quot;)||r(&quot;MSIE&quot;),x=r(&quot;Edge&quot;),y=r(&quot;Gecko&quot;)&amp;&amp;!(-1!=n.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!r(&quot;Edge&quot;))&amp;&amp;!(r(&quot;Trident&quot;)||r(&quot;MSIE&quot;))&amp;&amp;!r(&quot;Edge&quot;),z=-1!=n.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!r(&quot;Edge&quot;),A=function(){var a=d.document;return a?a.documentMode:void 0},B;a:{var C=&quot;&quot;,D=function(){var a=n;if(y)return/rv\:([^\);]+)(\)|;)/.exec(a);if(x)return/Edge\/([\d\.]+)/.exec(a);if(w)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(z)return/WebKit\/(\S+)/.exec(a);if(v)return/(?:Version)[ \/]?(\S+)/.exec(a)}();D&amp;&amp;(C=D?D[1]:&quot;&quot;);if(w){var E=A();if(null!=E&amp;&amp;E&gt;parseFloat(C)){B=String(E);break a}}B=C}var F=B,t={},G=function(a){u(a,function(){for(var b=0,c=h(String(F)).split(&quot;.&quot;),e=h(String(a)).split(&quot;.&quot;),l=Math.max(c.length,e.length),m=0;0==b&amp;&amp;m&lt;l;m++){var f=c[m]||&quot;&quot;,g=e[m]||&quot;&quot;;do{f=/(\d*)(\D*)(.*)/.exec(f)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];g=/(\d*)(\D*)(.*)/.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==f[0].length&amp;&amp;0==g[0].length)break;b=k(0==f[1].length?0:parseInt(f[1],10),0==g[1].length?0:parseInt(g[1],10))||k(0==f[2].length,0==g[2].length)||k(f[2],g[2]);f=f[3];g=g[3]}while(0==b)}return 0&lt;=b})},H=d.document,I=H&amp;&amp;w?A()||(&quot;CSS1Compat&quot;==H.compatMode?parseInt(F,10):5):void 0;var J;if(!(J=!y&amp;&amp;!w)){var K;if(K=w)K=9&lt;=Number(I);J=K}J||y&amp;&amp;G(&quot;1.9.1&quot;);w&amp;&amp;G(&quot;9&quot;);var L=[0,2,1],M=null;document.addEventListener&amp;&amp;document.addEventListener(&quot;mousedown&quot;,function(a){M=a},!0);window.mb=function(a){if(a){var b;if(b=window.event||M){var c;(c=b.which?1&lt;&lt;L[b.which-1]:b.button)&amp;&amp;b.shiftKey&amp;&amp;(c|=8);c&amp;&amp;b.altKey&amp;&amp;(c|=16);c&amp;&amp;b.ctrlKey&amp;&amp;(c|=32);b=c}else b=null;if(b)if(c=b,window.css)css(a.id,&quot;mb&quot;,c,void 0,void 0);else if(a){b=a.href;var e=b.indexOf(&quot;&amp;mb=&quot;);if(0&gt;e)c=b+&quot;&amp;mb=&quot;+c;else{var e=e+4,l=b.indexOf(&quot;&amp;&quot;,e);c=0&lt;=l?b.substring(0,e)+c+b.substring(l):b.substring(0,e)+c}a.href=2E3&lt;c.length?b:c}}};}).call(this);(function(){var b=this;var h=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},l=function(a,c){return a&lt;c?-1:a&gt;c?1:0};var m;a:{var n=b.navigator;if(n){var p=n.userAgent;if(p){m=p;break a}}m=&quot;&quot;};var r=function(a,c){var f=q;Object.prototype.hasOwnProperty.call(f,a)||(f[a]=c(a))};var t=-1!=m.indexOf(&quot;Opera&quot;),u=-1!=m.indexOf(&quot;Trident&quot;)||-1!=m.indexOf(&quot;MSIE&quot;),v=-1!=m.indexOf(&quot;Edge&quot;),w=-1!=m.indexOf(&quot;Gecko&quot;)&amp;&amp;!(-1!=m.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;-1==m.indexOf(&quot;Edge&quot;))&amp;&amp;!(-1!=m.indexOf(&quot;Trident&quot;)||-1!=m.indexOf(&quot;MSIE&quot;))&amp;&amp;-1==m.indexOf(&quot;Edge&quot;),x=-1!=m.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;-1==m.indexOf(&quot;Edge&quot;),y=function(){var a=b.document;return a?a.documentMode:void 0},z;a:{var A=&quot;&quot;,B=function(){var a=m;if(w)return/rv\:([^\);]+)(\)|;)/.exec(a);if(v)return/Edge\/([\d\.]+)/.exec(a);if(u)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(x)return/WebKit\/(\S+)/.exec(a);if(t)return/(?:Version)[ \/]?(\S+)/.exec(a)}();B&amp;&amp;(A=B?B[1]:&quot;&quot;);if(u){var C=y();if(null!=C&amp;&amp;C&gt;parseFloat(A)){z=String(C);break a}}z=A}var D=z,q={},E=function(a){r(a,function(){for(var c=0,f=h(String(D)).split(&quot;.&quot;),g=h(String(a)).split(&quot;.&quot;),M=Math.max(f.length,g.length),k=0;0==c&amp;&amp;k&lt;M;k++){var d=f[k]||&quot;&quot;,e=g[k]||&quot;&quot;;do{d=/(\d*)(\D*)(.*)/.exec(d)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];e=/(\d*)(\D*)(.*)/.exec(e)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==d[0].length&amp;&amp;0==e[0].length)break;c=l(0==d[1].length?0:parseInt(d[1],10),0==e[1].length?0:parseInt(e[1],10))||l(0==d[2].length,0==e[2].length)||l(d[2],e[2]);d=d[3];e=e[3]}while(0==c)}return 0&lt;=c})},F=b.document,G=F&amp;&amp;u?y()||(&quot;CSS1Compat&quot;==F.compatMode?parseInt(D,10):5):void 0;var H;if(!(H=!w&amp;&amp;!u)){var I;if(I=u)I=9&lt;=Number(G);H=I}H||w&amp;&amp;E(&quot;1.9.1&quot;);u&amp;&amp;E(&quot;9&quot;);var J=function(a,c,f){var g=document;g.addEventListener?g.addEventListener(a,c,f||!1):g.attachEvent&amp;&amp;g.attachEvent(&quot;on&quot;+a,c)};var K,L=!1,N=!1;J(&quot;mousedown&quot;,function(){L=!0});J(&quot;keydown&quot;,function(){N=!0});document.addEventListener&amp;&amp;J(&quot;click&quot;,function(a){K=a},!0);window.accbk=function(){var a=K?K:window.event;return a?L||N?!1:(a.preventDefault?a.preventDefault():a.returnValue=!1,!0):!1};}).call(this);function st(id) {var a = document.getElementById(id);if (a) {a.myt = (new Date()).getTime();xy(window.event, a, document.body);mb(a);}}function ha(a,x){  if (accbk()) return;su(a);}function ia(a,e,x) {if (accbk()) return;su(a);}function ja(a,x) {if (accbk()) return;su(a);}function ga(o,e,x) {if (document.getElementById) {var a=o.id.substring(1),p=&quot;&quot;,r=&quot;&quot;,g=e.target,t,f,h;if (g) {t=g.id;f=g.parentNode;if (f) {p=f.id;h=f.parentNode;if (h)r=h.id;}} else {h=e.srcElement;f=h.parentNode;if (f)p=f.id;t=h.id;}if (t==a||p==a||r==a)return true;ia(a,e,x);top.location.href=document.getElementById(a).href;}}
(function(){if(window.jstiming){window.jstiming.a={};window.jstiming.b=1;var f=function(b,a,c){var d=b.t[a],e=b.t.start;if(d&amp;&amp;(e||c))return d=b.t[a][0],void 0!=c?e=c:e=e[0],Math.round(d-e)},l=function(b,a,c){var d=&quot;&quot;;window.jstiming.srt&amp;&amp;(d+=&quot;&amp;srt=&quot;+window.jstiming.srt,delete window.jstiming.srt);var e=document.getElementById(&quot;csi&quot;);if(e){var g;void 0!=window.jstiming._bfr?g=window.jstiming._bfr:(g=e.value,window.jstiming._bfr=g,e.value=1);if(g)return&quot;&quot;}var k=b.t,r=k.start,e=[];g=[];for(var h in k)if(&quot;start&quot;!=h&amp;&amp;0!=h.indexOf(&quot;_&quot;)){var n=k[h][1];n?k[n]&amp;&amp;g.push(h+&quot;.&quot;+f(b,h,k[n][0])):r&amp;&amp;e.push(h+&quot;.&quot;+f(b,h))}delete k.start;if(a)for(var p in a)d+=&quot;&amp;&quot;+p+&quot;=&quot;+a[p];(a=c)||(a=&quot;https://csi.gstatic.com/csi&quot;);return[a,&quot;?v=3&quot;,&quot;&amp;s=&quot;+(window.jstiming.sn||&quot;pagead&quot;)+&quot;&amp;action=&quot;,b.name,g.length?&quot;&amp;it=&quot;+g.join(&quot;,&quot;):&quot;&quot;,d,&quot;&amp;rt=&quot;,e.join(&quot;,&quot;)].join(&quot;&quot;)},m=function(b,a,c){b=l(b,a,c);if(!b)return&quot;&quot;;a=new Image;var d=window.jstiming.b++;window.jstiming.a[d]=a;a.onload=a.onerror=function(){window.jstiming&amp;&amp;delete window.jstiming.a[d]};a.src=b;a=null;return b};window.jstiming.report=function(b,a,c){return m(b,a,c)}};var q=window.jstiming.load,t=function(b,a){var c=parseInt(b,10);return 0&lt;=c?a+c:0},u=function(b,a){var c=a||{};c.id=&quot;csi_pagead&quot;;c.gqid=&quot;exbEV52XOtWaoAP54IfgCg&quot;;c.qqid=&quot;CO6T1IC95s4CFVGJaAodW2cEBQ&quot;;window.jstiming.report(b,c)};window.rptcsi=function(b){q.tick(&quot;ol&quot;);var a=parseInt(&quot;1472468603738&quot;,10),c=f(q,&quot;start&quot;,0);if(!(!a||0&gt;=a||a&gt;c)){q.tick(&quot;_t0&quot;,null,a);var d=t(&quot;-1&quot;,a);d&amp;&amp;q.tick(&quot;bdt&quot;,&quot;_t0&quot;,d);(d=t(&quot;-1&quot;,a))&amp;&amp;q.tick(&quot;req&quot;,&quot;_t0&quot;,d);var e=t(&quot;-1&quot;,a);(e||d)&amp;&amp;q.tick(&quot;bpp&quot;,&quot;_t0&quot;,e||d);(a=t(&quot;&quot;,a))&amp;&amp;q.tick(&quot;redir&quot;,&quot;_t0&quot;,a);q.tick(&quot;fb&quot;,&quot;_t0&quot;,c);q.tick(&quot;e2e&quot;,&quot;_t0&quot;,f(q,&quot;ol&quot;,0))}q.name=b||&quot;&quot;;u(q,{e:&quot;410075000&quot;})};window.rptcsiqid=u;window.tick=function(b,a){q.t[b]||q.tick(b,a)};}).call(this);
//--&gt;
&lt;/script&gt;&lt;/head&gt;&lt;body leftMargin=&quot;0&quot; topMargin=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; style=&quot;background:transparent&quot; onload=&quot;rptcsi('loadimgad')&quot;&gt;&lt;div id=&quot;google_image_div&quot; style=&quot;height: 600px; width: 160px; overflow:hidden; position:absolute&quot;&gt;&lt;input type=&quot;hidden&quot; id=&quot;csi&quot;/&gt;&lt;a id=&quot;aw0&quot; target=&quot;_top&quot; href=&quot;https://googleads.g.doubleclick.net/aclk?sa=L&amp;ai=C3NaqexbEV67qOtGSogPbzpEoov6TwUbi5Lb3vQPAgu2WwQUQASCtgsEoYOXK5YO0DsgBAuACAKgDAcgDmQSqBL4BT9CTVZ1MvEq0wN12tlmg4vtDLwuwpidOIzEIJQTf9YcPY-FY8S_Kn6XBDNJCmsDa_XEMyKfI5DmT2qsM-ne5JK8QuwfQV9ZncpnYO1pN0Ck-I91vMDjiDP4wL_iKEiYk37f792r87mJhQgsb2eaefGezzccQ10xU_zGWMW9cIiWmS_dlyBoSwjvax1VGVxflU38WrgONs2Bxobmp_iN5f3nqvIY_4f30PfBgp2Xjy9XylnB9afxcp2NdItXNpOAEAaAGAoAH9oDLW6gHgcYbqAemvhvYBwHYEwo&amp;num=1&amp;sig=AOD64_2ERWVnAMTNMjFLbRx6aX6RNBIOtw&amp;client=ca-pub-8472437385854639&amp;adurl=https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/content/fact-skill-1%3Fsc_channel%3DGDN%26sc_campaign%3Dnew-tut%26sc_detail%3Dfact-tut%26sc_segment%3Ddevs%26sc_publisher%3Dadwords%26sc_country%3DWW%26sc_medium%3DGDN_new-tut_fact-tut_DN0007_devs_adwords_WW%26sc_trackingcode%3DDN0007&quot;&gt;&lt;img src=&quot;https://tpc.googlesyndication.com/simgad/12387469923306361678&quot; border=&quot;0&quot; width=&quot;160&quot; alt=&quot;&quot; class=&quot;img_ad&quot; onload=&quot;tick('1ad');&quot; /&gt;&lt;/a&gt;&lt;style&gt;div,ul,li{margin:0;padding:0;}.abgc{height:15px;overflow:hidden;position:absolute;right:16px;top:0px;text-rendering:geometricPrecision;width:15px;z-index:9020;}.abgb{height:15px;width:15px;}.abgc{cursor:pointer;}.cbb{background-image: url('https://tpc.googlesyndication.com/pagead/images/x_button_blue2.svg');background-repeat: no-repeat;background-position: top right;cursor:pointer;height:15px;width:16px;z-index:9020;}.cbb:hover{background-image: url('https://tpc.googlesyndication.com/pagead/images/x_button_dark.svg');cursor:pointer;}.abgb{position:absolute;right:0px;top:0px;}.cbb{position:absolute;right:0;top:0;}.abgc img{display:block;}.abgc svg{display:block;}.abgs{display:none;height:100%;}.abgl{text-decoration:none;}.abgi{fill-opacity:1.0;fill:#00aecd;stroke:none;}.abgbg{fill-opacity:1.0;fill:#cdcccc;stroke:none;}.abgtxt{fill:black;font-family:'Arial';font-size:100px;overflow:visible;stroke:none;}&lt;/style&gt;&lt;div id=abgc class=abgc dir='ltr'&gt;&lt;div id=abgb class=&quot;abgb&quot;&gt;&lt;/div&gt;&lt;div id=abgs class=abgs&gt;&lt;a id=abgl class=abgl href=&quot;https://www.google.com/url?ct=abg&amp;amp;q=https://www.google.com/adsense/support/bin/request.py%3Fcontact%3Dabg_afc%26url%3Dhttp://www.codeproject.com/Articles/814814/Android-Connectivity%26gl%3DIN%26hl%3Den%26client%3Dca-pub-8472437385854639%26ai0%3DC3NaqexbEV67qOtGSogPbzpEoov6TwUbi5Lb3vQPAgu2WwQUQASCtgsEoYOXK5YO0DsgBAuACAKgDAcgDmQSqBL4BT9CTVZ1MvEq0wN12tlmg4vtDLwuwpidOIzEIJQTf9YcPY-FY8S_Kn6XBDNJCmsDa_XEMyKfI5DmT2qsM-ne5JK8QuwfQV9ZncpnYO1pN0Ck-I91vMDjiDP4wL_iKEiYk37f792r87mJhQgsb2eaefGezzccQ10xU_zGWMW9cIiWmS_dlyBoSwjvax1VGVxflU38WrgONs2Bxobmp_iN5f3nqvIY_4f30PfBgp2Xjy9XylnB9afxcp2NdItXNpOAEAaAGAoAH9oDLW6gHgcYbqAemvhvYBwHYEwo&amp;amp;usg=AFQjCNHV8sPyCuNzz0Hecau8dXDzv9kHZw&quot; target=_blank&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;cbb&quot; class=&quot;cbb&quot;&gt;&lt;/div&gt;&lt;div id=&quot;mute_panel&quot;&gt;&lt;/div&gt;&lt;script&gt;var abgp={elp:document.getElementById('abgcp'),el:document.getElementById('abgc'),ael:document.getElementById('abgs'),iel:document.getElementById('abgb'),hw:15,sw:96,hh:15,sh:15,himg:'https://tpc.googlesyndication.com'+'/pagead/images/abg/icon.png',simg:'https://tpc.googlesyndication.com/pagead/images/abg/en.png',alt:'Ads by Google',t:'Ads by',tw:34,t2:'Google',t2w:38,tbo:0,att:'adsbygoogle',ff:'',halign:'right',fe:false,iba:false,lttp:true,umd:false,uic:true,uit:true,ict:document.getElementById('cbb'),icd:{&quot;creatives&quot;:[],&quot;height&quot;:600,&quot;width&quot;:160,&quot;attribution&quot;:{&quot;user_feedback_data&quot;:{&quot;ad_feedback_text&quot;:&quot;Stop seeing this ad&quot;,&quot;mute_icon_url&quot;:&quot;https://googleads.g.doubleclick.net/pagead/images/mtad/x_blue.png&quot;,&quot;pub_feedback_text&quot;:&quot;Ad covers the page&quot;,&quot;pub_feedback_icon_url&quot;:&quot;https://googleads.g.doubleclick.net/pagead/images/mtad/x_blue.png&quot;,&quot;conversion_url&quot;:&quot;https://googleads.g.doubleclick.net/pagead/conversion/?ai=C3NaqexbEV67qOtGSogPbzpEoov6TwUbi5Lb3vQPAgu2WwQUQASCtgsEoYOXK5YO0DsgBAuACAKgDAcgDmQSqBL4BT9CTVZ1MvEq0wN12tlmg4vtDLwuwpidOIzEIJQTf9YcPY-FY8S_Kn6XBDNJCmsDa_XEMyKfI5DmT2qsM-ne5JK8QuwfQV9ZncpnYO1pN0Ck-I91vMDjiDP4wL_iKEiYk37f792r87mJhQgsb2eaefGezzccQ10xU_zGWMW9cIiWmS_dlyBoSwjvax1VGVxflU38WrgONs2Bxobmp_iN5f3nqvIY_4f30PfBgp2Xjy9XylnB9afxcp2NdItXNpOAEAaAGAoAH9oDLW6gHgcYbqAemvhvYBwHYEwo\u0026sigh=F4XBhPbAlBQ&quot;,&quot;close_button_token&quot;:&quot;uwMq7ia0wmAI4uS2970DEMCS3ZwCGLeX6VsiFGRldmVsb3Blci5hbWF6b24uY29tMgcIBRMYyi4UQhdjYS1wdWItODQ3MjQzNzM4NTg1NDYzOUgPWAJwAQ&quot;,&quot;interaction_conversion&quot;:{&quot;label&quot;:&quot;user_feedback_menu_interaction&quot;,&quot;label_instance&quot;:&quot;&quot;,&quot;include_close_button_token&quot;:false},&quot;mute_conversion&quot;:{&quot;label&quot;:&quot;user_feedback_menu_option&quot;,&quot;label_instance&quot;:&quot;1&quot;,&quot;include_close_button_token&quot;:true},&quot;mute_undo_conversion&quot;:{&quot;label&quot;:&quot;user_feedback_undo&quot;,&quot;label_instance&quot;:&quot;1&quot;,&quot;include_close_button_token&quot;:true},&quot;pub_feedback_conversion&quot;:{&quot;label&quot;:&quot;user_feedback_menu_option&quot;,&quot;label_instance&quot;:&quot;3&quot;,&quot;include_close_button_token&quot;:true},&quot;pub_feedback_undo_conversion&quot;:{&quot;label&quot;:&quot;user_feedback_undo&quot;,&quot;label_instance&quot;:&quot;3&quot;,&quot;include_close_button_token&quot;:true},&quot;survey_header&quot;:&quot;What was wrong with this ad?&quot;,&quot;survey_options&quot;:[{&quot;text&quot;:&quot;Irrelevant&quot;,&quot;conversion&quot;:{&quot;label&quot;:&quot;mute_survey_option&quot;,&quot;label_instance&quot;:&quot;7&quot;,&quot;include_close_button_token&quot;:true}},{&quot;text&quot;:&quot;Inappropriate&quot;,&quot;conversion&quot;:{&quot;label&quot;:&quot;mute_survey_option&quot;,&quot;label_instance&quot;:&quot;8&quot;,&quot;include_close_button_token&quot;:true}},{&quot;text&quot;:&quot;Repetitive&quot;,&quot;conversion&quot;:{&quot;label&quot;:&quot;mute_survey_option&quot;,&quot;label_instance&quot;:&quot;2&quot;,&quot;include_close_button_token&quot;:true}}],&quot;back_icon_url&quot;:&quot;https://googleads.g.doubleclick.net/pagead/images/mtad/back_blue.png&quot;,&quot;mute_confirmation_header&quot;:&quot;Thanks for the feedback!&quot;,&quot;mute_confirmation_text&quot;:&quot;We’ll review this ad to improve your experience in the future.&quot;,&quot;pub_feedback_confirmation_header&quot;:&quot;Thanks for the feedback!&quot;,&quot;pub_feedback_confirmation_text&quot;:&quot;We’ll use your feedback to review ads on this site.&quot;,&quot;undo_text&quot;:&quot;Undo&quot;,&quot;closing_countdown_text&quot;:&quot;Closing ad: %1$d&quot;,&quot;attribution_text&quot;:&quot;Ads by Google&quot;,&quot;attribution_icon_url&quot;:&quot;https://googleads.g.doubleclick.net/pagead/images/mtad/abg_blue.png&quot;,&quot;attribution_destination_url&quot;:&quot;https://www.google.com/url?ct=abg\u0026q=https://www.google.com/adsense/support/bin/request.py%3Fcontact%3Dabg_afc%26url%3Dhttp://www.codeproject.com/Articles/814814/Android-Connectivity%26gl%3DIN%26hl%3Den%26client%3Dca-pub-8472437385854639%26ai0%3DC3NaqexbEV67qOtGSogPbzpEoov6TwUbi5Lb3vQPAgu2WwQUQASCtgsEoYOXK5YO0DsgBAuACAKgDAcgDmQSqBL4BT9CTVZ1MvEq0wN12tlmg4vtDLwuwpidOIzEIJQTf9YcPY-FY8S_Kn6XBDNJCmsDa_XEMyKfI5DmT2qsM-ne5JK8QuwfQV9ZncpnYO1pN0Ck-I91vMDjiDP4wL_iKEiYk37f792r87mJhQgsb2eaefGezzccQ10xU_zGWMW9cIiWmS_dlyBoSwjvax1VGVxflU38WrgONs2Bxobmp_iN5f3nqvIY_4f30PfBgp2Xjy9XylnB9afxcp2NdItXNpOAEAaAGAoAH9oDLW6gHgcYbqAemvhvYBwHYEwo\u0026usg=AFQjCNHV8sPyCuNzz0Hecau8dXDzv9kHZw&quot;,&quot;ad_feedback_icon_url&quot;:&quot;https://googleads.g.doubleclick.net/pagead/images/mtad/x_blue.png&quot;,&quot;is_rtl_language&quot;:false,&quot;feedback_options&quot;:[{&quot;text&quot;:&quot;Stop seeing this ad&quot;,&quot;conversion&quot;:{&quot;label&quot;:&quot;user_feedback_menu_option&quot;,&quot;label_instance&quot;:&quot;1&quot;,&quot;include_close_button_token&quot;:true},&quot;survey&quot;:{&quot;header&quot;:&quot;What was wrong with this ad?&quot;,&quot;options&quot;:[{&quot;text&quot;:&quot;Ad covers the page&quot;,&quot;conversion&quot;:{&quot;label&quot;:&quot;mute_survey_option&quot;,&quot;label_instance&quot;:&quot;3&quot;,&quot;include_close_button_token&quot;:true}},{&quot;text&quot;:&quot;Seen this multiple times&quot;,&quot;conversion&quot;:{&quot;label&quot;:&quot;mute_survey_option&quot;,&quot;label_instance&quot;:&quot;2&quot;,&quot;include_close_button_token&quot;:true}},{&quot;text&quot;:&quot;Not interested in this&quot;,&quot;conversion&quot;:{&quot;label&quot;:&quot;mute_survey_option&quot;,&quot;label_instance&quot;:&quot;7&quot;,&quot;include_close_button_token&quot;:true}},{&quot;text&quot;:&quot;Inappropriate content&quot;,&quot;conversion&quot;:{&quot;label&quot;:&quot;mute_survey_option&quot;,&quot;label_instance&quot;:&quot;8&quot;,&quot;include_close_button_token&quot;:true}}]},&quot;undo_conversion&quot;:{&quot;label&quot;:&quot;user_feedback_undo&quot;,&quot;label_instance&quot;:&quot;1&quot;,&quot;include_close_button_token&quot;:true}}],&quot;mute_panel_data&quot;:{&quot;adchoices_icon_url&quot;:&quot;https://googleads.g.doubleclick.net/pagead/images/adchoices/iconx2-000000.png&quot;,&quot;adchoices_button_text&quot;:&quot;AdChoices&quot;,&quot;closed_message_text&quot;:&quot;Ad closed by %1$s&quot;,&quot;enable_lightbox&quot;:false,&quot;google_logo_url&quot;:&quot;https://www.gstatic.com/images/branding/googlelogo/2x/googlelogo_dark_color_84x28dp.png&quot;,&quot;report_ad_button_text&quot;:&quot;Stop seeing this ad&quot;,&quot;confirmation_text&quot;:&quot;We'll try not to show that ad again&quot;,&quot;settings_button_first&quot;:false,&quot;ads_by_google_icon_url&quot;:&quot;https://googleads.g.doubleclick.net/pagead/images/abg/iconx2-000000.png&quot;,&quot;ads_by_google_button_text&quot;:&quot;Ads by Google&quot;,&quot;protocol_gstatic_host&quot;:&quot;https://www.gstatic.com&quot;}}},&quot;flags&quot;:[{&quot;name&quot;:&quot;show_feedback_survey_button&quot;,&quot;value&quot;:&quot;true&quot;},{&quot;name&quot;:&quot;enable_jake_why_this_ad&quot;,&quot;value&quot;:&quot;true&quot;}]},uaal:true,opi: false};&lt;/script&gt;&lt;script src=&quot;https://tpc.googlesyndication.com/pagead/js/r20160823/r20110914/abg.js&quot;&gt;&lt;/script&gt;&lt;iframe frameborder=0 height=0 width=0 src=&quot;https://googleads.g.doubleclick.net/pagead/drt/s?v=r20120211&quot; style=&quot;position:absolute&quot;&gt;&lt;/iframe&gt;&lt;iframe style=&quot;display:none&quot; src=&quot;https://p4-gyv2w3qblgjkq-7pcksxetgt3bisq6-if-v6exp3-v4.metric.gstatic.com/v6exp3/redir.html&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;script src=&quot;https://tpc.googlesyndication.com/pagead/js/r20160823/r20110914/client/ext/m_js_controller.js&quot;&gt;&lt;/script&gt;&lt;script&gt;buildAdSlot([[[1,0,160,600,&quot;https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/content/fact-skill-1?sc_channel=GDN\u0026sc_campaign=new-tut\u0026sc_detail=fact-tut\u0026sc_segment=devs\u0026sc_publisher=adwords\u0026sc_country=WW\u0026sc_medium=GDN_new-tut_fact-tut_DN0007_devs_adwords_WW\u0026sc_trackingcode=DN0007&quot;,&quot;https://googleads.g.doubleclick.net/pagead/conversion/?ai=C3NaqexbEV67qOtGSogPbzpEoov6TwUbi5Lb3vQPAgu2WwQUQASCtgsEoYOXK5YO0DsgBAuACAKgDAcgDmQSqBL4BT9CTVZ1MvEq0wN12tlmg4vtDLwuwpidOIzEIJQTf9YcPY-FY8S_Kn6XBDNJCmsDa_XEMyKfI5DmT2qsM-ne5JK8QuwfQV9ZncpnYO1pN0Ck-I91vMDjiDP4wL_iKEiYk37f792r87mJhQgsb2eaefGezzccQ10xU_zGWMW9cIiWmS_dlyBoSwjvax1VGVxflU38WrgONs2Bxobmp_iN5f3nqvIY_4f30PfBgp2Xjy9XylnB9afxcp2NdItXNpOAEAaAGAoAH9oDLW6gHgcYbqAemvhvYBwHYEwo\u0026sigh=F4XBhPbAlBQ&quot;]],160,600,0,0,null,&quot;CO6T1IC95s4CFVGJaAodW2cEBQ&quot;,&quot;exbEV52XOtWaoAP54IfgCg&quot;,null,&quot;ca-pub-8472437385854639&quot;,160,600,0,&quot;_top&quot;,null,null,0,&quot;https://tpc.googlesyndication.com&quot;,null,0,0,-2062131274,null,null,null,[0.0001,1000,10,0,[0,0,0],1,0,&quot;&quot;,-1,-1,300,0],null,[1,1,1,1,0],null,null,null,null,null,1]);&lt;/script&gt;&lt;script&gt;(function(_){_.Gc.prototype.getType=_.p(48,function(){var a=this.g[0];return null!=a?a:0});var Lj=function(a){a=a.g[9];return null!=a?a:-1},Mj=function(a){a=a.g[8];return null!=a?a:-1},Nj=function(a){this.g=a||[]},Oj=function(a){this.g=a||[]},Qj=function(a,b){if(window.osdlamrc){window.osdlamrc((0,_.A)(this.fz,this));Pj(!0);var c=a.g,d=b.getAdData(),e=new Oj(c.g[25]),f=new Nj(e.g[4]);this.A=a;this.Yc=b;this.Qh=0;var g=e.g[0];this.jx=_.sb(null!=g?g:0,0,1);this.Yt=0&lt;=Mj(e)?Mj(e):null;this.mx=0&lt;=Lj(e)?Lj(e):null;this.Ij=0;g=e.g[1];this.Ud=null!=g?g:0;this.tb=this.Vg=this.Gr=this.Fe=this.Ff=0;g=e.g[2];this.ew=null!=g?g:0;g=e.g[3];this.zw=null!=g?!!g:!1;g=e.g[6];this.yw=null!=g?g:0;g=e.g[7];this.yC=null!=g?g:&quot;&quot;;g=e.g[10];this.XE=null!=g?g:0;this.Vp=0;var g=f.g[0],k=f.g[1],f=f.g[2];this.rg={enabled:null!=g?!!g:!1,Sv:null!=k?k:0,bias:null!=f?f:0};f=e.g[5];this.CC=null!=f?f:0;this.fv=0;e=e.g[11];this.Rz=null!=e?!!e:!1;this.g={time:-1,container:&quot;&quot;,title:&quot;&quot;,button:&quot;&quot;,containerh:&quot;&quot;,titleh:&quot;&quot;,buttonh:&quot;&quot;,width:b.getWidth(),height:b.getHeight(),swidth:c.getWidth(),sheight:c.getHeight(),adpiece:0,scroll:-1,type:d.getType(),gqid:c.getEscapedGwsQueryId(),qqid:c.getEscapedQemQueryId(),osd:&quot;&quot;,losdt:this.tb,delay:this.Ud,vthreshold:this.jx,sthreshold:this.ew,sofss:this.zw,ihve:this.rg.enabled,ihvr:this.rg.Sv,ihvb:this.rg.bias};c=this.Yc.navigationAdPieces();for(d=0;d&lt;c.length;++d)this.Yc.listen(c[d],&quot;click&quot;,(0,_.A)(this.nz,this))}else Pj(!1)},Rj={AG:&quot;cx&quot;,BG:&quot;cy&quot;,EJ:&quot;sc&quot;,GI:&quot;osdte&quot;};Qj.prototype.nz=function(a,b,c){_.Pd(Rj,(0,_.A)(function(a){this.g[a]=void 0},this));var d=(0,_.C)();0&lt;this.Qh&amp;&amp;(this.g.time=d-this.Qh);this.g.adpiece=a;this.g.cx=c.pageX;this.g.cy=c.pageY;0&lt;this.tb&amp;&amp;(this.g.osdte=d-this.tb);a=Sj(this);0!=a&amp;&amp;(Tj(this,b,c),++this.fv,this.g.sc=a);this.Mc()};var Tj=function(a,b,c){var d=a.yC;d?b.registerClickUrlModifier(function(){return[[&quot;fclkspp&quot;,d]]}):_.Td(c)};Qj.prototype.fz=function(a){if(a&amp;&amp;!a[11]&amp;&amp;_.y(a[21])&amp;&amp;_.y(a[20])&amp;&amp;_.y(a[22])&amp;&amp;_.y(a[23])){this.g.osd=&quot;&quot;;var b=(0,_.C)();if(0===this.tb||3E3&lt;b-this.tb)this.Vp=0;++this.Vp;var c=this.Ff,d=this.Fe;this.Ff=Number(a[21]);this.Fe=Number(a[20]);this.Gr=Number(a[22]);this.Vg=Number(a[23]);a=this.Yc;if(a.has(0)){a=a.getBoundingClientRect(0);var e=_.sb(a.top+this.Fe,0,this.Vg),f=_.sb(a.bottom+this.Fe,0,this.Vg),g=_.sb(a.left+this.Ff,0,this.Gr),k=_.sb(a.right+this.Ff,0,this.Gr);this.g.container=(f-e)*(k-g)/((a.bottom-a.top)*(a.right-a.left));this.g.containerh=f-e;this.g.containerw=k-g}else this.g.container=&quot;&quot;,this.g.containerh=&quot;&quot;,this.g.containerw=&quot;&quot;;0!=this.Qh||!(this.g.container&gt;=this.jx||null!==this.Yt&amp;&amp;this.g.containerh&gt;=this.Yt||null!==this.mx&amp;&amp;this.g.containerw&gt;=this.mx)||this.rg.enabled&amp;&amp;1===this.g.type&amp;&amp;(!_.y(this.g.containerh)||this.g.containerh&lt;this.rg.Sv*this.g.height+this.rg.bias)||(this.Qh=(0,_.C)(),this.Ij=Math.max(this.Qh+this.Ud,this.Ij));this.g.scroll=1&lt;this.Vp&amp;&amp;300&gt;=b-this.tb?Math.max(Math.abs(c-this.Ff),Math.abs(d-this.Fe))/(b-this.tb):-1;this.g.vph=this.Vg;this.g.vpx=this.Ff;this.g.vpy=this.Fe;this.g.vpxd=this.Ff-c;this.g.vpyd=this.Fe-d;0&lt;this.tb&amp;&amp;(this.g.osdtd=b-this.tb);this.tb=b;this.g.losdt=this.tb}};var Sj=function(a){if(0===a.tb||a.fv&gt;=a.CC)return 0;var b=(0,_.C)()-a.tb;if(3E3&lt;b)return a.g.osd=b,0;var c=0;if(a.Vg&amp;&amp;a.yw&amp;&amp;!(0,window.isNaN)(a.g.cy)&amp;&amp;b&lt;=a.XE){var d=(a.g.cy+a.Fe)/a.Vg;d&gt;=a.yw&amp;&amp;1&gt;=d&amp;&amp;(c|=4)}0&lt;a.Ud&amp;&amp;(0==a.Ij||a.Ij&gt;(0,_.C)())&amp;&amp;(c|=1);a.zw&amp;&amp;300&gt;=b&amp;&amp;a.g.scroll&gt;a.ew&amp;&amp;(c|=2);return c};Qj.prototype.Mc=function(){this.Rz&amp;&amp;_.Zd(&quot;fclicksuppress&quot;,this.g,1)};var Pj=function(a){_.Zd(&quot;fclicksuppress&quot;,{osdload:a},.1)};_.u(&quot;init_fast_click_suppress&quot;,function(a){a.registerFinalizeCallback(function(){1===a.getAdsLength()&amp;&amp;a.forEachAd(function(b){new Qj(a,b)})})},void 0);})(window.hydra=window.hydra||{});&lt;/script&gt;&lt;script&gt;init_fast_click_suppress(adSlot);&lt;/script&gt;&lt;script&gt;(function(){var h,l=this,aa=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},m=function(a){var b=aa(a);return&quot;array&quot;==b||&quot;object&quot;==b&amp;&amp;&quot;number&quot;==typeof a.length},n=function(a){return&quot;string&quot;==typeof a},ba=function(a,b,c){return a.call.apply(a.bind,arguments)},ca=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},p=function(a,b,c){p=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?ba:ca;return p.apply(null,arguments)},q=Date.now||function(){return+new Date};var r=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},t=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var da=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(&quot;&quot;):a,f=0;f&lt;d;f++)f in e&amp;&amp;b.call(c,e[f],f,a)},ea=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},fa=function(a){var b=a.length;if(0&lt;b){for(var c=Array(b),d=0;d&lt;b;d++)c[d]=a[d];return c}return[]};var ga=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},ha=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var u;a:{var ia=l.navigator;if(ia){var ka=ia.userAgent;if(ka){u=ka;break a}}u=&quot;&quot;}var v=function(a){return-1!=u.indexOf(a)};var ma=function(a,b){var c=la;Object.prototype.hasOwnProperty.call(c,a)||(c[a]=b(a))};var na=v(&quot;Opera&quot;),w=v(&quot;Trident&quot;)||v(&quot;MSIE&quot;),oa=v(&quot;Edge&quot;),x=v(&quot;Gecko&quot;)&amp;&amp;!(-1!=u.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!v(&quot;Edge&quot;))&amp;&amp;!(v(&quot;Trident&quot;)||v(&quot;MSIE&quot;))&amp;&amp;!v(&quot;Edge&quot;),pa=-1!=u.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!v(&quot;Edge&quot;),qa=function(){var a=l.document;return a?a.documentMode:void 0},y;a:{var z=&quot;&quot;,A=function(){var a=u;if(x)return/rv\:([^\);]+)(\)|;)/.exec(a);if(oa)return/Edge\/([\d\.]+)/.exec(a);if(w)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(pa)return/WebKit\/(\S+)/.exec(a);if(na)return/(?:Version)[ \/]?(\S+)/.exec(a)}();A&amp;&amp;(z=A?A[1]:&quot;&quot;);if(w){var B=qa();if(null!=B&amp;&amp;B&gt;parseFloat(z)){y=String(B);break a}}y=z}var ra=y,la={},sa=function(a){ma(a,function(){for(var b=0,c=r(String(ra)).split(&quot;.&quot;),d=r(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),f=0;0==b&amp;&amp;f&lt;e;f++){var g=c[f]||&quot;&quot;,k=d[f]||&quot;&quot;;do{g=/(\d*)(\D*)(.*)/.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];k=/(\d*)(\D*)(.*)/.exec(k)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==g[0].length&amp;&amp;0==k[0].length)break;b=t(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||t(0==g[2].length,0==k[2].length)||t(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0&lt;=b})},ta=l.document,ua=ta&amp;&amp;w?qa()||(&quot;CSS1Compat&quot;==ta.compatMode?parseInt(ra,10):5):void 0;var C;if(!(C=!x&amp;&amp;!w)){var D;if(D=w)D=9&lt;=Number(ua);C=D}C||x&amp;&amp;sa(&quot;1.9.1&quot;);w&amp;&amp;sa(&quot;9&quot;);var va=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)};var wa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,xa=function(a,b){if(a)for(var c=a.split(&quot;&amp;&quot;),d=0;d&lt;c.length;d++){var e=c[d].indexOf(&quot;=&quot;),f,g=null;0&lt;=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?decodeURIComponent(g.replace(/\+/g,&quot; &quot;)):&quot;&quot;)}};var E=document,F=window;var ya=&quot;StopIteration&quot;in l?l.StopIteration:{message:&quot;StopIteration&quot;,stack:&quot;&quot;},G=function(){};G.prototype.next=function(){throw ya;};G.prototype.X=function(){return this};var H=function(a,b){this.o={};this.i=[];this.I=this.h=0;var c=arguments.length;if(1&lt;c){if(c%2)throw Error(&quot;Uneven number of arguments&quot;);for(var d=0;d&lt;c;d+=2)this.set(arguments[d],arguments[d+1])}else a&amp;&amp;this.addAll(a)};h=H.prototype;h.m=function(){I(this);for(var a=[],b=0;b&lt;this.i.length;b++)a.push(this.o[this.i[b]]);return a};h.w=function(){I(this);return this.i.concat()};h.G=function(a){return J(this.o,a)};h.clear=function(){this.o={};this.I=this.h=this.i.length=0};h.remove=function(a){return J(this.o,a)?(delete this.o[a],this.h--,this.I++,this.i.length&gt;2*this.h&amp;&amp;I(this),!0):!1};var I=function(a){if(a.h!=a.i.length){for(var b=0,c=0;b&lt;a.i.length;){var d=a.i[b];J(a.o,d)&amp;&amp;(a.i[c++]=d);b++}a.i.length=c}if(a.h!=a.i.length){for(var e={},c=b=0;b&lt;a.i.length;)d=a.i[b],J(e,d)||(a.i[c++]=d,e[d]=1),b++;a.i.length=c}};h=H.prototype;h.get=function(a,b){return J(this.o,a)?this.o[a]:b};h.set=function(a,b){J(this.o,a)||(this.h++,this.i.push(a),this.I++);this.o[a]=b};h.addAll=function(a){var b;a instanceof H?(b=a.w(),a=a.m()):(b=ha(a),a=ga(a));for(var c=0;c&lt;b.length;c++)this.set(b[c],a[c])};h.forEach=function(a,b){for(var c=this.w(),d=0;d&lt;c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new H(this)};h.X=function(a){I(this);var b=0,c=this.I,d=this,e=new G;e.next=function(){if(c!=d.I)throw Error(&quot;The map has changed since the iterator was created&quot;);if(b&gt;=d.i.length)throw ya;var e=d.i[b++];return a?e:d.o[e]};return e};var J=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var za=function(a){if(a.m&amp;&amp;&quot;function&quot;==typeof a.m)return a.m();if(n(a))return a.split(&quot;&quot;);if(m(a)){for(var b=[],c=a.length,d=0;d&lt;c;d++)b.push(a[d]);return b}return ga(a)},Aa=function(a,b,c){if(a.forEach&amp;&amp;&quot;function&quot;==typeof a.forEach)a.forEach(b,c);else if(m(a)||n(a))da(a,b,c);else{var d;if(a.w&amp;&amp;&quot;function&quot;==typeof a.w)d=a.w();else if(a.m&amp;&amp;&quot;function&quot;==typeof a.m)d=void 0;else if(m(a)||n(a)){d=[];for(var e=a.length,f=0;f&lt;e;f++)d.push(f)}else d=ha(a);for(var e=za(a),f=e.length,g=0;g&lt;f;g++)b.call(c,e[g],d&amp;&amp;d[g],a)}};var K=function(a,b){this.u=this.D=this.A=&quot;&quot;;this.F=null;this.C=this.s=&quot;&quot;;this.l=this.ba=!1;var c;if(a instanceof K)this.l=void 0!==b?b:a.l,L(this,a.A),c=a.D,M(this),this.D=c,c=a.u,M(this),this.u=c,N(this,a.F),c=a.s,M(this),this.s=c,O(this,a.v.clone()),c=a.C,M(this),this.C=c;else if(a&amp;&amp;(c=String(a).match(wa))){this.l=!!b;L(this,c[1]||&quot;&quot;,!0);var d=c[2]||&quot;&quot;;M(this);this.D=P(d);d=c[3]||&quot;&quot;;M(this);this.u=P(d,!0);N(this,c[4]);d=c[5]||&quot;&quot;;M(this);this.s=P(d,!0);O(this,c[6]||&quot;&quot;,!0);c=c[7]||&quot;&quot;;M(this);this.C=P(c)}else this.l=!!b,this.v=new Q(null,0,this.l)};K.prototype.toString=function(){var a=[],b=this.A;b&amp;&amp;a.push(R(b,Ba,!0),&quot;:&quot;);var c=this.u;if(c||&quot;file&quot;==b)a.push(&quot;//&quot;),(b=this.D)&amp;&amp;a.push(R(b,Ba,!0),&quot;@&quot;),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,&quot;%$1&quot;)),c=this.F,null!=c&amp;&amp;a.push(&quot;:&quot;,String(c));if(c=this.s)this.u&amp;&amp;&quot;/&quot;!=c.charAt(0)&amp;&amp;a.push(&quot;/&quot;),a.push(R(c,&quot;/&quot;==c.charAt(0)?Ca:Da,!0));(c=this.v.toString())&amp;&amp;a.push(&quot;?&quot;,c);(c=this.C)&amp;&amp;a.push(&quot;#&quot;,R(c,Ea));return a.join(&quot;&quot;)};K.prototype.resolve=function(a){var b=this.clone(),c=!!a.A;c?L(b,a.A):c=!!a.D;if(c){var d=a.D;M(b);b.D=d}else c=!!a.u;c?(d=a.u,M(b),b.u=d):c=null!=a.F;d=a.s;if(c)N(b,a.F);else if(c=!!a.s){if(&quot;/&quot;!=d.charAt(0))if(this.u&amp;&amp;!this.s)d=&quot;/&quot;+d;else{var e=b.s.lastIndexOf(&quot;/&quot;);-1!=e&amp;&amp;(d=b.s.substr(0,e+1)+d)}e=d;if(&quot;..&quot;==e||&quot;.&quot;==e)d=&quot;&quot;;else if(-1!=e.indexOf(&quot;./&quot;)||-1!=e.indexOf(&quot;/.&quot;)){for(var d=0==e.lastIndexOf(&quot;/&quot;,0),e=e.split(&quot;/&quot;),f=[],g=0;g&lt;e.length;){var k=e[g++];&quot;.&quot;==k?d&amp;&amp;g==e.length&amp;&amp;f.push(&quot;&quot;):&quot;..&quot;==k?((1&lt;f.length||1==f.length&amp;&amp;&quot;&quot;!=f[0])&amp;&amp;f.pop(),d&amp;&amp;g==e.length&amp;&amp;f.push(&quot;&quot;)):(f.push(k),d=!0)}d=f.join(&quot;/&quot;)}else d=e}c?(M(b),b.s=d):c=&quot;&quot;!==a.v.toString();c?O(b,P(a.v.toString())):c=!!a.C;c&amp;&amp;(a=a.C,M(b),b.C=a);return b};K.prototype.clone=function(){return new K(this)};var L=function(a,b,c){M(a);a.A=c?P(b,!0):b;a.A&amp;&amp;(a.A=a.A.replace(/:$/,&quot;&quot;))},N=function(a,b){M(a);if(b){b=Number(b);if(isNaN(b)||0&gt;b)throw Error(&quot;Bad port number &quot;+b);a.F=b}else a.F=null},O=function(a,b,c){M(a);b instanceof Q?(a.v=b,a.v.O(a.l)):(c||(b=R(b,Fa)),a.v=new Q(b,0,a.l))},M=function(a){if(a.ba)throw Error(&quot;Tried to modify a read-only Uri&quot;);};K.prototype.O=function(a){this.l=a;this.v&amp;&amp;this.v.O(a);return this};var P=function(a,b){return a?b?decodeURI(a.replace(/%25/g,&quot;%2525&quot;)):decodeURIComponent(a):&quot;&quot;},R=function(a,b,c){return n(a)?(a=encodeURI(a).replace(b,Ga),c&amp;&amp;(a=a.replace(/%25([0-9a-fA-F]{2})/g,&quot;%$1&quot;)),a):null},Ga=function(a){a=a.charCodeAt(0);return&quot;%&quot;+(a&gt;&gt;4&amp;15).toString(16)+(a&amp;15).toString(16)},Ba=/[#\/\?@]/g,Da=/[\#\?:]/g,Ca=/[\#\?]/g,Fa=/[\#\?@]/g,Ea=/#/g,Q=function(a,b,c){this.h=this.g=null;this.j=a||null;this.l=!!c},S=function(a){a.g||(a.g=new H,a.h=0,a.j&amp;&amp;xa(a.j,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g,&quot; &quot;)),c)}))};h=Q.prototype;h.add=function(a,b){S(this);this.j=null;a=T(this,a);var c=this.g.get(a);c||this.g.set(a,c=[]);c.push(b);this.h+=1;return this};h.remove=function(a){S(this);a=T(this,a);return this.g.G(a)?(this.j=null,this.h-=this.g.get(a).length,this.g.remove(a)):!1};h.clear=function(){this.g=this.j=null;this.h=0};h.G=function(a){S(this);a=T(this,a);return this.g.G(a)};h.w=function(){S(this);for(var a=this.g.m(),b=this.g.w(),c=[],d=0;d&lt;b.length;d++)for(var e=a[d],f=0;f&lt;e.length;f++)c.push(b[d]);return c};h.m=function(a){S(this);var b=[];if(n(a))this.G(a)&amp;&amp;(b=ea(b,this.g.get(T(this,a))));else{a=this.g.m();for(var c=0;c&lt;a.length;c++)b=ea(b,a[c])}return b};h.set=function(a,b){S(this);this.j=null;a=T(this,a);this.G(a)&amp;&amp;(this.h-=this.g.get(a).length);this.g.set(a,[b]);this.h+=1;return this};h.get=function(a,b){var c=a?this.m(a):[];return 0&lt;c.length?String(c[0]):b};h.toString=function(){if(this.j)return this.j;if(!this.g)return&quot;&quot;;for(var a=[],b=this.g.w(),c=0;c&lt;b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.m(d),f=0;f&lt;d.length;f++){var g=e;&quot;&quot;!==d[f]&amp;&amp;(g+=&quot;=&quot;+encodeURIComponent(String(d[f])));a.push(g)}return this.j=a.join(&quot;&amp;&quot;)};h.clone=function(){var a=new Q;a.j=this.j;this.g&amp;&amp;(a.g=this.g.clone(),a.h=this.h);return a};var T=function(a,b){var c=String(b);a.l&amp;&amp;(c=c.toLowerCase());return c};Q.prototype.O=function(a){a&amp;&amp;!this.l&amp;&amp;(S(this),this.j=null,this.g.forEach(function(a,c){var d=c.toLowerCase();c!=d&amp;&amp;(this.remove(c),this.remove(d),0&lt;a.length&amp;&amp;(this.j=null,this.g.set(T(this,d),fa(a)),this.h+=a.length))},this));this.l=a};Q.prototype.extend=function(a){for(var b=0;b&lt;arguments.length;b++)Aa(arguments[b],function(a,b){this.add(b,a)},this)};var W=function(a,b,c,d,e,f,g,k,Ia){U(E.hidden)?(this.H=&quot;hidden&quot;,this.K=&quot;visibilitychange&quot;):U(E.mozHidden)?(this.H=&quot;mozHidden&quot;,this.K=&quot;mozvisibilitychange&quot;):U(E.msHidden)?(this.H=&quot;msHidden&quot;,this.K=&quot;msvisibilitychange&quot;):U(E.webkitHidden)&amp;&amp;(this.H=&quot;webkitHidden&quot;,this.K=&quot;webkitvisibilitychange&quot;);this.M=!1;this.B=a;this.J=-1;this.V=b;this.W=c;this.ca=d;this.Z=f;this.S=g?&quot;mousedown&quot;:&quot;click&quot;;e&amp;&amp;E[this.H]&amp;&amp;V(this,2);this.$=k;this.Y=Ia||0;this.P=this.T=this.L=this.R=null;a=p(this.aa,this);va(E,this.K,a);Ha(this)};W.prototype.aa=function(){if(E[this.H])this.M&amp;&amp;(this.U(),this.J=q(),V(this,0));else{if(-1!=this.J){var a=q()-this.J;a&gt;this.Y&amp;&amp;(this.J=-1,V(this,1,a),null!==this.B&amp;&amp;(this.B.registerFinalizeCallback(p(this.B.fireOnObject,this.B,&quot;attempt_survey_trigger&quot;,[&quot;wfocus&quot;,this.W,this.V,this.L,this.T,this.P,a])),5E3&lt;a&amp;&amp;this.B.fireOnObject(&quot;should_show_thank_you&quot;,{})))}this.Z&amp;&amp;V(this,3)}};var Ha=function(a){if(null!==a.B){var b=p(function(a,b,c){this.L=b.fa().ea();this.L||(a=new K(b.da()),this.L=a.u+a.s);this.T=b.creativeConversionUrl();this.P=b.adGroupCreativeId();this.N(c)},a),c=a.S;a.B.forEachAd(function(a){a.forEachNavigationAdPiece(function(d){a.listen(d,c,b)})})}else{var d=p(a.N,a);va(F,a.S,d)}};W.prototype.N=function(a){this.R=a.button;this.M=!0;a=p(this.U,this);F.setTimeout(a,5E3)};W.prototype.handleClick=W.prototype.N;W.prototype.U=function(){this.M=!1};var V=function(a,b,c){var d=[&quot;//&quot;,a.ca?&quot;googleads.g.doubleclick.net&quot;:&quot;pagead2.googlesyndication.com&quot;,&quot;/pagead/gen_204?id=wfocus&quot;,&quot;&amp;gqid=&quot;+a.V,&quot;&amp;qqid=&quot;+a.W].join(&quot;&quot;);0==b&amp;&amp;(d+=&quot;&amp;return=0&quot;);1==b&amp;&amp;(d+=&quot;&amp;return=1&amp;timeDelta=&quot;+c,a.$&amp;&amp;(d+=&quot;&amp;cbtn=&quot;+a.R));2==b&amp;&amp;(d+=&quot;&amp;bgload=1&quot;);3==b&amp;&amp;(d+=&quot;&amp;fg=1&quot;);F.google_image_requests||(F.google_image_requests=[]);a=F.document.createElement(&quot;img&quot;);a.src=d;F.google_image_requests.push(a)},U=function(a){return&quot;undefined&quot;!==typeof a};var Ja=function(a,b,c,d,e,f,g,k){return new W(null,a,b,c,d,e,f,g,k)},X=[&quot;wfocusnhinit&quot;],Y=l;X[0]in Y||!Y.execScript||Y.execScript(&quot;var &quot;+X[0]);for(var Z;X.length&amp;&amp;(Z=X.shift());)X.length||void 0===Ja?Y=Y[Z]?Y[Z]:Y[Z]={}:Y[Z]=Ja;}).call(this);window['window_focus_for_click'] =wfocusnhinit(&quot;exbEV52XOtWaoAP54IfgCg&quot;,&quot;CO6T1IC95s4CFVGJaAodW2cEBQ&quot;,true,true,true,false,false,0);&lt;/script&gt;&lt;iframe scrolling=&quot;no&quot; frameborder=0 height=0 width=0 src=&quot;https://cm.g.doubleclick.net/push?client=ca-pub-8472437385854639&quot; style=&quot;position:absolute&quot;&gt;&lt;/iframe&gt;&lt;script type=&quot;text/javascript&quot;&gt;(function(){var l=this,aa=function(){},ba=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},m=function(a){return&quot;string&quot;==typeof a},ca=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},p=Date.now||function(){return+new Date},q=function(a,b){var c=a.split(&quot;.&quot;),d=l;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b};var da=function(a,b,c,d,e){if(e)c=a+(&quot;&amp;&quot;+b+&quot;=&quot;+c);else{var f=&quot;&amp;&quot;+b+&quot;=&quot;,g=a.indexOf(f);0&gt;g?c=a+f+c:(g+=f.length,f=a.indexOf(&quot;&amp;&quot;,g),c=0&lt;=f?a.substring(0,g)+c+a.substring(f):a.substring(0,g)+c)}return 2E3&lt;c.length?void 0!==d?da(a,b,d,void 0,e):a:c};var ea=function(){var a=/[&amp;\?#]exk=([^&amp; ]+)/.exec(t.location.href);return a&amp;&amp;2==a.length?a[1]:null};var fa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},ha=function(a,b){for(var c=0,d=fa(String(a)).split(&quot;.&quot;),e=fa(String(b)).split(&quot;.&quot;),f=Math.max(d.length,e.length),g=0;0==c&amp;&amp;g&lt;f;g++){var h=d[g]||&quot;&quot;,k=e[g]||&quot;&quot;;do{h=/(\d*)(\D*)(.*)/.exec(h)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];k=/(\d*)(\D*)(.*)/.exec(k)||[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==h[0].length&amp;&amp;0==k[0].length)break;c=ga(0==h[1].length?0:parseInt(h[1],10),0==k[1].length?0:parseInt(k[1],10))||ga(0==h[2].length,0==k[2].length)||ga(h[2],k[2]);h=h[3];k=k[3]}while(0==c)}return c},ga=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var ia=function(a,b,c){if(&quot;array&quot;==ba(b))for(var d=0;d&lt;b.length;d++)ia(a,String(b[d]),c);else null!=b&amp;&amp;c.push(&quot;&amp;&quot;,a,&quot;&quot;===b?&quot;&quot;:&quot;=&quot;,encodeURIComponent(String(b)))},ja=function(a,b,c){for(c=c||0;c&lt;b.length;c+=2)ia(b[c],b[c+1],a);return a},ka=function(a,b){var c=2==arguments.length?ja([a],arguments[1],0):ja([a],arguments,1);if(c[1]){var d=c[0],e=d.indexOf(&quot;#&quot;);0&lt;=e&amp;&amp;(c.push(d.substr(e)),c[0]=d=d.substr(0,e));e=d.indexOf(&quot;?&quot;);0&gt;e?c[1]=&quot;?&quot;:e==d.length-1&amp;&amp;(c[1]=void 0)}return c.join(&quot;&quot;)};var la=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0&gt;c?Math.max(0,a.length+c):c;if(m(a))return m(b)&amp;&amp;1==b.length?a.indexOf(b,c):-1;for(;c&lt;a.length;c++)if(c in a&amp;&amp;a[c]===b)return c;return-1},ma=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=m(a)?a.split(&quot;&quot;):a,f=0;f&lt;d;f++)f in e&amp;&amp;b.call(c,e[f],f,a)},na=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=m(a)?a.split(&quot;&quot;):a,g=0;g&lt;d;g++)g in f&amp;&amp;(e[g]=b.call(c,f[g],g,a));return e};var oa=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},pa=function(a,b){return null!==a&amp;&amp;b in a};var u;a:{var qa=l.navigator;if(qa){var ua=qa.userAgent;if(ua){u=ua;break a}}u=&quot;&quot;}var v=function(a){return-1!=u.indexOf(a)},va=function(a){for(var b=RegExp(&quot;(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?&quot;,&quot;g&quot;),c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c};var wa=function(){return v(&quot;Trident&quot;)||v(&quot;MSIE&quot;)},w=function(){return(v(&quot;Chrome&quot;)||v(&quot;CriOS&quot;))&amp;&amp;!v(&quot;Edge&quot;)},ya=function(){function a(a){var b;a:{b=d;for(var g=a.length,h=m(a)?a.split(&quot;&quot;):a,k=0;k&lt;g;k++)if(k in h&amp;&amp;b.call(void 0,h[k],k,a)){b=k;break a}b=-1}return c[0&gt;b?null:m(a)?a.charAt(b):a[b]]||&quot;&quot;}var b=u;if(wa())return xa(b);var b=va(b),c={};ma(b,function(a){c[a[0]]=a[1]});var d=ca(pa,c);return v(&quot;Opera&quot;)?a([&quot;Version&quot;,&quot;Opera&quot;]):v(&quot;Edge&quot;)?a([&quot;Edge&quot;]):w()?a([&quot;Chrome&quot;,&quot;CriOS&quot;]):(b=b[2])&amp;&amp;b[1]||&quot;&quot;},xa=function(a){var b=/rv: *([\d\.]*)/.exec(a);if(b&amp;&amp;b[1])return b[1];var b=&quot;&quot;,c=/MSIE +([\d\.]+)/.exec(a);if(c&amp;&amp;c[1])if(a=/Trident\/(\d.\d)/.exec(a),&quot;7.0&quot;==c[1])if(a&amp;&amp;a[1])switch(a[1]){case &quot;4.0&quot;:b=&quot;8.0&quot;;break;case &quot;5.0&quot;:b=&quot;9.0&quot;;break;case &quot;6.0&quot;:b=&quot;10.0&quot;;break;case &quot;7.0&quot;:b=&quot;11.0&quot;}else b=&quot;7.0&quot;;else b=c[1];return b};var za=function(a){za[&quot; &quot;](a);return a};za[&quot; &quot;]=aa;var Ba=function(a,b){var c=Aa;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Ca=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&amp;&amp;b.call(void 0,a[c],c,a)},Ea=function(){var a=Da;if(!a)return&quot;&quot;;var b=/.*[&amp;#?]google_debug(=[^&amp;]*)?(&amp;.*)?$/;try{var c=b.exec(decodeURIComponent(a));if(c)return c[1]&amp;&amp;1&lt;c[1].length?c[1].substring(1):&quot;true&quot;}catch(d){}return&quot;&quot;};var Fa=function(a,b){this.v=a;this.w=b},Ga=function(a,b){this.url=a;this.m=!!b;this.depth=null};var Ha=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)};var Ia=function(a,b,c,d,e){this.o=c||4E3;this.g=a||&quot;&amp;&quot;;this.G=b||&quot;,$&quot;;this.h=void 0!==d?d:&quot;trn&quot;;this.P=e||null;this.l=!1;this.f={};this.L=0;this.c=[]},Ja=function(a,b){var c={};c[a]=b;return[c]},x=function(a,b,c,d){a.c.push(b);a.f[b]=Ja(c,d)},Ma=function(a,b,c,d){b=b+&quot;//&quot;+c+d;var e=Ka(a)-d.length-0;if(0&gt;e)return&quot;&quot;;a.c.sort(function(a,b){return a-b});d=null;c=&quot;&quot;;for(var f=0;f&lt;a.c.length;f++)for(var g=a.c[f],h=a.f[g],k=0;k&lt;h.length;k++){if(!e){d=null==d?g:d;break}var n=La(h[k],a.g,a.G);if(n){n=c+n;if(e&gt;=n.length){e-=n.length;b+=n;c=a.g;break}else a.l&amp;&amp;(c=e,n[c-1]==a.g&amp;&amp;--c,b+=n.substr(0,c),c=a.g,e=0);d=null==d?g:d}}f=&quot;&quot;;a.h&amp;&amp;null!=d&amp;&amp;(f=c+a.h+&quot;=&quot;+(a.P||d));return b+f+&quot;&quot;},Ka=function(a){if(!a.h)return a.o;var b=1,c;for(c in a.f)b=c.length&gt;b?c.length:b;return a.o-a.h.length-b-a.g.length-1},La=function(a,b,c,d,e){var f=[];Ca(a,function(a,h){var k=Na(a,b,c,d,e);k&amp;&amp;f.push(h+&quot;=&quot;+k)});return f.join(b)},Na=function(a,b,c,d,e){if(null==a)return&quot;&quot;;b=b||&quot;&amp;&quot;;c=c||&quot;,$&quot;;&quot;string&quot;==typeof c&amp;&amp;(c=c.split(&quot;&quot;));if(a instanceof Array){if(d=d||0,d&lt;c.length){for(var f=[],g=0;g&lt;a.length;g++)f.push(Na(a[g],b,c,d+1,e));return f.join(c[d])}}else if(&quot;object&quot;==typeof a)return e=e||0,2&gt;e?encodeURIComponent(La(a,b,c,d,e+1)):&quot;...&quot;;return encodeURIComponent(String(a))};var Oa=function(a,b,c,d,e){try{var f;c instanceof Ia?f=c:(f=new Ia,Ca(c,function(a,b){var c=f,d=c.L++,e=Ja(b,a);c.c.push(d);c.f[d]=e}));if((d?a.O:Math.random())&lt;(e||a.H)){var g=Ma(f,a.N,a.I,a.M+b+&quot;&amp;&quot;);y(l,g)}}catch(h){}},y=function(a,b,c){a.google_image_requests||(a.google_image_requests=[]);var d=a.document.createElement(&quot;img&quot;);if(c){var e=function(a){c(a);a=e;d.removeEventListener?d.removeEventListener(&quot;load&quot;,a,!1):d.detachEvent&amp;&amp;d.detachEvent(&quot;onload&quot;,a);a=e;d.removeEventListener?d.removeEventListener(&quot;error&quot;,a,!1):d.detachEvent&amp;&amp;d.detachEvent(&quot;onerror&quot;,a)};Ha(d,&quot;load&quot;,e);Ha(d,&quot;error&quot;,e)}d.src=b;a.google_image_requests.push(d)};var Pa=function(a,b,c){this.u=a;this.K=b;this.i=c;this.j=null;this.J=this.s;this.A=!1},Qa=function(a,b,c){this.message=a;this.fileName=b||&quot;&quot;;this.lineNumber=c||-1},Sa=function(a,b,c){var d;try{d=c()}catch(g){var e=a.i;try{var f=Ra(g),e=a.J.call(a,b,f,void 0,void 0)}catch(h){a.s(&quot;pAR&quot;,h)}if(!e)throw g;}finally{}return d},z=function(a,b){var c=Ta;return function(){for(var d=[],e=0;e&lt;arguments.length;++e)d[e]=arguments[e];return Sa(c,a,function(){return b.apply(void 0,d)})}};Pa.prototype.s=function(a,b,c,d,e){try{var f=e||this.K,g=new Ia;g.l=!0;x(g,1,&quot;context&quot;,a);b instanceof Qa||(b=Ra(b));x(g,2,&quot;msg&quot;,b.message.substring(0,512));b.fileName&amp;&amp;x(g,3,&quot;file&quot;,b.fileName);0&lt;b.lineNumber&amp;&amp;x(g,4,&quot;line&quot;,b.lineNumber.toString());b={};if(this.j)try{this.j(b)}catch(G){}if(d)try{d(b)}catch(G){}d=[b];g.c.push(5);g.f[5]=d;var h;e=l;d=[];var k,n=null;do{b=e;var r;try{var X;if(X=!!b&amp;&amp;null!=b.location.href)b:{try{za(b.foo);X=!0;break b}catch(G){}X=!1}r=X}catch(G){r=!1}r?(k=b.location.href,n=b.document&amp;&amp;b.document.referrer||null):(k=n,n=null);d.push(new Ga(k||&quot;&quot;));try{e=b.parent}catch(G){e=null}}while(e&amp;&amp;b!=e);k=0;for(var H=d.length-1;k&lt;=H;++k)d[k].depth=H-k;b=l;if(b.location&amp;&amp;b.location.ancestorOrigins&amp;&amp;b.location.ancestorOrigins.length==d.length-1)for(k=1;k&lt;d.length;++k){var ra=d[k];ra.url||(ra.url=b.location.ancestorOrigins[k-1]||&quot;&quot;,ra.m=!0)}for(var sa=new Ga(l.location.href,!1),ta=d.length-1,H=ta;0&lt;=H;--H){var I=d[H];if(I.url&amp;&amp;!I.m){sa=I;break}}var I=null,Yb=d.length&amp;&amp;d[ta].url;0!=sa.depth&amp;&amp;Yb&amp;&amp;(I=d[ta]);h=new Fa(sa,I);h.w&amp;&amp;x(g,6,&quot;top&quot;,h.w.url||&quot;&quot;);x(g,7,&quot;url&quot;,h.v.url||&quot;&quot;);Oa(this.u,f,g,this.A,c)}catch(G){try{Oa(this.u,f,{context:&quot;ecmserr&quot;,rctx:a,msg:Ua(G),url:h.v.url},this.A,c)}catch(vc){}}return this.i};var Ra=function(a){return new Qa(Ua(a),a.fileName,a.lineNumber)},Ua=function(a){var b=a.toString();a.name&amp;&amp;-1==b.indexOf(a.name)&amp;&amp;(b+=&quot;: &quot;+a.name);a.message&amp;&amp;-1==b.indexOf(a.message)&amp;&amp;(b+=&quot;: &quot;+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&amp;&amp;(a=c+&quot;\n&quot;+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,&quot;$1&quot;);b=a.replace(/\n */g,&quot;\n&quot;)}catch(e){b=c}}return b};var A=document,t=window;var Va=function(){return v(&quot;iPhone&quot;)&amp;&amp;!v(&quot;iPod&quot;)&amp;&amp;!v(&quot;iPad&quot;)};var Wa=v(&quot;Opera&quot;),B=wa(),Xa=v(&quot;Edge&quot;),C=v(&quot;Gecko&quot;)&amp;&amp;!(-1!=u.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!v(&quot;Edge&quot;))&amp;&amp;!(v(&quot;Trident&quot;)||v(&quot;MSIE&quot;))&amp;&amp;!v(&quot;Edge&quot;),Ya=-1!=u.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!v(&quot;Edge&quot;),Za=function(){var a=l.document;return a?a.documentMode:void 0},$a;a:{var ab=&quot;&quot;,bb=function(){var a=u;if(C)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Xa)return/Edge\/([\d\.]+)/.exec(a);if(B)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Ya)return/WebKit\/(\S+)/.exec(a);if(Wa)return/(?:Version)[ \/]?(\S+)/.exec(a)}();bb&amp;&amp;(ab=bb?bb[1]:&quot;&quot;);if(B){var cb=Za();if(null!=cb&amp;&amp;cb&gt;parseFloat(ab)){$a=String(cb);break a}}$a=ab}var db=$a,Aa={},D=function(a){return Ba(a,function(){return 0&lt;=ha(db,a)})},eb=l.document,fb=eb&amp;&amp;B?Za()||(&quot;CSS1Compat&quot;==eb.compatMode?parseInt(db,10):5):void 0;var E=function(a,b){this.width=a;this.height=b};E.prototype.clone=function(){return new E(this.width,this.height)};E.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};E.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};E.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};E.prototype.scale=function(a,b){this.width*=a;this.height*=&quot;number&quot;==typeof b?b:a;return this};!C&amp;&amp;!B||B&amp;&amp;9&lt;=Number(fb)||C&amp;&amp;D(&quot;1.9.1&quot;);B&amp;&amp;D(&quot;9&quot;);var F=null,gb=function(){if(!A.body)return!1;if(!F){var a=A.createElement(&quot;iframe&quot;);a.style.display=&quot;none&quot;;a.id=&quot;anonIframe&quot;;F=a;A.body.appendChild(a)}return!0};var Ta;Ta=new Pa(new function(){this.N=&quot;http:&quot;===t.location.protocol?&quot;http:&quot;:&quot;https:&quot;;this.I=&quot;pagead2.googlesyndication.com&quot;;this.M=&quot;/pagead/gen_204?id=&quot;;this.H=.01;this.O=Math.random()},&quot;jserror&quot;,!0);var J=function(a,b){return z(a,b)};B&amp;&amp;D(&quot;9&quot;);!Ya||D(&quot;528&quot;);C&amp;&amp;D(&quot;1.9b&quot;)||B&amp;&amp;D(&quot;8&quot;)||Wa&amp;&amp;D(&quot;9.5&quot;)||Ya&amp;&amp;D(&quot;528&quot;);C&amp;&amp;!D(&quot;8&quot;)||B&amp;&amp;D(&quot;9&quot;);var hb=0,K={},jb=function(a){var b=K.imageLoadingEnabled;if(null!=b)a(b);else{var c=!1;ib(function(b,e){delete K[e];c||(c=!0,null!=K.imageLoadingEnabled||(K.imageLoadingEnabled=b),a(b))})}},ib=function(a){var b=new Image,c,d=&quot;&quot;+hb++;K[d]=b;b.onload=function(){clearTimeout(c);a(!0,d)};c=setTimeout(function(){a(!1,d)},300);b.src=&quot;data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==&quot;},kb=function(a){if(a){var b=document.createElement(&quot;OBJECT&quot;);b.data=a;b.width=&quot;1&quot;;b.height=&quot;1&quot;;b.style.visibility=&quot;hidden&quot;;var c=&quot;&quot;+hb++;K[c]=b;b.onload=b.onerror=function(){delete K[c]};document.body.appendChild(b)}},lb=function(a){if(a){var b=new Image,c=&quot;&quot;+hb++;K[c]=b;b.onload=b.onerror=function(){delete K[c]};b.src=a}},mb=function(a){a&amp;&amp;jb(function(b){b?lb(a):kb(a)})};var nb={F:&quot;ud=1&quot;,D:&quot;ts=0&quot;,T:&quot;sc=1&quot;,B:&quot;gz=1&quot;,C:&quot;op=1&quot;,U:&quot;efp=1&quot;,S:&quot;rda=1&quot;,R:&quot;dcl=1&quot;};if(A&amp;&amp;A.URL){var Da=A.URL,ob=!(Da&amp;&amp;0&lt;Ea().length);Ta.i=ob}var L=function(a,b,c,d){Ha(a,b,z(d||&quot;osd_or_lidar::&quot;+b,c),void 0)},pb=function(a,b,c){if(!(0&gt;=b)){var d=0,e=function(){a();d++;d&lt;b&amp;&amp;t.setTimeout(z(c,e),100)};e()}};var M=function(a,b){this.b=a||0;this.a=b||&quot;&quot;},qb=function(a,b){a.b&amp;&amp;(b[4]=a.b);a.a&amp;&amp;(b[12]=a.a)};M.prototype.match=function(a){return(this.b||this.a)&amp;&amp;(a.b||a.a)?this.a||a.a?this.a==a.a:this.b||a.b?this.b==a.b:!1:!1};M.prototype.toString=function(){var a=&quot;&quot;+this.b;this.a&amp;&amp;(a+=&quot;-&quot;+this.a);return a};var rb=function(){var a=N,b=[];a.b&amp;&amp;b.push(&quot;adk=&quot;+a.b);a.a&amp;&amp;b.push(&quot;exk=&quot;+a.a);return b},sb=function(a){var b=[];oa(a,function(a,d){var e=encodeURIComponent(d),f=a;m(f)&amp;&amp;(f=encodeURIComponent(f));b.push(e+&quot;=&quot;+f)});b.push(&quot;24=&quot;+(new Date).getTime());return b.join(&quot;\n&quot;)},O=0,tb=0,ub=function(a){var b=0,c=t;try{if(c&amp;&amp;c.Goog_AdSense_getAdAdapterInstance)return c}catch(e){}var d=c.location&amp;&amp;c.location.ancestorOrigins;if(!(void 0===d||d&amp;&amp;d.length))return null;for(;c&amp;&amp;5&gt;b;){try{if(c.google_osd_static_frame)return c}catch(e){}try{if(c.aswift_0&amp;&amp;(!a||c.aswift_0.google_osd_static_frame))return c.aswift_0}catch(e){}b++;c=c!=c.parent?c.parent:null}return null},vb=function(a,b,c,d,e,f,g){f=g||aa;if(10&lt;tb)t.clearInterval(O),f();else if(++tb,t.postMessage&amp;&amp;(b.b||b.a)){if(f=ub(!0)){g={};qb(b,g);g[0]=&quot;goog_request_monitoring&quot;;g[6]=a;g[16]=c;d&amp;&amp;d.length&amp;&amp;(g[17]=d.join(&quot;,&quot;));e&amp;&amp;(g[19]=e);try{var h=sb(g);f.postMessage(h,&quot;*&quot;)}catch(k){}}}else t.clearInterval(O),f()},wb=function(a){var b=ub(!1),c=!b;!b&amp;&amp;t&amp;&amp;(b=t.parent);if(b&amp;&amp;b.postMessage)try{b.postMessage(a,&quot;*&quot;),c&amp;&amp;t.postMessage(a,&quot;*&quot;)}catch(d){}};var P=!1,xb=function(a){if(a=a.match(/[\d]+/g))a.length=3};(function(){if(navigator.plugins&amp;&amp;navigator.plugins.length){var a=navigator.plugins[&quot;Shockwave Flash&quot;];if(a&amp;&amp;(P=!0,a.description)){xb(a.description);return}if(navigator.plugins[&quot;Shockwave Flash 2.0&quot;]){P=!0;return}}if(navigator.mimeTypes&amp;&amp;navigator.mimeTypes.length&amp;&amp;(a=navigator.mimeTypes[&quot;application/x-shockwave-flash&quot;],P=!(!a||!a.enabledPlugin))){xb(a.enabledPlugin.description);return}try{var b=new ActiveXObject(&quot;ShockwaveFlash.ShockwaveFlash.7&quot;);P=!0;xb(b.GetVariable(&quot;$version&quot;));return}catch(c){}try{b=new ActiveXObject(&quot;ShockwaveFlash.ShockwaveFlash.6&quot;);P=!0;return}catch(c){}try{b=new ActiveXObject(&quot;ShockwaveFlash.ShockwaveFlash&quot;),P=!0,xb(b.GetVariable(&quot;$version&quot;))}catch(c){}})();var yb=v(&quot;Firefox&quot;),zb=Va()||v(&quot;iPod&quot;),Ab=v(&quot;iPad&quot;),Bb=v(&quot;Android&quot;)&amp;&amp;!(w()||v(&quot;Firefox&quot;)||v(&quot;Opera&quot;)||v(&quot;Silk&quot;)),Cb=w(),Db=v(&quot;Safari&quot;)&amp;&amp;!(w()||v(&quot;Coast&quot;)||v(&quot;Opera&quot;)||v(&quot;Edge&quot;)||v(&quot;Silk&quot;)||v(&quot;Android&quot;))&amp;&amp;!(Va()||v(&quot;iPad&quot;)||v(&quot;iPod&quot;));var Q=function(a){return(a=a.exec(u))?a[1]:&quot;&quot;};(function(){if(yb)return Q(/Firefox\/([0-9.]+)/);if(B||Xa||Wa)return db;if(Cb)return Q(/Chrome\/([0-9.]+)/);if(Db&amp;&amp;!(Va()||v(&quot;iPad&quot;)||v(&quot;iPod&quot;)))return Q(/Version\/([0-9.]+)/);if(zb||Ab){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(u);if(a)return a[1]+&quot;.&quot;+a[2]}else if(Bb)return(a=Q(/Android\s+([0-9.]+)/))?a:Q(/Version\/([0-9.]+)/);return&quot;&quot;})();var Fb=function(){var a=t.parent&amp;&amp;t.parent!=t,b=a&amp;&amp;0&lt;=&quot;//tpc.googlesyndication.com&quot;.indexOf(t.location.host);if(a&amp;&amp;t.name&amp;&amp;0==t.name.indexOf(&quot;google_ads_iframe&quot;)||b){var c;a=t||t;try{var d;if(a.document&amp;&amp;!a.document.body)d=new E(-1,-1);else{var e=(a||window).document,f=&quot;CSS1Compat&quot;==e.compatMode?e.documentElement:e.body;d=(new E(f.clientWidth,f.clientHeight)).round()}c=d}catch(g){c=new E(-12245933,-12245933)}return Eb(c)}c=(t.document||document).getElementsByTagName(&quot;SCRIPT&quot;);return 0&lt;c.length&amp;&amp;(c=c[c.length-1],c.parentElement&amp;&amp;c.parentElement.id&amp;&amp;0&lt;c.parentElement.id.indexOf(&quot;_ad_container&quot;))?Eb(void 0,c.parentElement):null},Eb=function(a,b){var c=Gb(&quot;IMG&quot;,a,b);return c||(c=Gb(&quot;IFRAME&quot;,a,b))?c:(c=Gb(&quot;OBJECT&quot;,a,b))?c:null},Gb=function(a,b,c){var d=document;c=c||d;d=a&amp;&amp;&quot;*&quot;!=a?a.toUpperCase():&quot;&quot;;c=c.querySelectorAll&amp;&amp;c.querySelector&amp;&amp;d?c.querySelectorAll(d+&quot;&quot;):c.getElementsByTagName(d||&quot;*&quot;);for(d=0;d&lt;c.length;d++){var e=c[d];if(&quot;OBJECT&quot;==a)a:{var f=e.getAttribute(&quot;height&quot;);if(null!=f&amp;&amp;0&lt;f&amp;&amp;0==e.clientHeight)for(var f=e.children,g=0;g&lt;f.length;g++){var h=f[g];if(&quot;OBJECT&quot;==h.nodeName||&quot;EMBED&quot;==h.nodeName){e=h;break a}}}f=e.clientHeight;g=e.clientWidth;if(h=b)h=new E(g,f),h=Math.abs(b.width-h.width)&lt;.1*b.width&amp;&amp;Math.abs(b.height-h.height)&lt;.1*b.height;if(h||!b&amp;&amp;10&lt;f&amp;&amp;10&lt;g)return e}return null};var R=0,Hb=&quot;&quot;,Ib=[],S=!1,T=!1,U=!1,Jb=!0,Kb=!1,Lb=!1,Mb=!1,Nb=!1,Ob=!1,Pb=!1,Qb=0,Rb=0,V=0,Sb=[],N=null,Tb=&quot;&quot;,Ub=[],Vb=null,Wb=[],Xb=!1,Zb=&quot;&quot;,$b=&quot;&quot;,ac=(new Date).getTime(),bc=!1,cc=&quot;&quot;,dc=!1,ec=[&quot;1&quot;,&quot;0&quot;,&quot;3&quot;],W=0,Y=0,fc=0,gc=&quot;&quot;,ic=function(a,b,c){S&amp;&amp;(Jb||3!=(c||3)||Mb)&amp;&amp;hc(a,b,!0);if(U||T&amp;&amp;Lb)hc(a,b),T=U=!1},jc=function(){var a=Vb;return a?2!=a():!0},hc=function(a,b,c){if((b=b||Tb)&amp;&amp;!Xb&amp;&amp;(2==Y||c)&amp;&amp;jc()){for(var d=0;d&lt;Ib.length;++d){var e=kc(Ib[d],b,c),f=a;Kb?mb(e):y(f,e,void 0)}Ob=!0;c?S=!1:Xb=!0}},lc=function(a,b){var c=[];a&amp;&amp;c.push(&quot;avi=&quot;+a);b&amp;&amp;c.push(&quot;cid=&quot;+b);return c.length?&quot;//pagead2.googlesyndication.com/activeview?&quot;+c.join(&quot;&amp;&quot;):&quot;//pagead2.googlesyndication.com/activeview&quot;},kc=function(a,b,c){c=c?&quot;osdim&quot;:U?&quot;osd2&quot;:&quot;osdtos&quot;;a=[a,-1&lt;a.indexOf(&quot;?&quot;)?&quot;&amp;id=&quot;:&quot;?id=&quot;,c];&quot;osd2&quot;==c&amp;&amp;T&amp;&amp;Lb&amp;&amp;a.push(&quot;&amp;ts=1&quot;);a.push(&quot;&amp;ti=1&quot;);a.push(&quot;&amp;&quot;,b);a.push(&quot;&amp;uc=&quot;+fc);bc?a.push(&quot;&amp;tgt=&quot;+cc):a.push(&quot;&amp;tgt=nf&quot;);a.push(&quot;&amp;cl=&quot;+(dc?1:0));Pb&amp;&amp;(a.push(&quot;&amp;lop=1&quot;),b=p()-Qb,a.push(&quot;&amp;tslp=&quot;+b));b=a.join(&quot;&quot;);for(a=0;a&lt;Ub.length;a++){try{var d=Ub[a]()}catch(e){}c=&quot;max_length&quot;;2&lt;=d.length&amp;&amp;(3==d.length&amp;&amp;(c=d[2]),b=da(b,encodeURIComponent(d[0]),encodeURIComponent(d[1]),c))}2E3&lt;b.length&amp;&amp;(b=b.substring(0,2E3));return b},Z=function(a){if(Zb){try{var b=da(Zb,&quot;vi&quot;,a);gb()&amp;&amp;y(F.contentWindow,b,void 0)}catch(c){}0&lt;=la(ec,a)&amp;&amp;(Zb=&quot;&quot;)}},mc=function(){Z(&quot;-1&quot;)},oc=function(a){if(a&amp;&amp;a.data&amp;&amp;m(a.data)){var b;var c=a.data;if(m(c)){b={};for(var c=c.split(&quot;\n&quot;),d=0;d&lt;c.length;d++){var e=c[d].indexOf(&quot;=&quot;);if(!(0&gt;=e)){var f=Number(c[d].substr(0,e)),e=c[d].substr(e+1);switch(f){case 5:case 8:case 11:case 15:case 16:case 18:e=&quot;true&quot;==e;break;case 4:case 7:case 6:case 14:case 20:case 21:case 22:case 23:case 24:e=Number(e);break;case 3:case 19:if(&quot;function&quot;==ba(decodeURIComponent))try{e=decodeURIComponent(e)}catch(h){throw Error(&quot;Error: URI malformed: &quot;+e);}break;case 17:e=na(decodeURIComponent(e).split(&quot;,&quot;),Number)}b[f]=e}}b=b[0]?b:null}else b=null;if(b&amp;&amp;(c=new M(b[4],b[12]),N&amp;&amp;N.match(c))){for(c=0;c&lt;Wb.length;c++)Wb[c](b);void 0!=b[18]&amp;&amp;(Mb=b[18],Mb||2!=V||(V=3,nc()));c=b[0];if(&quot;goog_acknowledge_monitoring&quot;==c)t.clearInterval(O),W=2;else if(&quot;goog_get_mode&quot;==c){W=1;d={};N&amp;&amp;qb(N,d);d[0]=&quot;goog_provide_mode&quot;;d[6]=Y;d[19]=gc;d[16]=T;try{var g=sb(d);a.source.postMessage(g,a.origin)}catch(h){}t.clearInterval(O);W=2}else&quot;goog_update_data&quot;==c?(Tb=b[3],++fc):&quot;goog_image_request&quot;==c&amp;&amp;(ic(t,b[3]),b[5]||b[11]||Z(&quot;0&quot;));if(&quot;goog_update_data&quot;==c||&quot;goog_image_request&quot;==c)(1==Y||2==Y||S)&amp;&amp;b[5]&amp;&amp;(a=1==b[15]&amp;&amp;&quot;goog_update_data&quot;==c,Lb=!0,Z(&quot;1&quot;),$b&amp;&amp;jc()&amp;&amp;(g=$b,gb()&amp;&amp;y(F.contentWindow,g,void 0),$b=&quot;&quot;),S&amp;&amp;!a&amp;&amp;(hc(t,void 0,!0),Nb=!0,Rb=p()),3==V&amp;&amp;(V=4,nc()),S||1!=Y||(Xb=!0)),(1==Y||2==Y||S)&amp;&amp;b[11]&amp;&amp;(T=!1,Z(&quot;3&quot;),S&amp;&amp;(hc(t,void 0,!0),1==V&amp;&amp;Mb&amp;&amp;(V=2)))}}},nc=function(){var a=t,b=V;0!=b&amp;&amp;1!=b&amp;&amp;pc(a,&quot;osdim&quot;,&quot;zas=&quot;+b)},pc=function(a,b,c){var d=[];Hb&amp;&amp;d.push(&quot;avi=&quot;+Hb);d.push(&quot;id=&quot;+b);d.push(&quot;ovr_value=&quot;+R);Pb&amp;&amp;d.push(&quot;lop=1&quot;);N&amp;&amp;(d=d.concat(rb()));d.push(&quot;tt=&quot;+((new Date).getTime()-ac));d.push(c);a.document&amp;&amp;a.document.referrer&amp;&amp;d.push(&quot;ref=&quot;+encodeURIComponent(a.document.referrer));try{y(a,&quot;//pagead2.googlesyndication.com/pagead/gen_204?&quot;+d.join(&quot;&amp;&quot;),void 0)}catch(e){}},qc=function(){ic(t);Z(&quot;0&quot;);2&gt;W&amp;&amp;!T&amp;&amp;2==Y&amp;&amp;pc(t,&quot;osd2&quot;,&quot;hs=&quot;+W)},rc=function(){var a={};qb(N,a);a[0]=&quot;goog_dom_content_loaded&quot;;var b=sb(a);try{pb(function(){wb(b)},10,&quot;osd_listener::ldcl_int&quot;)}catch(c){}},sc=function(){var a={};qb(N,a);a[0]=&quot;goog_creative_loaded&quot;;var b=sb(a);pb(function(){wb(b)},10,&quot;osd_listener::lcel_int&quot;);dc=!0},tc=function(a){if(m(a)){a=a.split(&quot;&amp;&quot;);for(var b=a.length-1;0&lt;=b;b--){var c=a[b],d=nb;c==d.F?(Jb=!1,a.splice(b,1)):c==d.B?(V=1,a.splice(b,1)):c==d.D?(T=!1,a.splice(b,1)):c==d.C&amp;&amp;(Kb=!0,a.splice(b,1))}gc=a.join(&quot;&amp;&quot;)}},uc=function(){if(!bc){var a=Fb();a&amp;&amp;(bc=!0,cc=a.tagName,a.complete||a.naturalWidth?sc():L(a,&quot;load&quot;,sc,&quot;osd_listener::creative_load&quot;))}};q(&quot;osdlfm&quot;,J(&quot;osd_listener::init&quot;,function(a,b,c,d,e,f,g,h,k,n){R=a;Zb=b;$b=d;S=f;g&amp;&amp;tc(g);T=f;1==h?Sb.push(947190538):2==h?Sb.push(947190541):3==h&amp;&amp;Sb.push(947190542);N=new M(e,ea());L(t,&quot;load&quot;,mc,&quot;osd_listener::load&quot;);L(t,&quot;message&quot;,oc,&quot;osd_listener::message&quot;);Hb=c||&quot;&quot;;Ib=[n||lc(c,k)];L(t,&quot;unload&quot;,qc,&quot;osd_listener::unload&quot;);var r=t.document;!r.readyState||&quot;complete&quot;!=r.readyState&amp;&amp;&quot;loaded&quot;!=r.readyState?!wa()||0&lt;=ha(ya(),11)?L(r,&quot;DOMContentLoaded&quot;,rc,&quot;osd_listener::dcl&quot;):L(r,&quot;readystatechange&quot;,function(){&quot;complete&quot;!=r.readyState&amp;&amp;&quot;loaded&quot;!=r.readyState||rc()},&quot;osd_listener::rsc&quot;):rc();-1==R?Y=f?3:1:-2==R?Y=3:0&lt;R&amp;&amp;(Y=2,U=!0);T&amp;&amp;!U&amp;&amp;-1==R&amp;&amp;(Y=2);N&amp;&amp;(N.b||N.a)&amp;&amp;(W=1,O=t.setInterval(z(&quot;osd_proto::reqm_int&quot;,ca(vb,Y,N,T,Sb,gc,void 0)),500));pb(uc,5,&quot;osd_listener:sfc&quot;)}));q(&quot;osdlac&quot;,J(&quot;osd_listener::lac_ex&quot;,function(a){Ub.push(a)}));q(&quot;osdlamrc&quot;,J(&quot;osd_listener::lamrc_ex&quot;,function(a){Wb.push(a)}));q(&quot;osdsir&quot;,z(&quot;osd_listener::sir_ex&quot;,ic));q(&quot;osdacrc&quot;,J(&quot;osd_listener::acrc_ex&quot;,function(a){Vb=a}));q(&quot;osdpcls&quot;,J(&quot;osd_listener::acrc_ex&quot;,function(a){if(!a||t==t.top||Xb||Ob&amp;&amp;!Nb)return!1;Pb=!0;a=/^(http[s]?:)?\/\//.test(a)?a:lc(a);if(Nb){var b=kc(a,Tb,!0),c=p()-Rb,b=ka(b,&quot;tsvp&quot;,c),c=t;Kb?mb(b):y(c,b,void 0)}Ib.push(a);Qb=p();return!0}));}).call(this);&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt;osdlfm(-1,'','BbcaAexbEV67qOtGSogPbzpEoAOLktve9AwAAEAE4AcgBAuACAMgDmQTgBAGgBgLCExIKEBDo8dymcSIICAIQARgBIAA','',2232836022,true,'ud\x3d1\x26la\x3d0\x26',3,'CAASFeRoBlDpq75OGHERxxYxuk1LHG9M5Q','//pagead2.googlesyndication.com/activeview?avi\x3dBbcaAexbEV67qOtGSogPbzpEoAOLktve9AwAAEAE4AcgBAuACAMgDmQTgBAGgBgLCExIKEBDo8dymcSIICAIQARgBIAA\x26cid\x3dCAASFeRoBlDpq75OGHERxxYxuk1LHG9M5Q');&lt;/script&gt;&lt;script&gt;if (window.top &amp;&amp; window.top.postMessage) {window.top.postMessage('{&quot;googMsgType&quot;:&quot;adpnt&quot;}','*');}&lt;/script&gt;&lt;script&gt;var ad = buildImageAd(adSlot, 0);adSlot.addAd(ad);adSlot.finalize('google_image_div');&lt;/script&gt;&lt;script&gt;(function(_){var Gm=function(){this.Ui=[];this.Pq={}};Gm.prototype.report=function(){for(var a=[],b=0;b&lt;this.Ui.length;++b)a.push(Hm(this.Ui[b]));return a};var Hm=function(a){var b=[a.key,a.value];_.t(a.Wn)&amp;&amp;b.push(a.Wn);return b},Im={};var Jm={1:0,2:1,4:8,5:6,8:11,9:2,6:9,34:25,26:15,3:7,20:12,24:26,33:11,25:0,40:9,36:19},Km=function(a,b,c,d){var e=Jm[b];4==b&amp;&amp;(b=(d=d.currentTarget)?d.getAttribute(&quot;data-absm&quot;):c.getAttribute(b,&quot;data-absm&quot;),&quot;e&quot;==b?e=12:&quot;db&quot;==b?e=29:&quot;dd&quot;==b&amp;&amp;(e=30));(0,window.ja)(a,e)},Lm=function(a){return function(){a()}},Mm=function(a){return a.report()};_.u(&quot;registerAd&quot;,function(a,b){_.t(Im[b])||(Im[b]=new Gm);a.registerClickUrlModifier(_.ha(Mm,Im[b]));for(var c=[1,2,4,8,6,9,5,3,20,34,26,24,33,25,40,36],d=0;d&lt;c.length;d++)a.listen(c[d],&quot;mousedown&quot;,Lm(_.ha(window.st,b))),a.listen(c[d],&quot;click&quot;,_.ha(Km,b));a.listen(15,&quot;click&quot;,_.ha(Km,b));a.listen(15,&quot;mousedown&quot;,Lm(_.ha(window.st,b)));a.listen(0,&quot;mouseover&quot;,Lm(_.ha(window.ss,b)));a.listen(0,&quot;focus&quot;,Lm(_.ha(window.ss,b)));a.listen(1,&quot;focus&quot;,Lm(_.ha(window.ss,b)));a.listen(1,&quot;mouseover&quot;,Lm(_.ha(window.ss,b)));return a},void 0);_.u(&quot;css&quot;,function(a,b,c,d,e){a=Im[a];_.t(a)&amp;&amp;(!_.t(a.Pq[b])||d?(d=a.Ui.length,a.Pq[b]=d,a.Ui[d]={key:b,value:c,Wn:e}):(b=a.Ui[a.Pq[b]],b.value=c,b.Wn=e))},void 0);})(window.hydra=window.hydra||{});&lt;/script&gt;&lt;script&gt;registerAd(ad, 'aw0');&lt;/script&gt; &lt;/body&gt;&lt;/html&gt;{&quot;uid&quot;:1,&quot;hostPeerName&quot;:&quot;http://www.codeproject.com&quot;,&quot;initialGeometry&quot;:&quot;{\&quot;windowCoords_t\&quot;:-8,\&quot;windowCoords_r\&quot;:1390,\&quot;windowCoords_b\&quot;:752,\&quot;windowCoords_l\&quot;:-8,\&quot;frameCoords_t\&quot;:4025,\&quot;frameCoords_r\&quot;:1188.5,\&quot;frameCoords_b\&quot;:4625,\&quot;frameCoords_l\&quot;:1028.5,\&quot;styleZIndex\&quot;:\&quot;auto\&quot;,\&quot;allowedExpansion_t\&quot;:90,\&quot;allowedExpansion_r\&quot;:160.5,\&quot;allowedExpansion_b\&quot;:0,\&quot;allowedExpansion_l\&quot;:1028.5,\&quot;xInView\&quot;:1,\&quot;yInView\&quot;:0.9066666666666666}&quot;,&quot;permissions&quot;:&quot;{\&quot;expandByOverlay\&quot;:false,\&quot;expandByPush\&quot;:false,\&quot;readCookie\&quot;:false,\&quot;writeCookie\&quot;:false}&quot;,&quot;metadata&quot;:&quot;{\&quot;shared\&quot;:{\&quot;sf_ver\&quot;:\&quot;1-0-4\&quot;,\&quot;ck_on\&quot;:1,\&quot;flash_ver\&quot;:\&quot;0\&quot;}}&quot;,&quot;reportCreativeGeometry&quot;:false,&quot;isDifferentSourceWindow&quot;:false}" title="3rd party ad content" id="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_0" src="Android%20Connectivity%20-%20CodeProject_files/container.htm" style="border: 0px none; vertical-align: bottom;" frameborder="0" height="600" width="160"></iframe></div><iframe src="javascript:&quot;<html><body style='background:transparent'></body></html>&quot;" style="border: 0px none; vertical-align: bottom; visibility: hidden; display: none;" marginheight="0" marginwidth="0" scrolling="no" name="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_0__hidden__" title="" id="google_ads_iframe_/6839/lqm.codeproject.site/mobile-development/android/android-tutorial-contest_0__hidden__" frameborder="0" height="0" width="0"></iframe><input style="z-index: 1000; position: relative; left: 0px; top: -600px; margin-top: 0px; margin-left: 0px; display: block; font-size: 0px; border: 0px none; padding: 0px; height: 14px; width: 14px;" title="Report Ad" src="Android%20Connectivity%20-%20CodeProject_files/undo.png" align="left" type="image"></div><div style="display: none; width: 160px; height: 600px; z-index: 100; text-align: left; border-style: solid; border-width: 1px; position: relative; background-color: white; box-sizing: border-box; top: 0px; left: 0px;"><input style="z-index: 1000; position: relative; left: 0px; top: 0px; width: 14px; height: 14px; margin-top: 0px; margin-left: 0px; font-size: 0px; display: block; padding: 0px; border: 0px none;" title="Show Ad" src="Android%20Connectivity%20-%20CodeProject_files/redo.png" type="image"><div class="sendReportContainer" style="padding: 20px 15px; display:block"><div style="padding-bottom:20px; display:block; font:14px/18px &quot;Segoe UI&quot;, Arial;"><b>Don't like this Ad?</b></div><div class="dropzone" style="height:180px; width: 130px; margin-top:20px; margin-bottom: 20px; background-color:lightgray; border-style:dotted; border-color:black; border-radius: 5px; border-width: 2px; text-align: center; box-sizing:border-box; white-space:normal" contenteditable="true">1. Hit the refresh icon to show the ad again so you can take a screenshot <br><br>2. Drag and Drop or paste the screenshot here</div><div style="padding-bottom:10px; padding-top: 10px display:block; font:14px/18px &quot;Segoe UI&quot;, Arial;"> <select class="reportReason" style="max-width:150px !important"><option selected="selected">Offensive</option><option>Abusive</option><option>Off topic</option><option>Don't like the Ad</option><option>Wrong language</option></select></div><div style="font:14px/18px &quot;Segoe UI&quot;, Arial;"><input disabled="disabled" class="reportButton" padding="0px" value="Report" type="button"></div></div><div class="reportSentContainer" style="display:none; padding: 15px 20px; font:14px/18px &quot;Segoe UI&quot;, Arial;"><span style="color:#999;">Thank you for the report!</span></div><a href="http://www.developermedia.com/" target="_blank"><img src="Android%20Connectivity%20-%20CodeProject_files/dm-logo-150x23.png" style="max-width:120px;position:absolute; right:20px; bottom:20px;"></a></div></div>
				    </div>

                    

				    

				    

				    

                    <div class="anchorLink gototop" id="gototop">
                        <a id="ctl00_GoToTop" href="http://www.codeproject.com/Articles/814814/Android-Connectivity#_articleTop">Go to top</a>
                    </div>

				</div>

			</div>
		</td>
		</tr></tbody></table>

		
		<div class="theme1-background" style="height:2px" id="stickyStop"></div>

		<div class="extended tiny-text">
			<div class="row">
				<div class="float-left">
					<a id="ctl00_PermaLink" itemprop="url" href="http://www.codeproject.com/Articles/814814/Android-Connectivity">Permalink</a> | 
					<a id="ctl00_AdvertiseLink" href="http://developermedia.com/">Advertise </a> |
					<a id="ctl00_PrivacyLink" href="http://www.codeproject.com/info/privacy.aspx">Privacy</a> |
                    <a id="ctl00_TermsOfUseLink" href="http://www.codeproject.com/info/TermsOfUse.aspx">Terms of Use</a> |
					<a id="ctl00_Mobile">Mobile</a>
					<br>
								
					
					Web02 |
					2.8.160826.1 |
					Last Updated 14 Sep 2014								
				</div>

                <div id="ctl00_GoogleTranslate" class="translate float-left"><div style="" dir="ltr" class="skiptranslate goog-te-gadget"><div class="goog-te-gadget-simple" style="white-space: nowrap;" id=":0.targetLanguage"><img style="background-image: url(&quot;https://translate.googleapis.com/translate_static/img/te_ctrl3.gif&quot;); background-position: -65px 0px;" alt="" class="goog-te-gadget-icon" src="Android%20Connectivity%20-%20CodeProject_files/cleardot.gif"><span style="vertical-align: middle;"><a href="javascript:void(0)" class="goog-te-menu-value" role="menu"><span>Select Language</span><img alt="" src="Android%20Connectivity%20-%20CodeProject_files/cleardot.gif" height="1" width="1"><span style="border-left: 1px solid rgb(187, 187, 187);">​</span><img alt="" src="Android%20Connectivity%20-%20CodeProject_files/cleardot.gif" height="1" width="1"><span style="color: rgb(155, 155, 155);">▼</span></a></span></div></div></div>      

				<div class="float-right align-right">
					Article Copyright 2014 by Peter Leow<br>Everything else
					Copyright © <a href="mailto:webmaster@codeproject.com">CodeProject</a>, 1999-2016 <br>
				</div>

				


<div class="page-width">
Layout: <a id="ctl00_PageWidth_FixedT" title="Fixed width layout" rel="nofollow" class=" active" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?PageFlow=FixedWidth">fixed</a>
|
<a id="ctl00_PageWidth_FluidT" title="Fluid layout" rel="nofollow" href="http://www.codeproject.com/Articles/814814/Android-Connectivity?PageFlow=Fluid">fluid</a>
</div>



			</div>
		</div>
		

		<br clear="all">
		
			

	</div> 
	</div>
</div>


<img id="ctl00_Audience" src="Android%20Connectivity%20-%20CodeProject_files/DFPAudiencePixel.gif" style="border-width:0px;height:1px;width:1px;">



<script type="text/javascript" language="Javascript" src="Android%20Connectivity%20-%20CodeProject_files/article.js"></script>
<script type="text/javascript" language="Javascript" src="Android%20Connectivity%20-%20CodeProject_files/element.js"></script>
<script type="text/javascript" language="Javascript" src="Android%20Connectivity%20-%20CodeProject_files/navbar.js"></script>
<script type="text/javascript" language="Javascript" src="Android%20Connectivity%20-%20CodeProject_files/Notifications.js"></script>
<script type="text/javascript" language="Javascript">//<![CDATA[
$(document).ready(function () { processCodeBlocks.Initialise('#contentdiv'); });
function googleTranslateElementInit() {  new google.translate.TranslateElement({   pageLanguage: 'en',   layout: google.translate.TranslateElement.InlineLayout.SIMPLE,   autoDisplay: false,   gaTrack: true,   gaId: 'UA-1735123-1'},  'ctl00_GoogleTranslate');}
$(document).ready(function() { anchorAnimate();
$('#RHSticky').sticky($('#stickyStop'));
$('#ctl00_Nav').sticky($('#stickyStop'));
});
$(document).ready(function() {   $('.alert-bar').fadeIn('slow');   $('.alert-bar a.close-notify').click(function() {      $('.alert-bar').fadeOut('fast');        return false;    });});
$(function ()
                {
                    $('.oauth').click(function () {
                        $this = $(this);
                        href = $this.attr('href');
                        var myWindow = window.open(href, 'popup',
                                    'width=800,height=600,location=0,menubar=0,resizeable=0,scrollbars=0,toolbar=0');
                        myWindow.focus();
                        var timer = setInterval(function () {
                                        if (myWindow.closed) {
                                            clearInterval(timer);
                                            // window.location.reload(); // May do a POST reload, shows a warning
                                            window.location = window.location; // force a GET reload
                                        }
                                    }, 200);
                        return false;
                    });
                });
var oSrchFlt = false, oSrchBox=false,srchBoxFoc=false;
$(document).ready(function() {
 if(InitWatermark)InitWatermark('sb_tb', 'Search for articles, questions, tips');
 var sbar = $('#sb_tb'); 
 var sfilter = $('#SearchFilter');
 if (sbar && sfilter) {
  sfilter.removeClass('popup'); sfilter.hide(); sfilter.removeClass('open');
  sbar.blur(function() {
 if (!oSrchFlt) {sfilter.hide(); sfilter.removeClass('open');}
 srchBoxFoc=false;
 });
  sbar.focus(function() {
 oSrchFlt=false; srchBoxFoc=true;
 sfilter.show(); sfilter.addClass('open');
 });
  sbar.mouseleave(function() { oSrchBox=false; });
  sbar.mouseover(function() { oSrchBox=true; });
  sfilter.mouseleave(function() { oSrchFlt=false; if (!srchBoxFoc&&!oSrchBox) { sfilter.hide(); sfilter.removeClass('open'); }});
  sfilter.mouseover(function() { oSrchFlt=true; });
 }
});
try { if (_gaq) { _gaq.push(['_setCustomVar', 1, 'Contest', 'Contest-429', 3]);_gaq.push(['_trackPageview']);}
} catch(e) {}

$('#clear-rate_ctl00_RateArticle_RSU').click(function () {    $('#ctl00_RateArticle_RSU').hide(); return false;});$("#ctl00_RateArticle_RateItemWrapper")   .removeClass("container-rating")   .hover( function() { $('#ctl00_RateArticle_RSU').fadeIn('fast'); },            function() { $('#ctl00_RateArticle_RSU').fadeOut('fast'); } );
function PostBack_ctl00_RateArticle_RateItemWrapper() {
  return rateItem(814814,2,1,true,true,0,'LargeStars');
}

                        function getVotesHistogram(objectId, objectTypeId, containerId, loadingId) {
                            if (!$('#' + containerId).attr('alreadyRequested')){
                                $.ajax({
                                    url: '/script/Ratings/Ajax/Histogram.aspx?obid=' + objectId + '&obtid='+objectTypeId,
                                    success: function (data) {
                                        $('#' + containerId).html(data);
                                        $('#' + loadingId).hide();
                                    }
                                });
                                $('#' + containerId).attr('alreadyRequested', 'true');
                            }
                        }
$(document).ready(function() {   new starRating('#ctl00_RateArticle_VoteFormDiv', PostBack_ctl00_RateArticle_RateItemWrapper,'ctl00_RateArticle');
  $('#ctl00_RateArticle_RB').mouseenter(function() {     getVotesHistogram(814814,2   ,'ctl00_RateArticle_Histogram','ctl00_RateArticle_Loading');  })})
$(document).ready(function() { $('#ctl00_RateArticle_SubmitRateBtn').hide(); });
$(document).ready(function() { $('#ctl00_RateArticle_SubmitRateBtn').hide(); });function ChkRtctl00_RateArticle(){}

forumDir = '/script/Forums/';
allowReporting = false;
allowRating = false;
allowRatingDisplay = true;
var smoothScroll = false;
Selected        = -1;
oldTitle        = document.title;
minMessageScore = 1;
minMessageScore = 5;
abuseScore      = -2;
spamScore       = -1;
getRatingUrl    = '/script/Ratings/Ajax/GetRatings.aspx';
getRatingRefKey = 'obrs';


//]]>
</script>



<canvas id="cv1" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="Android%20Connectivity%20-%20CodeProject_files/translate_24dp.png" height="20" width="20"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Original text</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Contribute a better translation</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div style="display: none;" class="status-message"></div></div><canvas id="cv2" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><iframe style="visibility: visible; box-sizing: content-box; width: 1004px; height: 274px; display: none;" class="goog-te-menu-frame skiptranslate" frameborder="0"></iframe><iframe style="display: none;" name="DMGlobalUserIdetifierIFRAME" id="DMGlobalUserIdetifierIFRAME" src="Android%20Connectivity%20-%20CodeProject_files/a.htm" height="1" width="1"></iframe><iframe style="display: none; width: 0px; height: 0px;" name="google_osd_static_frame" id="google_osd_static_frame_262320568767"></iframe></body></html>