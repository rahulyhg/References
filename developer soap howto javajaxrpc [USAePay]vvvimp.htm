<!DOCTYPE html>
<html dir="ltr" class="js desktop" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>developer:soap:howto:javajaxrpc [USAePay]</title>
    <script async="" src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/analytics.js"></script><script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki">
<meta name="robots" content="index,follow">
<meta name="date" content="2014-10-22T11:43:36-0700">
<meta name="keywords" content="developer,soap,howto,javajaxrpc">
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.usaepay.com/lib/exe/opensearch.php" title="USAePay">
<link rel="start" href="https://wiki.usaepay.com/">
<link rel="contents" href="https://wiki.usaepay.com/developer/soap/howto/javajaxrpc?do=index" title="Sitemap">
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="https://wiki.usaepay.com/feed.php">
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="https://wiki.usaepay.com/feed.php?mode=list&amp;ns=developer:soap:howto">
<link rel="alternate" type="text/html" title="Plain HTML" href="https://wiki.usaepay.com/_export/xhtml/developer/soap/howto/javajaxrpc">
<link rel="alternate" type="text/plain" title="Wiki Markup" href="https://wiki.usaepay.com/_export/raw/developer/soap/howto/javajaxrpc">
<link rel="canonical" href="https://wiki.usaepay.com/developer/soap/howto/javajaxrpc">
<link rel="stylesheet" type="text/css" href="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/css.css">
<script type="text/javascript">/*<![CDATA[*/var NS='developer:soap:howto';var JSINFO = {"id":"developer:soap:howto:javajaxrpc","namespace":"developer:soap:howto"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/js.php"></script>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="shortcut icon" href="https://wiki.usaepay.com/lib/tpl/usaepay/images/favicon.ico">
<link rel="apple-touch-icon" href="https://wiki.usaepay.com/lib/tpl/usaepay/images/apple-touch-icon.png">
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="dokuwiki site mode_show  ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="https://wiki.usaepay.com/Support" accesskey="h" title="[H]"><img src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/logo.png" alt="" width="261" height="79"> </a></h1>
            </div>

    <div class="tools group">
    	<a href="https://secure.usaepay.com/login"><img src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/login.png" alt="" width="75" height="38"></a>
    </div>
	 
    <!-- BREADCRUMBS -->
            <!-- <div class="breadcrumbs">
                                        <div class="trace"><span class="bchead">Trace:</span> <span class="bcsep">•</span> <bdi><a href="/developer/javalibrary"  class="breadcrumbs" title="developer:javalibrary">javalibrary</a></bdi> <span class="bcsep">•</span> <span class="curid"><bdi><a href="/developer/soap/howto/javajaxrpc"  class="breadcrumbs" title="developer:soap:howto:javajaxrpc">javajaxrpc</a></bdi></span></div>
                    </div> -->
    	<form action="/Support" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input name="do" value="search" type="hidden"><input id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" type="text"><input value="Search" class="button" title="Search" type="submit"><div id="qsearch__out" class="ajax_qsearch JSpopup" style="display: none;"></div></div></form>    
    <hr class="a11y">
</div></div><!-- /header -->
<div class="headings group">
	<img src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/leaf.jpg" alt="" width="968" height="100">
</div>
        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>developer:soap:howto:javajaxrpc</span></div>

                <div class="page group"> 
                                                                              <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle open" style="cursor: pointer;"><strong><span>−</span></strong>Table of Contents</h3>
<div style="">

<ul class="toc" aria-expanded="true" style="">
<li class="level1"><div class="li"><a href="#java_jax-rpc_howto">Java JAX-RPC Howto</a></div></li>
<li class="level1"><div class="li"><a href="#downloads">Downloads</a></div></li>
<li class="level1"><div class="li"><a href="#prerequisites">Prerequisites</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#installing_jax-rpc_plugin">Installing Jax-RPC Plugin</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#step_1adding_usaepayjar_to_project">Step 1: Adding USAePay.jar to Project</a></div></li>
<li class="level2"><div class="li"><a href="#step_2add_jax-rpc_library">Step 2: Add Jax-RPC Library</a></div></li>
<li class="level2"><div class="li"><a href="#step_3import_comusaepayapi_classes">Step 3: Import com.usaepay.api Classes</a></div></li>
<li class="level2"><div class="li"><a href="#step_4instantiate_client_object">Step 4: Instantiate client Object</a></div></li>
<li class="level2"><div class="li"><a href="#step_5generate_security_token">Step 5: Generate Security Token</a></div></li>
<li class="level2"><div class="li"><a href="#step_6calling_soap_method">Step 6: Calling Soap Method</a></div></li>
<li class="level2"><div class="li"><a href="#complete_example">Complete Example</a></div></li>
<li class="level2"><div class="li"><a href="#more_example">More Example</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="java_jax-rpc_howto">Java JAX-RPC Howto</h1>
<div class="level1">

<p>
The following guide demonstrates how to use the USAePay-jaxrpc.jar 
package.  This package contains a helper class for easily generating 
security tokens,  classes for all USAePay soap objects and a client 
service class for calling soap methods.  The package requires Jax-RPC 
(see prerequisites).  In this guide we include instructions on how to 
implement the jar using the NetBeans IDE.  You can still use the jar 
without NetBeans but you will need to satisfy the Jax-RPC dependancy  (<a href="#troubleshooting" title="developer:soap:howto:javajaxrpc ↵" class="wikilink1">see troubleshooting</a>).
</p>

</div>

<h1 class="sectionedit2" id="downloads">Downloads</h1>
<div class="level1">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign">File  </th><th class="col1">Version </th><th class="col2">Release Date </th><th class="col3"> Description </th>
	</tr>
	</thead>
	<tbody><tr class="row1">
		<td class="col0"><a href="https://wiki.usaepay.com/_media/developer/soap/howto/usaepayapi-jaxrpc-1.2.0.zip" class="media mediafile mf_zip" title="developer:soap:howto:usaepayapi-jaxrpc-1.2.0.zip (681.9 KB)">usaepayapi-jaxrpc-1.2.0.zip</a> </td><td class="col1">1.2.0 </td><td class="col2">8/25/09 </td><td class="col3">Zip containing the USAePay.jar and an example NetBeans project </td>
	</tr>
	<tr class="row2">
		<td class="col0"><a href="https://wiki.usaepay.com/_media/developer/soap/howto/usaepay-jaxrpc-1.2.0.jar.zip" class="media mediafile mf_zip" title="developer:soap:howto:usaepay-jaxrpc-1.2.0.jar.zip (680.3 KB)">usaepay-jaxrpc-1.2.0.jar.zip</a> </td><td class="col1">1.2.0 </td><td class="col2"> 8/25/09 </td><td class="col3">USAePay.jar by itself </td>
	</tr>
	<tr class="row3">
		<td class="col0"><a href="https://wiki.usaepay.com/_media/developer/soap/howto/main.java.zip" class="media mediafile mf_zip" title="developer:soap:howto:main.java.zip (605 B)">main.java.zip</a> </td><td class="col1"> - </td><td class="col2">8/25/09 </td><td class="col3"> Example use of USAePay.jar </td>
	</tr>
</tbody></table></div>

</div>

<h1 class="sectionedit4" id="prerequisites">Prerequisites</h1>
<div class="level1">

<p>
To follow this guide you must have:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://www.netbeans.org/" class="urlextern" title="http://www.netbeans.org/" rel="nofollow">NetBean</a></div>
</li>
<li class="level1"><div class="li"> USAePay.jar</div>
</li>
</ul>

<p>
To utilize the JAR you must have:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://java.sun.com/javase/downloads/index.jsp" class="urlextern" title="http://java.sun.com/javase/downloads/index.jsp" rel="nofollow">Java SE</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://deadlock.netbeans.org/hudson/job/nbms-and-javadoc/lastStableBuild/artifact/nbbuild/nbms/updates.xml.gz" class="urlextern" title="http://deadlock.netbeans.org/hudson/job/nbms-and-javadoc/lastStableBuild/artifact/nbbuild/nbms/updates.xml.gz" rel="nofollow">Jax-RPC</a></div>
</li>
</ul>

</div>

<h3 class="sectionedit5" id="installing_jax-rpc_plugin">Installing Jax-RPC Plugin</h3>
<div class="level3">

<p>
To utilize the RPC/Encoded version of the USAePay wsdl, which is the 
default version,  you need to install the Jax-RPC plugin for NetBeans.
</p>
<ul>
<li class="level1"><div class="li"> Select “Plugins” from the “Tools” menu</div>
</li>
<li class="level1"><div class="li"> Search for “jax”</div>
</li>
<li class="level1"><div class="li"> Select the Jax Plugin:</div>
</li>
</ul>

<p>
<a href="https://wiki.usaepay.com/_detail/developer/soap/howto/jaxrpc_selectplugin.png?id=developer%3Asoap%3Ahowto%3Ajavajaxrpc" class="media" title="developer:soap:howto:jaxrpc_selectplugin.png"><img src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/jaxrpc_selectplugin.png" class="media" alt=""></a>
</p>
<ul>
<li class="level1"><div class="li"> Click “Install”</div>
</li>
<li class="level1"><div class="li"> Follow the prompts in the Installer </div>
</li>
<li class="level1"><div class="li"> Note: If JAX-RPC is missing: Select 
“Tools” in the menu, then “Plugins”, then the “Settings” tab. Add a 
Repository with the name you choose and this <abbr title="Uniform Resource Locator">URL</abbr> : <a href="http://deadlock.netbeans.org/hudson/job/nbms-and-javadoc/lastStableBuild/artifact/nbbuild/nbms/updates.xml.gz" class="urlextern" title="http://deadlock.netbeans.org/hudson/job/nbms-and-javadoc/lastStableBuild/artifact/nbbuild/nbms/updates.xml.gz" rel="nofollow">http://deadlock.netbeans.org/hudson/job/nbms-and-javadoc/lastStableBuild/artifact/nbbuild/nbms/updates.xml.gz</a></div>
</li>
</ul>

</div>

<h2 class="sectionedit6" id="step_1adding_usaepayjar_to_project">Step 1: Adding USAePay.jar to Project</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Right click on “Libraries” within your project and choose “Add JAR/Folder”</div>
</li>
</ul>

<p>
<a href="https://wiki.usaepay.com/_detail/developer/soap/howto/jaxrpc_add_jar.png?id=developer%3Asoap%3Ahowto%3Ajavajaxrpc" class="media" title="developer:soap:howto:jaxrpc_add_jar.png"><img src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/jaxrpc_add_jar.png" class="media" alt=""></a>
</p>
<ul>
<li class="level1"><div class="li"> Select the “USAePay.jar” file that was downloaded from one of the above packages</div>
</li>
<li class="level1"><div class="li"> You should now have USAePay listed under your libraries </div>
</li>
</ul>

<p>
<a href="https://wiki.usaepay.com/_detail/developer/soap/howto/jaxrpc_librarieswithusaepay.png?id=developer%3Asoap%3Ahowto%3Ajavajaxrpc" class="media" title="developer:soap:howto:jaxrpc_librarieswithusaepay.png"><img src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/jaxrpc_librarieswithusaepay.png" class="media" alt=""></a>
</p>

</div>

<h2 class="sectionedit7" id="step_2add_jax-rpc_library">Step 2: Add Jax-RPC Library</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Right click on “Libraries within your project and choose “Add Library”</div>
</li>
</ul>

<p>
<a href="https://wiki.usaepay.com/_detail/developer/soap/howto/jaxrpc_addlibrary.png?id=developer%3Asoap%3Ahowto%3Ajavajaxrpc" class="media" title="developer:soap:howto:jaxrpc_addlibrary.png"><img src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/jaxrpc_addlibrary.png" class="media" alt=""></a>
</p>
<ul>
<li class="level1"><div class="li"> Select “JAX-RPC (JWSDP 1.6)”  and click “Add Library”</div>
</li>
</ul>

<p>
<a href="https://wiki.usaepay.com/_detail/developer/soap/howto/jaxrpc_selectjax.png?id=developer%3Asoap%3Ahowto%3Ajavajaxrpc" class="media" title="developer:soap:howto:jaxrpc_selectjax.png"><img src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/jaxrpc_selectjax.png" class="media" alt=""></a>
</p>
<ul>
<li class="level1"><div class="li"> You should now have several Jax-Rpc jar files in your Libraries folder:</div>
</li>
</ul>

<p>
<a href="https://wiki.usaepay.com/_detail/developer/soap/howto/jaxrpc_librarieswithjax.png?id=developer%3Asoap%3Ahowto%3Ajavajaxrpc" class="media" title="developer:soap:howto:jaxrpc_librarieswithjax.png"><img src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/jaxrpc_librarieswithjax.png" class="media" alt=""></a>
</p>

</div>

<h2 class="sectionedit8" id="step_3import_comusaepayapi_classes">Step 3: Import com.usaepay.api Classes</h2>
<div class="level2">

<p>
In classes that are going to use the USAePay soap methods or object,  
you need to import the appropriate classes from com.usaepay.api package.
   The following will import all usaepay objects at once:
</p>
<pre class="code java"><span class="kw1">import</span> <span class="co2">com.usaepay.api.*</span><span class="sy0">;</span></pre>

</div>

<h2 class="sectionedit9" id="step_4instantiate_client_object">Step 4: Instantiate client Object</h2>
<div class="level2">

<p>
All calls to the USAePay soap servers are handled by a “client” object 
of type “UeSoapServerPortType”.  There are two ways to instantiate the 
client object.  To instantiate a client for use with the main production
 servers:
</p>
<pre class="code java"><span class="co1">// Instantiate client for production</span>
UeSoapServerPortType client <span class="sy0">=</span> usaepay.<span class="me1">getClient</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span></pre>

<p>
Alternately,  you can specify a server hostname, which will allow you to
 setup a connection to the sandbox server for testing or a backup 
datacenter (see <a href="https://wiki.usaepay.com/developer/highavailability" class="wikilink1" title="developer:highavailability">the high availability programming guide</a>).  
</p>
<pre class="code java"><span class="co1">// Instantiate client for sandbox</span>
UeSoapServerPortType client <span class="sy0">=</span> usaepay.<span class="me1">getClient</span><span class="br0">(</span><span class="st0">"sandbox.usaepay.com"</span><span class="br0">)</span><span class="sy0">;</span></pre>

</div>

<h2 class="sectionedit10" id="step_5generate_security_token">Step 5: Generate Security Token</h2>
<div class="level2">

<p>
A “token” object (of type UeSecurityToken) is required by all soap methods in the USAePay <abbr title="Application Programming Interface">API</abbr>.  It is used to identify the merchant.  
</p>
<pre class="code java"><span class="co1">// Create security token</span>
<span class="kw1">try</span><span class="br0">{</span>
    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> SourceKey<span class="sy0">=</span><span class="st0">"_Z0ji6VHHIzMR99PMgaf91FZxwC630mp"</span><span class="sy0">;</span> <span class="co1">//Test Sandbox source key</span>
    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> Pin <span class="sy0">=</span><span class="st0">"1234"</span><span class="sy0">;</span> <span class="co1">//Test Sandbox source key pin</span>
    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> ClientIP<span class="sy0">=</span><span class="st0">"10.10.10.10"</span><span class="sy0">;</span>
    UeSecurityToken token <span class="sy0">=</span> usaepay.<span class="me1">getToken</span><span class="br0">(</span>SourceKey, Pin, ClientIP<span class="br0">)</span><span class="sy0">;</span>
<span class="br0">}</span> <span class="kw1">catch</span><span class="br0">(</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+exception"><span class="kw3">Exception</span></a> e<span class="br0">)</span> <span class="br0">{</span>
&nbsp;
<span class="br0">}</span></pre>

</div>

<h2 class="sectionedit11" id="step_6calling_soap_method">Step 6: Calling Soap Method</h2>
<div class="level2">

<p>
Soap methods are called using the client object.  Below is an example 
for calling the runSale method.  For further examples see the soap api 
documentation.
</p>
<pre class="code java">TransactionRequestObject request <span class="sy0">=</span> <span class="kw1">new</span> TransactionRequestObject<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
request.<span class="me1">setAccountHolder</span><span class="br0">(</span><span class="st0">"Tester John"</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
TransactionDetail details <span class="sy0">=</span> <span class="kw1">new</span> TransactionDetail<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
details.<span class="me1">setAmount</span><span class="br0">(</span><span class="nu0">12.30</span><span class="br0">)</span><span class="sy0">;</span>
details.<span class="me1">setDescription</span><span class="br0">(</span><span class="st0">"Example Sale"</span><span class="br0">)</span><span class="sy0">;</span>
request.<span class="me1">setDetails</span><span class="br0">(</span>details<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
CreditCardData ccdata <span class="sy0">=</span> <span class="kw1">new</span> CreditCardData<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
ccdata.<span class="me1">setAvsStreet</span><span class="br0">(</span><span class="st0">"1234 Main"</span><span class="br0">)</span><span class="sy0">;</span>
ccdata.<span class="me1">setAvsZip</span><span class="br0">(</span><span class="st0">"12345"</span><span class="br0">)</span><span class="sy0">;</span>
ccdata.<span class="me1">setCardNumber</span><span class="br0">(</span><span class="st0">"4000100011112224"</span><span class="br0">)</span><span class="sy0">;</span>
ccdata.<span class="me1">setCardExpiration</span><span class="br0">(</span><span class="st0">"0919"</span><span class="br0">)</span><span class="sy0">;</span>
request.<span class="me1">setCreditCardData</span><span class="br0">(</span>ccdata<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
TransactionResponse response<span class="sy0">;</span>
&nbsp;
response <span class="sy0">=</span> client.<span class="me1">runSale</span><span class="br0">(</span>token, request<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><span class="st0">"Response: "</span> <span class="sy0">+</span> response.<span class="me1">getResult</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">+</span> <span class="st0">" RefNum: "</span> <span class="sy0">+</span> response.<span class="me1">getRefNum</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span></pre>

</div>

<h2 class="sectionedit12" id="complete_example">Complete Example</h2>
<div class="level2">

<p>
The following is a example class that puts together all of the steps above.
</p>
<pre class="code java"><span class="coMULTI">/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */</span>
&nbsp;
<span class="kw1">package</span> <span class="co2">example</span><span class="sy0">;</span>
<span class="kw1">import</span> <span class="co2">com.usaepay.api.*</span><span class="sy0">;</span>
&nbsp;
&nbsp;
<span class="co3">/**
 *
 * @author Administrator
 */</span>
<span class="kw1">public</span> <span class="kw1">class</span> Main <span class="br0">{</span>
&nbsp;
    <span class="co3">/**
     * @param args the command line arguments
     */</span>
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">(</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">[</span><span class="br0">]</span> args<span class="br0">)</span> <span class="br0">{</span>
        <span class="co1">// TODO code application logic here</span>
&nbsp;
        <span class="co1">// Instantiate client for production</span>
        UeSoapServerPortType client <span class="sy0">=</span> usaepay.<span class="me1">getClient</span><span class="br0">(</span><span class="st0">"sandbox.usaepay.com"</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// Create security token</span>
        <span class="kw1">try</span><span class="br0">{</span>
            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> SourceKey<span class="sy0">=</span><span class="st0">"_Z0ji6VHHIzMR99PMgaf91FZxwC630mp"</span><span class="sy0">;</span> <span class="co1">//Test Sandbox Source key</span>
            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> Pin <span class="sy0">=</span><span class="st0">"1234"</span><span class="sy0">;</span> <span class="co1">//Test Sandbox Source key pin</span>
            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> ClientIP<span class="sy0">=</span><span class="st0">"10.10.10.10"</span><span class="sy0">;</span>
            UeSecurityToken token <span class="sy0">=</span> usaepay.<span class="me1">getToken</span><span class="br0">(</span>SourceKey, Pin, ClientIP<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
&nbsp;
            TransactionRequestObject request <span class="sy0">=</span> <span class="kw1">new</span> TransactionRequestObject<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            request.<span class="me1">setAccountHolder</span><span class="br0">(</span><span class="st0">"Tester John"</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
            TransactionDetail details <span class="sy0">=</span> <span class="kw1">new</span> TransactionDetail<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            details.<span class="me1">setAmount</span><span class="br0">(</span><span class="nu0">12.30</span><span class="br0">)</span><span class="sy0">;</span>
            details.<span class="me1">setDescription</span><span class="br0">(</span><span class="st0">"Example Sale"</span><span class="br0">)</span><span class="sy0">;</span>
            request.<span class="me1">setDetails</span><span class="br0">(</span>details<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
            CreditCardData ccdata <span class="sy0">=</span> <span class="kw1">new</span> CreditCardData<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            ccdata.<span class="me1">setAvsStreet</span><span class="br0">(</span><span class="st0">"1234 Main"</span><span class="br0">)</span><span class="sy0">;</span>
            ccdata.<span class="me1">setAvsZip</span><span class="br0">(</span><span class="st0">"12345"</span><span class="br0">)</span><span class="sy0">;</span>
            ccdata.<span class="me1">setCardNumber</span><span class="br0">(</span><span class="st0">"4000100011112224"</span><span class="br0">)</span><span class="sy0">;</span>
            ccdata.<span class="me1">setCardExpiration</span><span class="br0">(</span><span class="st0">"0919"</span><span class="br0">)</span><span class="sy0">;</span>
            request.<span class="me1">setCreditCardData</span><span class="br0">(</span>ccdata<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
            TransactionResponse response<span class="sy0">;</span>
&nbsp;
            response <span class="sy0">=</span> client.<span class="me1">runSale</span><span class="br0">(</span>token, request<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><span class="st0">"Response: "</span> <span class="sy0">+</span> response.<span class="me1">getResult</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">+</span> <span class="st0">" RefNum: "</span> <span class="sy0">+</span> response.<span class="me1">getRefNum</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
&nbsp;
        <span class="br0">}</span> <span class="kw1">catch</span><span class="br0">(</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+exception"><span class="kw3">Exception</span></a> e<span class="br0">)</span> <span class="br0">{</span>
            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><span class="st0">"Received exception: "</span><span class="sy0">+</span> e.<span class="me1">getMessage</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
&nbsp;
    <span class="br0">}</span>
&nbsp;
<span class="br0">}</span></pre>

</div>

<h2 class="sectionedit13" id="more_example">More Example</h2>
<div class="level2">

<p>
More examples can be found in our <a href="http://wiki.usaepay.com/developer/soap-1.2/Support" class="urlextern" title="http://wiki.usaepay.com/developer/soap-1.2/Support" rel="nofollow">SOAP API documentation</a>
</p>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>developer/soap/howto/javajaxrpc.txt</bdi> · Last modified: 2014/10/22 11:43 by <bdi>yura</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y">

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <!-- <ul>
                        <li><a href="/developer/soap/howto/javajaxrpc?do=edit&amp;rev=0"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="/developer/soap/howto/javajaxrpc?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="/developer/soap/howto/javajaxrpc?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul> -->
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    
    <!-- <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="/lib/images/license/button/cc-by-nc-sa.png" alt="CC Attribution-Noncommercial-Share Alike 3.0 Unported" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="/lib/tpl/usaepay/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="/lib/tpl/usaepay/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="/lib/tpl/usaepay/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="/lib/tpl/usaepay/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="/lib/tpl/usaepay/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div> -->
</div></div><!-- /footer -->


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-4093562-2', 'usaepay.com');
  ga('send', 'pageview');

</script>

    </div></div><!-- /site -->

    <div class="no"><img src="developer%20soap%20howto%20javajaxrpc%20[USAePay]vvvimp_files/indexer.gif" alt="" width="2" height="1"></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->


</body></html>